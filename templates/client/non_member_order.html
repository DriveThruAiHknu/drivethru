<html>

<head>
    <title> í‚¤ì˜¤ìŠ¤í¬ </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/043bb5442c.js" crossorigin="anonymous"></script>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

{% load static %}
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'client/style/non_member_order_style.css' %}">


<body>

    <div class="container" id="full_content">
        <!-- ai -->
        <div class="row justify-content-center mb-4" id="bot">
            <div class="ai_img col-sm-3"></div>
            <div class="ai_txt col-sm-9">
                <h2 id="ai_say">ğŸŒ¿ì–´ì„œì˜¤ì„¸ìš”~ ìŠ¤íƒ€ë²…ìŠ¤ì…ë‹ˆë‹¤!ğŸŒ¿</h2>
            </div>
        </div>

        <!-- ì™¼ìª½ ë©”ë‰´ / ì˜¤ë¥¸ìª½ ì˜ìˆ˜ì¦-->
        <div class="row h-75">


            <!-- ì™¼ìª½ ë©”ë‰´ë“¤-->
            <div class="col-xxl-6" id="left">
                <div class="container">

                    <!-- ìµœê·¼ ì£¼ë¬¸ ë©”ë‰´-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 id="menu_txt" class="mb-3"> ì¸ê¸° ë©”ë‰´</h4>
                            <div class="row justify-content-around">
                                <!-- ìƒí’ˆ 1, 2-->

                                <!-- ìƒí’ˆ1 -->
                                {% for prod_1 in max_prod_1 %}
                                <div class="col-md-6" id="item1">
                                    <div class="image1">
                                        {% if prod_1.prod_image %}
                                        <img src="{{ prod_1.prod_image.url }}" alt="{{ prod_1.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">1</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_1_id">{{prod_1.prod_name}}
                                            {% if prod_1.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_1.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_1.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">$</button>
                                        {{prod_1.prod_price}}
                                    </h5>
                                </div>
                                {% endfor %}

                                <!-- ìƒí’ˆ2 -->
                                {% for prod_2 in max_prod_2 %}
                                <div class="col-md-6" id="item2">
                                    <div class="image2">
                                        {% if prod_2.prod_image %}
                                        <img src="{{ prod_2.prod_image.url }}" alt="{{ prod_2.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">

                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">2</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_2_id">{{prod_2.prod_name}}
                                            {% if prod_2.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_2.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_2.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            {{prod_2.prod_price}}
                                        </h5>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                    {% endfor %}


                    <!-- ìµœë‹¤ ì£¼ë¬¸ ë©”ë‰´-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 class="mt-5 mb-3" id="menu_txt">ì ì¥ ì¶”ì²œ ë©”ë‰´</h4>
                            <div class="row">
                                <!-- ìƒí’ˆ 3, 4, 5, 6-->

                                <!-- ìƒí’ˆ3 -->
                                {% for prod_3 in rcd_prod_1 %}
                                <div class="col" id="item3">
                                    <div class="image3">
                                        {% if prod_3.prod_image %}
                                        <img src="{{ prod_3.prod_image.url }}" alt="{{ prod_3.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">3</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_3_id">{{prod_3.prod_name}}
                                            {% if prod_3.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_3.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_3.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">$</button>
                                        {{prod_3.prod_price}}
                                    </h5>
                                </div>
                                {% endfor %}

                                <!-- ìƒí’ˆ4 -->
                                {% for prod_4 in rcd_prod_2 %}
                                <div class="col" id="item4">
                                    <div class="image4">
                                        {% if prod_4.prod_image %}
                                        <img src="{{ prod_4.prod_image.url }}" alt="{{ prod_4.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">4</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_4_id">{{prod_4.prod_name}}
                                            {% if prod_4.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_4.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_4.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            {{prod_4.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                                <!-- ìƒí’ˆ5 -->
                                {% for max_prod_1 in rcd_prod_3 %}
                                <div class="col" id="item5">
                                    <div class="image5">
                                        {% if max_prod_1.prod_image %}
                                        <img src="{{ max_prod_1.prod_image.url }}" alt="{{ max_prod_1.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">5</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_5_id">{{max_prod_1.prod_name}}
                                            {% if max_prod_1.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif max_prod_1.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif max_prod_1.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            {{max_prod_1.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                                <!-- ìƒí’ˆ6 -->
                                {% for max_prod_2 in rcd_prod_4 %}
                                <div class="col" id="item6">
                                    <div class="image6">
                                        {% if max_prod_2.prod_image %}
                                        <img src="{{ max_prod_2.prod_image.url }}" alt="{{ max_prod_2.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">6</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_6_id">{{max_prod_2.prod_name}}
                                            {% if max_prod_2.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif max_prod_2.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif max_prod_2.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            {{max_prod_2.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- ì˜¤ë¥¸ìª½ ì˜ìˆ˜ì¦-->
            <div class="col-xxl-6" id="right">

                <!-- receipt form -->
                <iframe name="blankifr" style='display:none;'></iframe>

                <!-- style="display: none;" -->
                <form method="post" id="receipt" target="blankifr" style="display: none;">
                    {% csrf_token %}
                    <input id="input_receipt" name="todayUserId" size=10 type="text"
                        placeholder="{{ today_user_id }}" />
                    <input id="input_receipt" name="memberId" size=10 type="number" placeholder="{{ member_id }}" />
                    <input id="input_receipt" name="receiptPrice" type="number" placeholder="0" />
                    <input id="input_receipt" name="receiptTodayId" size=10 type="number" placeholder="0" />
                    <input id="input_receipt_btn" name="input_receipt_btn" type="submit" value="í™•ì¸" />
                </form>

                <!-- item form-->
                <form method="post" id="item" target="blankifr" style="display: none; ">
                    {% csrf_token %}
                    <input id="input_item" name="receiptId" type="number" placeholder="0" />
                    <input id="input_item" name="prodId" type="number" placeholder="0" />
                    <input id="input_item" name="itemQuantity" type="number" placeholder="0" />
                    <input id="input_item" name="itemSize" type="number" placeholder="0" />
                    <input id="input_item" name="itemPrice" type="number" placeholder="0" />
                    <input id="input_item" name="itemHotCold" type="number" placeholder="0" />
                    <input id="input_item" name="itemCafAmount" type="number" placeholder="0" />
                    <input id="input_item" name="itemSyrup" type="number" placeholder="0" />
                    <input id="input_item" name="itemShot" type="number" placeholder="0" />
                    <input id="input_item" name="itemMilk" type="number" placeholder="0" />
                    <input id="input_item" name="itemWhip" type="number" placeholder="0" />
                    <input id="input_item" name="itemJavaChip" type="number" placeholder="0" />
                    <input id="input_item" name="itemDriz" type="number" placeholder="0" />
                    <input id="input_item_btn" name="input_item_btn" type="submit" value="í™•ì¸" />
                </form>

                <!-- ì‹¤ì œ ì˜ìˆ˜ì¦ ë‚´ìš©-->
                <h4 id="menu_txt" class="mb-3">ì£¼ë¬¸ ëª©ë¡</h4>
                <div class="container-fluid" id="menu_table">
                    <table>

                        <tr>
                            <div class="row" id="title">
                                <div class="col-xl-8">
                                    <h3 class="text-center">ì£¼ë¬¸í•˜ì‹  ë©”ë‰´</h3>
                                </div>
                                <div class="col-xl-2">
                                    <h3 class="text-center">ìˆ˜ëŸ‰</h3>
                                </div>
                                <div class="col-xl-2">
                                    <h3 class="text-center">ê°€ê²©</h3>
                                </div>
                            </div>

                        </tr>

                        <div id="content"></div>

                    </table>
                    <div class="row" id="menu_table_end">
                        <div class="col-md-6 text-center" id="border3">
                            <h3 id="total_txt">ì£¼ë¬¸ ê¸ˆì•¡</h3>
                        </div>
                        <div class="col-md-6 text-center" id="border2">
                            <h3 id="total_real">0 ì›</h3>
                        </div>
                    </div>


                </div>
            </div>
        </div>

    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.min.js"></script>

    <script>


        /* ë©”ì¸ */
        var morpheme_list = new Array(); //í˜•íƒœì†Œ ë¦¬ìŠ¤íŠ¸ ì €ì¥
        var morpheme_copy = new Array(); //ë‹´ê³  ë¹¼ì„œ ì“°ê¸°
        var before_list = new Array(); //ì£¼ë¬¸ ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
        var user_op_list = new Array();
        var after_list = new Array(); //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
        var after_db_list = new Array(); //ì‹¤ì œ DB ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ì˜ìˆ˜ì¦ ë²ˆí˜¸, ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
        var id_list = new Array(); //ìƒí’ˆ idë§Œ ë‹´ì€ ë¦¬ìŠ¤íŠ¸
        var category_list = new Array(); //ì¹´í…Œê³ ë¦¬ë§Œ ë‹´ì€ ë¦¬ìŠ¤íŠ¸
        var submit_list = new Array(); //ì•„ì´í…œ ì œì¶œì‹œ ë¦¬ìŠ¤íŠ¸
        var forms_list = new Array(); //forms_txt ë¦¬ìŠ¤íŠ¸


        var category = "";
        var txt = document.getElementById("ai_say");
        var forms = document.getElementById("content");
        var forms_txt = '';
        var real_forms = '';
        var total_real = document.getElementById("total_real");
        var modalContent = document.getElementById("modalContent");
        var left = document.getElementById("left");
        var right = document.getElementById("right");

        var price_list = new Array(); //ìƒí’ˆ 1ê°œ ê°€ê²©*ìˆ˜ëŸ‰ + ì˜µì…˜
        var morpheme_str = "";
        var menu_cnt = 0;
        var menu_price = 0;
        var total_price = 0;

        /* ì •ìˆ˜ì¸ì§€ íŒë³„ */
        function isInteger(value) {
            return typeof value === 'number' &&
                isFinite(value) &&
                Math.floor(value) === value;
        };


        txt.innerHTML = "ğŸŒ¿ì–´ì„œì˜¤ì„¸ìš”~ ìŠ¤íƒ€ë²…ìŠ¤ì…ë‹ˆë‹¤!ğŸŒ¿";

        window.onload = function () {
            setTimeout(() => {
                order();
            }, 1000);
        }

        /* ë°ì´í„°ë² ì´ìŠ¤ ê°€ì ¸ì˜¤ê¸° */
        var db_str = '{{ prods|escapejs }}';
        var db_list = db_str.slice(1, -1);
        db_list = db_list.split('),');

        //ë°ì´í„°ë² ì´ìŠ¤ - ì „ì²´(db)
        var db = new Array();
        for (var i = 0; i < db_list.length; i++) {
            db.push(db_list[i].replace(/\'|\"|\(|\)| /g, "").split(','));
        }

        //ë°ì´í„°ë² ì´ìŠ¤ - ë©”ë‰´(db_menu)
        var db_menu = new Array();
        for (var j = 0; j < db.length; j++) {
            db_menu.push(db[j][2]);
        }

        //ë°ì´í„°ë² ì´ìŠ¤ - ê°€ê²©(db_price)
        var db_price = new Array();
        for (var k = 0; k < db.length; k++) {
            db_price.push(db[k][3]);
        }

        /* fetchë¡œ viewì— ìˆëŠ” ë¶„ì„ê¸°ë¡œ ë¬¸ì¥ ë³´ë‚´ëŠ” í•¨ìˆ˜ */
        function stem_analyzer(resText) {
            var url = "http://localhost:8000/client/analyzer?resText=" + resText
            return fetch(url, {
                headers: { 'Content-Type': 'application/json; charset=utf-8' },
                body: JSON.stringify(this.obj)
            }).then(response => response.json())
                .then(res => {//console.log("ê°ì²´",res);
                    var str = JSON.stringify(res);
                    var str_slice = str.slice(1, -1).replace(/\'|\"|\\/g, '');
                    str_slice = str_slice.split(',');
                    morpheme_list = str_slice;
                    morpheme_str = str_slice;
                    //console.log('ë¦¬ìŠ¤íŠ¸:', morpheme_list);
                    //console.log('ë¬¸ì:', morpheme_str);
                    return morpheme_str;
                })
        }

        /* ì‹¤ì œ ë¹„ë™ê¸° ì²˜ë¦¬ ì½”ë“œ */
        async function order() {
            var audio_once = false; //í•œë²ˆì´ë¼ë„ ì£¼ë¬¸í–ˆëŠ”ì§€

            try {

                var audio1 = await tts("ì–´ì„œì˜¤ì„¸ìš”. ìŠ¤íƒ€ë²…ìŠ¤ì…ë‹ˆë‹¤!");

                txt.innerHTML = "<p style='margin-top: -0.2em;'>ì£¼ë¬¸ì„ ì›í•˜ì‹œëŠ” ë²ˆí˜¸ë‚˜ <span style='text-decoration: underline;'>ë©”ë‰´</span>ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”ğŸ’š\
                <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>ğŸ’¡TIPğŸ’¡ ë©”ë‰´ëª… â–¶ï¸ ì˜µì…˜ â–¶ï¸ ìˆ˜ëŸ‰ ìˆœì„œë¡œ í•œ ë¬¸ì¥ì„ ë˜ë°•ë˜ë°• ë§í•´ì£¼ì„¸ìš”!</h5></p>";
                var audio2 = await tts("ì£¼ë¬¸ì„ ì›í•˜ì‹œëŠ” ë©”ë‰´ë¥¼ ë²ˆí˜¸ë‚˜, ë©”ë‰´ëª…, ì˜µì…˜, ìˆ˜ëŸ‰ ìˆœì„œë¡œ ë§ì”€í•´ì£¼ì„¸ìš”!");

                txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">ğŸ”´</span><span class="circle"> ì¸ì‹ ì¤‘</span></p>\
                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(ì˜ˆ) ì¹´í‘¸ì¹˜ë…¸ ë°”ë‹ë¼ ì‹œëŸ½ 2ë²ˆ, ë””ì¹´í˜ì¸ìœ¼ë¡œ í•œì” ì£¼ì„¸ìš”.</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                var audio_once = true;

                while (true) {
                    if (audio_once) // ì£¼ë¬¸í•œì  X
                    {
                        console.log("ì£¼ë¬¸í•œ ì  X");
                        var stt1 = await speech_to_text();

                        if (stt1.length > 1) //í•œ ê¸€ì ì´ìƒ ë“¤ì–´ì˜¤ë©´
                        {
                            /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                            var stt_morpheme = await stem_analyzer(stt1);
                            //console.log("return: ",stt_morpheme); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜
                            console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜]


                            // ì—†ì• ê³  ì‹¶ì€ ë¬¸ìì—´ ì§€ì •
                            for (var i = 0; i < morpheme_list.length; i++) {
                                if (morpheme_list[i] == 'ë²ˆ') {
                                    morpheme_list.splice(i, 1);
                                    i++;
                                }
                            }
                            console.log('ë²ˆ ì—†ì•¤ ë¬¸ìì—´: ', morpheme_list);
                            morpheme_copy = morpheme_list.slice();
                            //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜



                            /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
                            out: for (var x = 0; x < morpheme_list.length; x++) {
                                inn: for (var y = 0; y < db_menu.length; y++) {
                                    if (morpheme_list[x] == db_menu[y]) {
                                        console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                                        txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                        category = db[y][1];
                                        category_list.push(db[y][1]);

                                        //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                                        if (y > 36) {
                                            id_list.push(y + 2);
                                        }
                                        else {
                                            id_list.push(y + 1);
                                        }

                                        morpheme_copy.splice(x, 1);
                                        break inn;
                                    }
                                }
                                break out;
                            }

                            /* ë©”ë‰´ ìˆëŠ”ì§€ í™•ì¸ */

                            if (before_list.length < 1) {
                                console.log('ë©”ë‰´ ì¸ì‹ ëª»í•¨');
                                while (before_list.length == 0) { //ë©”ë‰´ ì¸ì‹ë˜ì„œ before_listì— ë­ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ê³„ì† ë°˜ë³µ
                                    txt.innerHTML = "ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!";
                                    var audio2 = await tts("ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!");

                                    txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">ğŸ”´</span><span class="circle"> ë…¹ìŒ ì¤‘</span></p>\
                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(ì˜ˆ) ì¹´í‘¸ì¹˜ë…¸ ë°”ë‹ë¼ ì‹œëŸ½ 2ë²ˆ, ë””ì¹´í˜ì¸ìœ¼ë¡œ í•œì” ì£¼ì„¸ìš”.</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                                    var stt1 = await speech_to_text();

                                    if (stt1.length > 1) //í•œ ê¸€ì ì´ìƒ ë“¤ì–´ì˜¤ë©´
                                    {

                                        /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                                        var stt_morpheme = await stem_analyzer(stt1);
                                        //console.log("return: ",stt_morpheme); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜
                                        console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜]
                                        morpheme_copy = morpheme_list.slice();
                                        //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜

                                        /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
                                        outer: for (var x = 0; x < morpheme_list.length; x++) {
                                            inner: for (var y = 0; y < db_menu.length; y++) {
                                                if (morpheme_list[x] == db_menu[y]) {
                                                    console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                                                    txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                                    //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                                    before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                                    category = db[y][1];
                                                    category_list.push(db[y][1]);


                                                    //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                                                    if (y > 36) {
                                                        id_list.push(y + 2);
                                                    }
                                                    else {
                                                        id_list.push(y + 1);
                                                    }

                                                    morpheme_copy.splice(x, 1);
                                                    break inner;
                                                }
                                            }
                                            break outer;
                                        }
                                    }
                                }
                            }




                            /* ì‚¬ìš©ìê°€ ë§í•œ ì˜µì…˜ */
                            var user_hot_cold = "";
                            var user_caf_amount = "";
                            var user_syrup = "";
                            var user_shot = "";
                            var user_milk = "";
                            var user_whip = "";
                            var user_java_chip = "";
                            var user_driz = "";
                            var user_sales_rate = "";
                            var user_size = "";

                            //ë©”ë‰´ ì´ë¦„ ì™¸ì— ì•„ë¬´ê²ƒë„ ë§ ì•ˆí–ˆì„ ë• ì•„ë˜ forë¬¸ì— ì•ˆ ë“¤ì–´ê° ã… ã… ã… ã… 
                            if (morpheme_copy.length == 0) {
                                //1. hot_cold ì •í•´ì£¼ê¸°
                                if ((user_hot_cold == "") && (category != "BAKERY")) {
                                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                                        user_hot_cold = "H";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                        user_hot_cold = "C";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                        //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                                        user_hot_cold = "C";
                                    }
                                }

                                //2. size ì •í•´ì£¼ê¸°
                                user_size = "S";
                            }

                            //ë©”ë‰´ ì´ë¦„, ìˆ˜ëŸ‰ (ì ì–´ë„ 2ê°œ ì´ìƒ ë§í–ˆì„ ë•Œ)
                            for (var z = 0; z < morpheme_copy.length; z++) {

                                /* ì‚¬ìš©ìê°€ ë§í•œ ë©”ë‰´ ì˜µì…˜!! */
                                //!!!!!!!!!!!!!!!!! ë‚˜ì¤‘ì— ì„ë² ë”© ì—°ê²°í•˜ë©´ case ê°’ ë°”ê¾¸ê¸°
                                console.log('========================================' + z + 'ë²ˆì§¸==================================');
                                console.log('ë‹¨ì–´: ' + morpheme_copy[z]);
                                console.log('ì´ë¦¬ìŠ¤íŠ¸: ' + morpheme_copy);
                                console.log('ê¸¸ì´: ' + morpheme_copy.length);

                                //0. ì‚¬ì´ì¦ˆ
                                if (morpheme_copy[z] == 'ìˆ') {
                                    user_size = "S";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'í†¨') {
                                    user_size = "T";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ê·¸ë€ë°') {
                                    user_size = "G";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ì•„ë¬´ ê°’ë„ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’
                                if (user_size == "") {
                                    user_size = "S";
                                }

                                //1. ì˜¨ë„
                                if (morpheme_copy[z] == 'í•«') {
                                    user_hot_cold = "H";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ì•„ì´ìŠ¤') {
                                    user_hot_cold = "C";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //í•«
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                                    user_hot_cold = "H";
                                }
                                else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ì½œë“œ
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                                    user_hot_cold = "C";
                                }

                                //ì•„ë¬´ ê°’ë„ ì•ˆë“¤ì–´ì˜¤ë©´
                                if (user_hot_cold == "") {
                                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                                        user_hot_cold = "H";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                        user_hot_cold = "C";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                        //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                                        user_hot_cold = "C";
                                    }
                                }

                                //2. ì¹´í˜ì¸ ì¡°ì ˆ
                                if (morpheme_copy[z] == 'ì¹´í˜ì¸') {
                                    user_caf_amount = 'CC';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ë””ì¹´í˜ì¸') {
                                    user_caf_amount = 'CD';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if ((morpheme_copy[z].indexOf('í•˜í”„') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                                    user_caf_amount = 'CH';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //ì¹´í˜ì¸ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {

                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì¹´í˜ì¸</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_caf_amount = "";
                                }


                                //3. ì‹œëŸ½ ì¡°ì ˆ
                                if (morpheme_copy[z].indexOf('ì‹œëŸ½') >= 0) {

                                    //3-1. ì‹œëŸ½ > ë°”ë‹ë¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                                    if ((morpheme_copy[z + 1] == 'ë°”ë‹ë¼') || (morpheme_copy[z + 1] == 'ë°”ë‹ë¼ì‹œëŸ½')) {

                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // ìˆ«ì - ì‹œëŸ½ - ë°”ë‹ë¼ 
                                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("në²ˆ ì‹œëŸ½ ë°”ë‹ë¼");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ì‹œëŸ½ - ë°”ë‹ë¼ - ìˆ«ì
                                            user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ì‹œëŸ½ ë°”ë‹ë¼ në²ˆ");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ì‹œëŸ½ - ë°”ë‹ë¼ (ìˆ«ì ì—†ìŒ)
                                            user_syrup = 'B2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ì‹œëŸ½ ë°”ë‹ë¼ ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }

                                    /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                    //3-2. ì‹œëŸ½ > í—¤ì´ì¦ë„›ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                                    else if ((morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›') || (morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›ì‹œëŸ½')) {
                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // ìˆ«ì - ì‹œëŸ½ - í—¤ì´ì¦ë„› 
                                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("në²ˆ ì‹œëŸ½ í—¤ì´ì¦ë„›");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ì‹œëŸ½ - í—¤ì´ì¦ë„› - ìˆ«ì
                                            user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› në²ˆ");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ì‹œëŸ½ - í—¤ì´ì¦ë„› (ìˆ«ì ì—†ìŒ)
                                            user_syrup = 'H2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }

                                    //3-3. ì‹œëŸ½ > ì¹´ë¼ë©œë¡œ í˜•íƒœì†Œ ë¶„ì„
                                    else if ((morpheme_copy[z + 1] == 'ì¹´ë¼ë©œ') || (morpheme_copy[z + 1] == 'ì¹´ë¼ë©œì‹œëŸ½')) {
                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // ìˆ«ì - ì‹œëŸ½ - ì¹´ë¼ë©œ
                                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("në²ˆ ì‹œëŸ½ ì¹´ë¼ë©œ");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ì‹œëŸ½ - ì¹´ë¼ë©œ - ìˆ«ì
                                            user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ì‹œëŸ½ ì¹´ë¼ë©œ në²ˆ");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ì‹œëŸ½ - ì¹´ë¼ë©œ (ìˆ«ì ì—†ìŒ)
                                            user_syrup = 'C2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ì‹œëŸ½ ì¹´ë¼ë©œ ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }

                                    //3-4. ë°”ë‹ë¼ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ë°”ë‹ë¼ì‹œëŸ½)
                                    else if (morpheme_copy[z] == 'ë°”ë‹ë¼ì‹œëŸ½') {

                                        //ìˆ«ì - ë°”ë‹ë¼ - ì‹œëŸ½
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("në²ˆ ë°”ë‹ë¼ì‹œëŸ½");
                                            continue;
                                        }
                                        //ë°”ë‹ë¼ - ì‹œëŸ½ - ìˆ«ì
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ë°”ë‹ë¼ì‹œëŸ½ në²ˆ");
                                            continue;
                                        }
                                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'B2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ë°”ë‹ë¼ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }

                                    /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                    //3-5. í—¤ì´ì¦ë„› > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (í—¤ì´ì¦ë„›ì‹œëŸ½)
                                    else if (morpheme_copy[z] == 'í—¤ì´ì¦ë„›ì‹œëŸ½') {

                                        //ìˆ«ì - í—¤ì´ì¦ë„› - ì‹œëŸ½
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("në²ˆ í—¤ì´ì¦ë„›ì‹œëŸ½");
                                            continue;
                                        }
                                        //í—¤ì´ì¦ë„› - ì‹œëŸ½ - ìˆ«ì
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ në²ˆ");
                                            continue;
                                        }
                                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'H2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }


                                    //3-6. ì¹´ë¼ë©œ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ì¹´ë¼ë©œì‹œëŸ½)
                                    else if (morpheme_copy[z] == 'ì¹´ë¼ë©œì‹œëŸ½') {

                                        //ìˆ«ì - ì¹´ë¼ë©œ - ì‹œëŸ½
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("në²ˆ ì¹´ë¼ë©œì‹œëŸ½");
                                            continue;
                                        }
                                        //ì¹´ë¼ë©œ - ì‹œëŸ½ - ìˆ«ì
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ì¹´ë¼ë©œì‹œëŸ½ në²ˆ");
                                            continue;
                                        }
                                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'C2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ì¹´ë¼ë©œì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                            continue;
                                        }
                                    }

                                    //3-7. ì‹œëŸ½ ì¢…ë¥˜ ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆí–ˆì„ ë•Œ
                                    else {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + "ì´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                                        await delay(2000);
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ì‹œëŸ½ ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                                        continue;
                                    }
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ì‹œëŸ½ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_syrup = "";
                                }


                                /* í˜•íƒœì†Œ (ìƒ· ì¸ì‹ ë¶ˆì•ˆì • / ì£¼ë¬¸ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ë‹¤ì‹œ ì•Œì•„ë³´ê³  í•˜ê¸°) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                //4. ìƒ· ì¡°ì ˆ -> ì„, ê²” ë‚˜ì¤‘ì— í˜•íƒœì†Œ ì ìš©ë˜ë©´ ì—†ì• ê¸°
                                if ((morpheme_copy[z].indexOf('ìƒ·') >= 0) || (morpheme_copy[z].indexOf('ì„') >= 0) || (morpheme_copy[z].indexOf('ê²”') >= 0) || (morpheme_copy[z].indexOf('ì‰') >= 0)) {

                                    //ìˆ«ì - ìƒ·
                                    if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                        morpheme_copy.splice(z - 1, 2);
                                        z--;
                                        console.log("në²ˆ ìƒ·");
                                        continue;
                                    }

                                    //ìƒ· - ìˆ«ì
                                    else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ìƒ· në²ˆ");
                                        continue;
                                    }

                                    //ìˆ«ì ë§ ì•ˆí•˜ë©´
                                    else {
                                        user_shot = 'S1';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ìƒ· ì„ íƒ ì•ˆí•¨");
                                        continue;
                                    }
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ìƒ· ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìƒ·</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_shot = "";
                                }


                                //5. ìš°ìœ  ì¡°ì ˆ

                                if (morpheme_copy[z].indexOf('ìš°ìœ ') >= 0) {

                                    // ìš°ìœ ê°€ ì•ì— ìˆì„ ë•Œ
                                    if ((morpheme_copy[z + 1].indexOf('ì €ì§€ë°©') >= 0)) {
                                        //1. ìš°ìœ  - ì €ì§€ë°©(ìš°ìœ )
                                        user_milk = 'ML';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z + 1].indexOf('ë¬´ì§€ë°©') >= 0)) { //indexOf í¬í•¨ ë¬¸ìì—´ ìˆìœ¼ë©´ í•´ë‹¹ ì¸ë±ìŠ¤, ì—†ìœ¼ë©´ -1 ë°˜í™˜
                                        //2. ìš°ìœ  - ë¬´ì§€ë°©(ìš°ìœ )
                                        user_milk = 'MN';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z + 1].indexOf('ë‘ìœ ') >= 0)) {
                                        //3. ìš°ìœ  - ë‘ìœ 
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    //ìš°ìœ ê°€ ë’¤ì— ìˆì„ ë•Œ
                                    else if ((morpheme_copy[z].indexOf('ì €ì§€ë°©') >= 0)) {
                                        //5. ì €ì§€ë°© - ìš°ìœ 
                                        user_milk = 'ML';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ë¬´ì§€ë°©') >= 0)) {
                                        //6. ë¬´ì§€ë°© - ìš°ìœ 
                                        user_milk = 'MN';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ë‘ìœ ') >= 0)) {
                                        //7. ë‘ìœ  - ìš°ìœ 
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    //ë‘ìœ ë‘ ì˜¤íŠ¸ëŠ” ë©”ë‰´ë‘ë„ ê²¹ì¹˜ëŠ” ë¶€ë¶„ ìˆì–´ì„œ ë’¤ë¡œ ë¯¸ë£¸
                                    else if ((morpheme_copy[z + 1].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸') >= 0)) {
                                        //4. ìš°ìœ  - ê·€ë¦¬ / ì˜¤íŠ¸ (ìš°ìœ )
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 2);
                                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë¨¼ì € ë‚˜ì˜´");
                                        console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                                        console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                                        z--;
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                                        //8. ê·€ë¦¬ / ì˜¤íŠ¸ - ìš°ìœ 
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 1);
                                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë‚˜ì¤‘ ë‚˜ì˜´");
                                        console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                                        console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                                        z--;
                                        continue;
                                    }
                                    else {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + "ê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                                        await delay(2000);
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ìš°ìœ  ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                                        continue;
                                    }
                                }
                                else {
                                    //ë‘ìœ ë‚˜ ê·€ë¦¬/ì˜¤íŠ¸ëŠ” ë”°ë¡œ ìš°ìœ  ë§ ì•ˆí•˜ê³  ë°”ê¿€ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œ ë”°ë¡œ ë¹¼ì¤Œ
                                    if (morpheme_copy[z].indexOf('ë‘ìœ ') >= 0) {
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ìš°ìœ  ì„ íƒ");
                                        continue;
                                    }
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //ìš°ìœ  ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_milk = "";
                                }


                                //6. íœ˜í•‘ ì¡°ì ˆ
                                if (morpheme_copy[z].indexOf('íœ˜í•‘') >= 0) {

                                    //ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘ì¸ì§€ ê·¸ëƒ¥ íœ˜í•‘ì¸ì§€

                                    //1. ì—ìŠ¤í”„ë ˆì†Œ-íœ˜í•‘
                                    if (morpheme_copy[z].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                                        user_whip = 'EW';

                                        //2-1. ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘
                                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                            //ë§
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                            continue;
                                        }
                                        //2-2. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘
                                        else if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                            continue;
                                        }
                                        //2-3. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘ ì—†ìŒ
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                                            continue;
                                        }
                                    }
                                    //3. íœ˜í•‘ - ì—ìŠ¤í”„ë ˆì†Œ
                                    else if (morpheme_copy[z + 1].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                                        user_whip = 'EW';

                                        //2-1. ì–‘-íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ
                                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                            //ë§
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                            continue;
                                        }
                                        //2-2. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘
                                        else if (morpheme_copy[z + 2].indexOf('ë§') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 2].indexOf('ì ') >= 0) || (morpheme_copy[z + 2].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 2].indexOf('ì•½ê°„') >= 0)) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                            continue;
                                        }
                                        //2-3. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘ ì—†ìŒ
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                                            continue;
                                        }
                                    }

                                    //4. ì¼ë°˜ íœ˜í•‘
                                    else {
                                        user_whip = 'W';

                                        //1. íœ˜í•‘-ì–‘
                                        if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ì¼ë°˜íœ˜í•‘-ë§');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ì¼ë°˜íœ˜í•‘-ì ');
                                            continue;
                                        }
                                        //2. ì–‘-íœ˜í•‘
                                        else if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('ë§-ì¼ë°˜íœ˜í•‘');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                            //ì 
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('ì -ì¼ë°˜íœ˜í•‘');
                                            continue;
                                        }
                                        //3. íœ˜í•‘-ì–‘ ì—†ìŒ
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log('ì¼ë°˜íœ˜í•‘-ì–‘ ì—†ìŒ');
                                            continue;
                                        }
                                    }

                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //íœ˜í•‘ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>íœ˜í•‘</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_whip = "";
                                }


                                //7. ìë°”ì¹© ì¡°ì ˆ
                                if ((morpheme_list[z].indexOf('ìë°”ì¹©') >= 0) && before_list[before_list.length - 1][0].indexOf('ìë°”ì¹©') < 0) {

                                    if (morpheme_list[z - 1].indexOf('í†µ') >= 0) {
                                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                        morpheme_copy.splice(z, 1);
                                        morpheme_copy.splice(z - 1, 1);
                                    }
                                    else if (morpheme_list[z].indexOf('í†µ') >= 0) {
                                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                        morpheme_copy.splice(z, 1);
                                    }
                                    else if (morpheme_list[z + 1].indexOf('í†µ') >= 0) {
                                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                        morpheme_copy.splice(z + 1, 1);
                                        morpheme_copy.splice(z, 1);
                                    }
                                    else {
                                        user_java_chip = 'JC'; //ì¼ë°˜ ìë°”ì¹© í† í•‘
                                    }
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ìë°”ì¹© ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìë°”ì¹©</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_java_chip = "";
                                }


                                //8. ë“œë¦¬ì¦ ì¡°ì ˆ
                                if (morpheme_list[z].indexOf('ë“œë¦¬ì¦') >= 0) {

                                    //ì¹´ë¼ë©œì¸ì§€ ì´ˆì½œë¦¿ì¸ì§€
                                    if ((morpheme_list[z - 1] == 'ì¹´ë¼ë©œ') || (morpheme_list[z] == 'ì¹´ë¼ë©œ')) {
                                        user_driz = 'DCR';
                                    }
                                    else {
                                        user_driz = 'DCC';
                                    }

                                    // ì–‘ì€ ì–¼ë§ˆë‚˜ í• ê±´ì§€
                                    if (morpheme_list[z + 1].indexOf('ë§') >= 0) {
                                        user_driz += '3';
                                    }
                                    else if ((morpheme_list[z + 1] == 'ì ê²Œ') || (morpheme_list[z + 1] == 'ì¡°ê¸ˆ') || (morpheme_list[z + 1] == 'ì•½ê°„')) {
                                        user_driz += '1';
                                    }
                                    else if (morpheme_list[z + 1] == 'ë³´í†µ') {
                                        user_driz += '2';
                                    }
                                    else { //ë§ ì•ˆí•˜ë©´ ë³´í†µ
                                        user_driz += '2';
                                    }
                                }

                                //ì˜ˆì™¸ì²˜ë¦¬
                                if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ë“œë¦¬ì¦ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                {
                                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ë“œë¦¬ì¦</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                    await delay(2000);
                                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    user_driz = "";
                                }

                            }


                            //user_op_list = (ì˜¨ë„)H/C, (ì¹´í˜ì¸)CC/CH/CD, (ì‹œëŸ½)Bìˆ«ì/Hìˆ«ì/Cìˆ«ì, 
                            //(ìƒ·)Sìˆ«ì, (ìš°ìœ )ML/MN/MS/MO, (íœ˜í•‘)EW1~3/W1~3, (ìë°”ì¹©)JCA/JC, (ë“œë¦¬ì¦)DCR1~3/DCC1~3, (ì‚¬ì´ì¦ˆ) S/T/G

                            user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                user_java_chip, user_driz, user_size]);

                            console.log("ì‚¬ìš©ìê°€ ì¶”ê°€í•œ ì˜µì…˜ : ", user_op_list);



                            var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\në©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!");

                            console.log('ì¶”ê°€ëœ ë©”ë‰´', before_list[before_list.length - 1][0]);
                            console.log('ë©”ë‰´ ê°€ê²©', before_list[before_list.length - 1][1]);
                            console.log('ì¶”ê°€ëœ ì˜µì…˜', user_op_list);

                            /* ì‹¤ì œ ì˜µì…˜ - after list*/
                            var menu = "";
                            var price = 0;
                            var menu_ea = 1;
                            var hot_cold = "";
                            var caf_amount = "";
                            var syrup = "";
                            var shot = "";
                            var milk = "";
                            var whip = "";
                            var java_chip = "";
                            var driz = "";
                            var sales_rate = "";
                            var size = "";
                            var ul = "<ul>";
                            var op_price = 0;

                            /* DBì— ë„£ì„ ì‹¤ì œ ë¦¬ìŠ¤íŠ¸ - after db list*/
                            var db_item_receipt = "";
                            var db_item_prod = 0;
                            var db_item_quan = 0;
                            var db_item_size = 0;
                            var db_item_price = 0;
                            var db_item_hot_cold = 0;
                            var db_item_caf = 0;
                            var db_item_syrup = 0;
                            var db_item_shot = 0;
                            var db_item_milk = 0;
                            var db_item_whip = 0;
                            var db_item_java_chip = 0;
                            var db_item_driz = 0;


                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                            /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                            /* var after_list = new Array();  */
                            //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]

                            //1,2,3. ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ
                            menu = before_list[before_list.length - 1][0];
                            db_item_prod = menu;
                            price = Number(before_list[before_list.length - 1][1]);
                            db_item_price = price;
                            size = user_op_list[user_op_list.length - 1][8];

                            if (size == 'T') {
                                op_price += 500;
                                db_item_size = 1;
                            }
                            else if (size == 'G') {
                                op_price += 1000;
                                db_item_size = 2;
                            }

                            //4. ìˆ˜ëŸ‰
                            /* í˜•íƒœì†Œ ë¶„ì„ê¸° ë¦¬ìŠ¤íŠ¸ ë‹¤ ë¹¼ê³  ìˆ«ìë§Œ ë‚¨ì€ ê±¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ì¸ì‹ */
                            for (var k = 0; k < morpheme_copy.length; k++) {
                                if (isInteger(Number(morpheme_copy[k])) == true) {
                                    menu_ea = Number(morpheme_copy[k]);
                                    db_item_quan = menu_ea;
                                    console.log("ìˆ˜ëŸ‰ ìˆìŒ", menu_ea);
                                    break;
                                }
                                else {
                                    menu_ea = 1;
                                    db_item_quan = 1;
                                }
                            }

                            //3. hot_cold -> case 3: hot/cold ë‘˜ ë‹¤ ë‹¤ ë  ë• ì–´ë–»ê²Œ í•  ê±´ì§€ ë””í´íŠ¸ ê°’ ì •í•˜ê¸°!!
                            hot_cold = user_op_list[user_op_list.length - 1][0];
                            var hot_cold_icon = "";

                            if (hot_cold == 'H') {
                                hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                                db_item_hot_cold = 1;
                            }
                            else if (hot_cold == 'C') {
                                hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                                db_item_hot_cold = 2;
                            }


                            //4. caf_amount
                            caf_amount = user_op_list[user_op_list.length - 1][1];
                            if (caf_amount != "") {
                                ul += '<li>';

                                if (caf_amount == 'CC') {
                                    db_item_caf = 1;
                                    ul += 'ì¹´í˜ì¸';
                                }
                                else if (caf_amount == 'CD') {
                                    ul += 'ë””ì¹´í˜ì¸';
                                }
                                else if (caf_amount == 'CH') {
                                    db_item_caf = 2;
                                    ul += 'í•˜í”„ë””ì¹´í˜ì¸';
                                }
                                ul += '</li>';
                            }

                            // 5. ì‹œëŸ½
                            syrup = user_op_list[user_op_list.length - 1][2];
                            if (syrup != "") {
                                ul += '<li>';

                                if (syrup[0] == 'B') {
                                    ul += 'ë°”ë‹ë¼ì‹œëŸ½';
                                    db_item_syrup = Number(syrup[1]);
                                }
                                else if (syrup[0] == 'H') {
                                    ul += 'í—¤ì´ì¦ë„›ì‹œëŸ½';
                                    db_item_syrup = Number(syrup[1] + "0");
                                }
                                else if (syrup[0] == 'C') {
                                    ul += 'ì¹´ë¼ë©œì‹œëŸ½';
                                    db_item_syrup = Number(syrup[1] + "00");
                                }

                                ul += ' +' + Number(syrup[1]) + 'íšŒ</li>';
                                op_price += 600;
                            }

                            // 6. ìƒ·
                            shot = user_op_list[user_op_list.length - 1][3];
                            if (shot != "") {
                                ul += '<li>ìƒ·';

                                if (shot[0] == 'S') {
                                    db_item_shot = Number(shot[1]);
                                    ul += ' +' + Number(shot[1]) + '</li>';
                                }
                                op_price += Number(shot[1]) * 600;
                            }


                            // 7. ìš°ìœ 
                            milk = user_op_list[user_op_list.length - 1][4];
                            if (milk != "") {
                                db_item_milk = 1;

                                ul += '<li>';

                                if (milk == 'ML') {
                                    db_item_milk = 2;
                                    ul += 'ì €ì§€ë°©';
                                }
                                else if (milk == 'MN') {
                                    db_item_milk = 3;
                                    ul += 'ë¬´ì§€ë°©';
                                }
                                else if (milk == 'MS') {
                                    db_item_milk = 4;
                                    ul += 'ë‘ìœ ';
                                }
                                else if (milk == 'MO') {
                                    db_item_milk = 5;
                                    ul += 'ê·€ë¦¬(ì˜¤íŠ¸)';
                                }
                                ul += '</li>';
                                op_price += 600;
                            }

                            // 8. íœ˜í•‘
                            whip = user_op_list[user_op_list.length - 1][5];
                            if (whip != "") {
                                ul += '<li>';

                                if (whip[0] == 'E') {
                                    ul += 'ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘í¬ë¦¼';

                                    if (whip[2] == '3') {
                                        db_item_whip = 13;
                                        ul += '<span>ë§ì´</span>'
                                    }
                                    else if (whip[2] == '2') {
                                        db_item_whip = 11;
                                        ul += '<span>ë³´í†µ</span>'
                                    }
                                    else if (whip[2] == '1') {
                                        db_item_whip = 12;
                                        ul += '<span>ì ê²Œ</span>'
                                    }
                                }
                                else if (whip[0] == 'W') {
                                    ul += 'íœ˜í•‘í¬ë¦¼';

                                    if (whip[1] == '3') {
                                        db_item_whip = 3;
                                        ul += '<span>ë§ì´</span>'
                                    }
                                    else if (whip[1] == '2') {
                                        db_item_whip = 1;
                                        ul += '<span>ë³´í†µ</span>'
                                    }
                                    else if (whip[1] == '1') {
                                        db_item_whip = 2;
                                        ul += '<span>ì ê²Œ</span>'
                                    }
                                }

                                ul += ' </li>';
                                op_price += 600;
                            }

                            // 9. ìë°”ì¹©
                            java_chip = user_op_list[user_op_list.length - 1][6];
                            if (java_chip != "") {
                                ul += '<li>';

                                if (java_chip == 'JAC') {
                                    db_item_java_chip = 2;
                                    ul += 'í†µìë°”ì¹© í† í•‘';
                                }
                                else if (java_chip == 'JC') {
                                    db_item_java_chip = 1;
                                    ul += 'ìë°”ì¹© í† í•‘';
                                }
                                ul += '</li>';

                                op_price += 600;
                            }

                            // 10. ë“œë¦¬ì¦
                            driz = user_op_list[user_op_list.length - 1][7];
                            if (driz != "") {
                                ul += '<li>';

                                db_item_driz_txt = "";

                                if (driz[2] == 'R') {
                                    ul += 'ì¹´ë¼ë©œë“œë¦¬ì¦';
                                    db_item_driz_txt = "1";
                                }
                                else if (driz[2] == 'C') {
                                    ul += 'ì´ˆì½”ë“œë¦¬ì¦';
                                }


                                if (driz[3] == '3') {
                                    ul += '<span>ë§ì´</span>'
                                    db_item_driz_txt += "3";
                                }
                                else if (driz[3] == '2') {
                                    ul += '<span>ë³´í†µ</span>'
                                    db_item_driz_txt += "1";
                                }
                                else if (driz[3] == '1') {
                                    ul += '<span>ì ê²Œ</span>'
                                    db_item_driz_txt += "2";
                                }

                                db_item_driz = Number(db_item_driz_txt);
                                ul += '</li>';
                                op_price += 600;
                            }

                            //ê°€ê²© ê³„ì‚°
                            menu_price = (price + op_price) * menu_ea;
                            price_list.push(menu_price);
                            total_price += menu_price;

                            //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]
                            //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


                            // ì‹¤ì œ DB ì¶”ê°€ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ì˜ìˆ˜ì¦ ë²ˆí˜¸, ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
                            //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                            //ìŒì‹ì´ë©´
                            if (category == "BAKERY") {
                                after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
                            }
                            else {
                                after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
                            }

                            if (category == "BAKERY") //ìŒì‹ì´ë©´ ì‚¬ì´ì¦ˆë‘ ì˜¨ë„ ë‚˜ì˜¤ì§€ ì•Šë„ë¡
                            {
                                ul += '</ul>'
                                forms_txt = '<tr>\
                                    <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3>'+ menu + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                forms_list.push(forms_txt);
                            }
                            else { //ìŒë£Œë©´ ì‚¬ì´ì¦ˆ ë‚˜ì˜¤ë„ë¡

                                console.log("ì‚¬ì´ì¦ˆ: ", size, "ìˆ˜ëŸ‰: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                                ul += '</ul>'
                                forms_txt = '<tr>\
                                            <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                forms_list.push(forms_txt);
                            }

                            real_forms = forms_list[0];
                            forms.innerHTML = real_forms;

                            total_price = 0;
                            for (var i = 0; i < price_list.length; i++) {
                                total_price += price_list[i];
                            }
                            total_real.innerHTML = total_price + ' ì›';

                            txt.innerHTML = '"ê²°ì œ" / "ì¶”ê°€í•  ë©”ë‰´"ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”â—';
                            var audio4 = await tts("ê²°ì œ ë˜ëŠ” ì¶”ê°€í•  ë©”ë‰´ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”!");

                            audio_once = false;
                            menu_cnt += 1; //ì£¼ë¬¸ ë©”ë‰´ 1ê°œ ì™„ë£Œ

                        }
                        else //í•œ ê¸€ìë„ ì•ˆ ë“¤ì–´ì˜¤ë©´
                        {
                            txt.innerHTML = "âœ”ï¸ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§ì”€í•´ì£¼ì„¸ìš”!";
                            var audio5 = await tts("ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§ì”€í•´ì£¼ì„¸ìš”!");
                        }
                    }


                    else // 1ë©”ë‰´ ì´ìƒ ì£¼ë¬¸ O
                    {
                        console.log("í•œë²ˆ ì´ìƒ ì£¼ë¬¸");

                        txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">ğŸ”´</span><span class="circle"> ì¸ì‹ ì¤‘</span></p>\
                        <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">ğŸ’¡TIPğŸ’¡ ê²°ì œë¼ê³  ë§ì”€í•˜ì‹¤ ê²½ìš° ì£¼ë¬¸ì´ ì¢…ë£Œë˜ìš”!</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                        var stt2 = await speech_to_text();

                        if (stt2.length > 1) //í•œ ê¸€ì ì´ìƒ ë“¤ì–´ì˜¤ë©´
                        {
                            if (stt2 == "ê²°ì œ" | stt2 == "ê²°ì¬" | stt2 == "ì²«ì§¸") //ê²°ì œ ì›í•˜ë©´
                            {
                                console.log("ì£¼ë¬¸ ì¢…ë£Œ");
                                txt.innerHTML = "âœ”ï¸ ê²°ì œ ì•ˆë‚´ë¥¼ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤";
                                var audio5 = await tts("ê²°ì œ ì•ˆë‚´ë¥¼ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤!");
                                var menu_last = '';
                                var menu_name = '';

                                for (var i = 0; i < after_list.length; i++) {
                                    if (category_list[i] == "BAKERY") {
                                        //ìŒì‹ì´ë©´
                                        menu_last += after_list[i][0] + " " + after_list[i][2] + "ê°œ,";
                                        menu_name += " " + after_list[i][0] + ",";
                                    }
                                    else {
                                        //ìŒë£Œë©´
                                        menu_last += after_list[i][0] + " " + after_list[i][2] + "ì”,";
                                        menu_name += " " + after_list[i][0] + ",";
                                    }
                                }


                                txt.innerHTML = 'ì£¼ë¬¸í•˜ì‹  ë©”ë‰´ê°€ ë§ìœ¼ì‹ ê°€ìš”?';
                                left.style.display = 'none';
                                right.className = 'col-xxl-10'; // ê¸°ì¡´ í´ë˜ìŠ¤ëª…ì€ ì‚¬ë¼ì§€ë‹ˆ ì£¼ì˜!
                                right.style.float = 'none';
                                right.style.margin = '0 auto';

                                var audio6 = await tts("ì£¼ë¬¸í•˜ì‹  ë©”ë‰´ê°€ " + menu_last + " ë§ìœ¼ì‹ ê°€ìš”?");
                                txt.innerHTML = '<p style="margin-top: -0.2em;">"ë„¤" / "ì•„ë‹ˆì˜¤"ë¡œ ë§ì”€í•´ì£¼ì„¸ìš”â—</p>\
                                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">ğŸ’¡TIPğŸ’¡ ì˜ëª»ëœ ì£¼ë¬¸ì€ ì•„ë‹ˆì˜¤ë¥¼ í†µí•´ ë³€ê²½í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”!</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                                var stt_last = await speech_to_text();

                                //ì •ìƒì ìœ¼ë¡œ ì£¼ë¬¸ ëë‚¨
                                if (stt_last == "ë„¤" || stt_last == "ë„¤.") {
                                    await new Promise((resolve, reject) => setTimeout(resolve, 400));

                                    //ì´ë™
                                    var menu_param = "";
                                    var ea_param = "";
                                    for (var i = 0; i < after_list.length; i++) {
                                        menu_param += after_list[i][0] + ",";
                                        ea_param += after_list[i][13] + ",";
                                    }
                                    location.href = "/client/end?price=" + total_price + "&menu=" + menu_param.slice(0, -1) + "&ea=" + ea_param.slice(0, -1);
                                    break;
                                }
                                //ë¹„ì •ìƒì ìœ¼ë¡œ ì£¼ë¬¸ë˜ì—ˆì„ ë•Œ >> ìˆ˜ì •ê¸°ëŠ¥ ë‚˜ì¤‘ì— ì‹œê°„ ë‚¨ìœ¼ë©´!!!!!!!!!!!!!!!!!!
                                else {

                                    var menu_right = false;

                                    while (menu_right == false) {

                                        console.log("ì´ ì•ˆì—ì„œ ëŒìœ¼ì…”ì•¼í•´ìœ ã… ã… ");

                                        var menu_recog = false; //ë©”ë‰´ ì´ë¦„ ì˜ ë“¤ì–´ì™”ëŠ”ì§€
                                        console.log('ë©”ë‰´ ìˆ˜ì •');


                                        /* txt.innerHTML = 'ì£¼ë¬¸ì„ ìˆ˜ì •í•´ë“œë¦´ê²Œìš”!'; */

                                        txt.innerHTML = "<p style='margin-top: -0.2em;'>ì˜ëª» ë“¤ì–´ê°„ ë©”ë‰´ëª…ì„ ë§ì”€í•´ì£¼ì„¸ìš”!\
                                        <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>ğŸ’¡TIPğŸ’¡ ë©”ë‰´ ì´ë¦„ë§Œ ë§ì”€í•´ì£¼ì„¸ìš”! (ex. ì¹´í˜ ì•„ë©”ë¦¬ì¹´ë…¸)</h5></p>";
                                        var audio7 = await tts("ì£¼ë¬¸ì„ ìˆ˜ì •í•´ë“œë¦´ê²Œìš”. ì˜ëª» ë“¤ì–´ê°„ ë©”ë‰´ ì´ë¦„ì„ ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”?");

                                        //ë©”ë‰´ ì´ë¦„ ì˜ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ë‹¤ì‹œ
                                        while (menu_recog == false) {

                                            var stt_cancel = await speech_to_text(); //ì·¨ì†Œí•  ë©”ë‰´ ì´ë¦„

                                            if (stt_cancel.length >= 1) {
                                                /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                                                var stt_morpheme = await stem_analyzer(stt_cancel);
                                                //console.log("return: ",stt_morpheme); -> ë©”ë‰´ì´ë¦„
                                                console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ë©”ë‰´ì´ë¦„]


                                                //ì£¼ë¬¸í•œ ë©”ë‰´(DBë¡œ íŒë³„)ê°€ í˜•íƒœì†Œì— ìˆëŠ”ì§€ í™•ì¸
                                                out: for (var x = 0; x < morpheme_list.length; x++) {
                                                    inn: for (var y = 0; y < db_menu.length; y++) {
                                                        if (morpheme_list[x] == db_menu[y]) {

                                                            var delist = morpheme_list[x]; // ëª‡ ë²ˆì„ ì·¨ì†Œ í–ˆëŠ”ì§€ ì €ì¥

                                                            //ì£¼ë¬¸ ë¦¬ìŠ¤íŠ¸ ì•ˆì— í•´ë‹¹ ë©”ë‰´ ìˆëŠ”ì§€?
                                                            innn: for (var z = 0; z < before_list.length; z++) {

                                                                //ìˆìœ¼ë©´
                                                                if (before_list[z][0] == delist) {
                                                                    before_list.splice(z, 1); // ì·¨ì†Œí•œ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    after_db_list.splice(z, 1); // db ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    console.log("ì‚­ì œëœ after_db_list: ", after_db_list);
                                                                    after_list.splice(z, 1); // ì£¼ë¬¸ ì™„ë£Œì—ì„œ ì‚­ì œ
                                                                    forms_list.splice(z, 1); // form ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    user_op_list.splice(z, 1); //ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    id_list.splice(z, 1); //ìƒí’ˆ ì•„ì´ë”” ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    category_list.splice(z, 1); //ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    console.log("ì‚­ì œëœ price_list: ", price_list[z]);
                                                                    price_list.splice(z, 1); //ê°€ê²© ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ
                                                                    console.log('ë©”ë‰´ ì‚­ì œ');

                                                                    menu_recog = true; //ë©”ë‰´ ì´ë¦„ ì˜ ì¸ì‹ë¨
                                                                    break innn;
                                                                }
                                                            }
                                                            break inn;
                                                        }
                                                    }
                                                    break out;
                                                }

                                                //ë©”ë‰´ ì´ë¦„ ì¸ì‹ ì•ˆëìœ¼ë©´ ë‹¤ì‹œ whileë¬¸ìœ¼ë¡œ ëŒì•„ê°€ì„œ ë°˜ë³µ
                                                if (menu_recog == false) {

                                                    txt.innerHTML = "<p style='margin-top: -0.2em;'>ìˆ˜ì •í•  ë©”ë‰´ëª…ì„ ë‹¤ì‹œ ë§ì”€í•´ì£¼ì„¸ìš”!\
                                                    <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>ğŸ’¡TIPğŸ’¡ ì·¨ì†Œí•  ë©”ë‰´ ì´ë¦„ë§Œ ë˜ë°• ë˜ë°• ë§ì”€í•´ì£¼ì„¸ìš”.</h5></p>";
                                                    var audio7 = await tts("ì¸ì‹í•˜ì§€ ëª»í–ˆì–´ìš”. ìˆ˜ì •í•  ë©”ë‰´ ì´ë¦„ë§Œ ë‹¤ì‹œ ë§ì”€í•´ì£¼ì„¸ìš”!");

                                                    continue;
                                                }

                                                // ui ëª©ë¡ ë‹¤ì‹œ ë°”ê¾¸ê¸°
                                                real_forms = forms_list[0];
                                                for (var i = 1; i < forms_list.length; i++) {
                                                    real_forms += forms_list[i];
                                                }

                                                forms.innerHTML = real_forms;
                                                menu_cnt -= 1 //ì£¼ë¬¸ ê°œìˆ˜ -1

                                                total_price = 0;
                                                for (var i = 0; i < price_list.length; i++) {
                                                    total_price += price_list[i];
                                                }
                                                total_real.innerHTML = total_price + ' ì›';

                                                console.log("ìˆ˜ì •í•  ë©”ë‰´ ì´ë¦„ ì˜ ë§í–ˆì–´ìš”");

                                            }
                                        }

                                        //ë‹¤ì‹œ ì£¼ë¬¸í• ì§€ ë§ì§€
                                        left.style.display = 'block';
                                        right.className = 'col-xxl-6'; // ê¸°ì¡´ í´ë˜ìŠ¤ëª…ì€ ì‚¬ë¼ì§€ë‹ˆ ì£¼ì˜!

                                        txt.innerHTML = "<p style='margin-top: -0.2em;'>ë‹¤ì‹œ ì£¼ë¬¸í•  <span style='text-decoration: underline;'>ë©”ë‰´</span>ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”ğŸ’š\
                                        <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>ğŸ’¡TIPğŸ’¡ ë©”ë‰´ëª… â–¶ï¸ ì˜µì…˜ â–¶ï¸ ìˆ˜ëŸ‰ ìˆœì„œë¡œ í•œ ë¬¸ì¥ì„ ë˜ë°•ë˜ë°• ë§í•´ì£¼ì„¸ìš”!</h5></p>";
                                        var audio8 = await tts("ë‹¤ì‹œ ì£¼ë¬¸í•  ë©”ë‰´ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”!");


                                        //ë‹¤ì‹œ ì£¼ë¬¸í•  ë©”ë‰´ ì…ë ¥ ë°›ì„ - 1ê¸€ì ì´ìƒë§í•  ë•Œ ê¹Œì§€
                                        while (true) {

                                            var re_stt = await speech_to_text();

                                            console.log('re_stt: ', re_stt); //ì—¬ê¸°ê¹Œì§„ ì™”ìŒ

                                            if (re_stt.length >= 1) {

                                                console.log('re_stt ifë¬¸ ë“¤ì–´ì˜´?');
                                                /* ì¬ì£¼ë¬¸ í•¨ìˆ˜ í•œë²ˆ ì‚¬ìš©í•´ë´„ */

                                                console.log("reorder í•¨ìˆ˜ ë“¤ì–´ê°€ê¸° ì „");
                                                await reorder(re_stt);
                                                console.log("ì¬ì£¼ë¬¸ í•¨ìˆ˜ ëë‚¬ëƒ?");

                                                if (category_list[category_list.length - 1] == "BAKERY") {
                                                    re_menu = after_list[after_list.length - 1][0] + " " + after_list[after_list.length - 1][2] + "ê°œ";
                                                }
                                                else {
                                                    re_menu = after_list[after_list.length - 1][0] + " " + after_list[after_list.length - 1][2] + "ì”";
                                                }

                                                menu_name = ""; //ì˜ëª»ëœ ê±° ì´ˆê¸°í™”í•˜ê¸°

                                                for (var i = 0; i < after_list.length; i++) {
                                                    menu_name += " " + after_list[i][0] + ",";
                                                }

                                                txt.innerHTML = 'ì£¼ë¬¸í•˜ì‹  ë©”ë‰´ê°€ ' + after_list[after_list.length - 1][0] + ' ë§ìœ¼ì‹ ê°€ìš”?';

                                                //txt.innerHTML = 'ì£¼ë¬¸í•˜ì‹  ë©”ë‰´ :' + menu_name.slice(0, -1);
                                                left.style.display = 'none';
                                                right.className = 'col-xxl-10'; // ê¸°ì¡´ í´ë˜ìŠ¤ëª…ì€ ì‚¬ë¼ì§€ë‹ˆ ì£¼ì˜!
                                                right.style.float = 'none';
                                                right.style.margin = '0 auto';

                                                var audio6 = await tts("ì£¼ë¬¸í•˜ì‹  ë©”ë‰´ê°€ " + re_menu + " ë§ìœ¼ì‹ ê°€ìš”?");
                                                txt.innerHTML = '<p style="margin-top: -0.2em;">"ë„¤" / "ì•„ë‹ˆì˜¤"ë¡œ ë§ì”€í•´ì£¼ì„¸ìš”â—</p>\
                                                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">ğŸ’¡TIPğŸ’¡ ì˜ëª»ëœ ì£¼ë¬¸ì€ ì•„ë‹ˆì˜¤ë¥¼ í†µí•´ ë³€ê²½í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                                                var stt_last = await speech_to_text();
                                                console.log("stt_last", stt_last);

                                                if (stt_last == "ë„¤" || stt_last == "ë„¤.") {
                                                    console.log("ë„¤ë¼ê³  ë“¤ì–´ì™”ì–´?");
                                                    menu_right = true;

                                                    await new Promise((resolve, reject) => setTimeout(resolve, 400));

                                                    //ì´ë™
                                                    var menu_param = "";
                                                    var ea_param = "";
                                                    for (var i = 0; i < after_list.length; i++) {
                                                        menu_param += after_list[i][0] + ",";
                                                        ea_param += after_list[i][13] + ",";
                                                    }
                                                    location.href = "/client/end?price=" + total_price + "&menu=" + menu_param.slice(0, -1) + "&ea=" + ea_param.slice(0, -1);
                                                    break;
                                                    break;
                                                }
                                                else {
                                                    console.log("ë§ˆì§€ë§‰ì— ë„¤ë¼ê³  ë§ ì•ˆí•´ì„œ ë°˜ë³µí•´ã… ã… ");
                                                    break;
                                                    continue;
                                                }

                                                break;
                                            }
                                            else { //ë§ ì•ˆí•˜ë©´
                                                txt.innerHTML = "âœ”ï¸ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë§ì”€í•´ì£¼ì„¸ìš”!";
                                                var audio5 = await tts("ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë§ì”€í•´ì£¼ì„¸ìš”!");

                                            }

                                        }

                                    }
                                    break;
                                }
                            }

                            else //ê³„ì† ë©”ë‰´ ë°›ê³  ì‹¶ìœ¼ë©´
                            {
                                /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                                var stt_morpheme = await stem_analyzer(stt2);
                                //console.log("return: ",stt_morpheme); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜
                                console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜]


                                // ì—†ì• ê³  ì‹¶ì€ ë¬¸ìì—´ ì§€ì •
                                for (var i = 0; i < morpheme_list.length; i++) {
                                    if (morpheme_list[i] == 'ë²ˆ') {
                                        morpheme_list.splice(i, 1);
                                        i++;
                                    }
                                }
                                console.log('ë²ˆ ì—†ì•¤ ë¬¸ìì—´: ', morpheme_list);
                                morpheme_copy = morpheme_list.slice();
                                //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜

                                /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
                                out: for (var x = 0; x < morpheme_list.length; x++) {
                                    inn: for (var y = 0; y < db_menu.length; y++) {
                                        if (morpheme_list[x] == db_menu[y]) {
                                            console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                                            txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                            before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                            category = db[y][1];
                                            category_list.push(db[y][1]);

                                            //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                                            if (y > 36) {
                                                id_list.push(y + 2);
                                            }
                                            else {
                                                id_list.push(y + 1);
                                            }

                                            morpheme_copy.splice(x, 1);
                                            break inn;
                                        }
                                    }
                                    break out;
                                }

                                /* ë©”ë‰´ ìˆëŠ”ì§€ í™•ì¸ */
                                //ì´ì „ì— ì£¼ë¬¸ ì™„ë£Œí•œ ê°¯ìˆ˜ì™€ ì´ë²ˆì— ìƒˆë¡œ ë“¤ì–´ì™”ì„ ë©”ë‰´ ê°¯ìˆ˜ê°€ ë™ì¼í•˜ë©´? 
                                //= ì¸ì‹ì´ ì•ˆëœ ê²ƒ. ì›ëœ ì£¼ë¬¸ ì™„ë£Œí•œ ê°¯ìˆ˜+1(menu_cnt+1)ê³¼ ì´ë²ˆì— ìƒˆë¡œ ë“¤ì–´ì˜¨ ê±°ê¹Œì§€ í¬í•¨ëœ ë©”ë‰´ ê°¯ìˆ˜(before_list.length)ê°€ ë™ì¼í•´ì•¼í•¨
                                if (menu_cnt != (before_list.length) - 1) {
                                    console.log('ë©”ë‰´ ì¸ì‹ ëª»í•¨', "ì£¼ë¬¸ ì™„ë£Œ í›„ menu ì¹´ìš´íŠ¸: ", menu_cnt, "ë©”ë‰´ ì¸ì‹ before_list ì¹´ìš´íŠ¸: ", before_list);
                                    while (menu_cnt != (before_list.length) - 1) {
                                        //ë©”ë‰´ ì¸ì‹ë˜ì„œ before_listì— ë­ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ê³„ì† ë°˜ë³µ 
                                        //menu_cntëŠ” ì£¼ë¬¸ ì™„ë£Œ íšŸìˆ˜ ì¹´ìš´íŠ¸(ì•„ì§ ì¶”ê°€ X). before_lengthëŠ” ì¶”ê°€ ì™„ë£Œ. ë”°ë¼ì„œ, ì •ìƒì ì´ë©´ menu_cnt+1ê³¼ before_lengthê°€ ê°™ì•„ì•¼í•˜ê³ ,
                                        //ì¸ì‹ ì•ˆë˜ë©´ ë‘˜ì´ íšŸìˆ˜ê°€ ë˜‘ê°™ìŒ -> ë‹¬ë¼ì§ˆ ë•Œê¹Œì§€ ê³„ì† ì‹¤í–‰í•˜ê¸°
                                        txt.innerHTML = "ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!";
                                        var audio2 = await tts("ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!");
                                        txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">ğŸ”´</span><span class="circle"> ì¸ì‹ ì¤‘</span></p>\
                                        <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(ì˜ˆ) ì¹´í‘¸ì¹˜ë…¸ ë°”ë‹ë¼ ì‹œëŸ½ 2ë²ˆ, ë””ì¹´í˜ì¸ìœ¼ë¡œ í•œì” ì£¼ì„¸ìš”.</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                                        var stt2 = await speech_to_text();

                                        if (stt2.length > 1) //í•œ ê¸€ì ì´ìƒ ë“¤ì–´ì˜¤ë©´
                                        {

                                            /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                                            var stt_morpheme = await stem_analyzer(stt2);
                                            //console.log("return: ",stt_morpheme); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜
                                            console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜]
                                            morpheme_copy = morpheme_list.slice();
                                            //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜

                                            /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
                                            outer: for (var x = 0; x < morpheme_list.length; x++) {
                                                inner: for (var y = 0; y < db_menu.length; y++) {
                                                    if (morpheme_list[x] == db_menu[y]) {
                                                        console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                                                        txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                                        category = db[y][1];
                                                        category_list.push(db[y][1]);

                                                        //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                                                        if (y > 36) {
                                                            id_list.push(y + 2);
                                                        }
                                                        else {
                                                            id_list.push(y + 1);
                                                        }

                                                        morpheme_copy.splice(x, 1);
                                                        break inner;
                                                    }
                                                }
                                                break outer;
                                            }
                                        }
                                    }
                                }


                                /* ì‚¬ìš©ìê°€ ë§í•œ ì˜µì…˜ */
                                var user_hot_cold = "";
                                var user_caf_amount = "";
                                var user_syrup = "";
                                var user_shot = "";
                                var user_milk = "";
                                var user_whip = "";
                                var user_java_chip = "";
                                var user_driz = "";
                                var user_sales_rate = "";
                                var user_size = "";

                                //ë©”ë‰´ ì´ë¦„ ì™¸ì— ì•„ë¬´ê²ƒë„ ë§ ì•ˆí–ˆì„ ë• ì•„ë˜ forë¬¸ì— ì•ˆ ë“¤ì–´ê° ã… ã… ã… ã… 
                                if (morpheme_copy.length == 0) {

                                    //1. hot_cold ì •í•´ì£¼ê¸°
                                    if ((user_hot_cold == "") && (category != "BAKERY")) {
                                        if (Number(before_list[before_list.length - 1][2]) == 1) {
                                            user_hot_cold = "H";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                            user_hot_cold = "C";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                            //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                                            user_hot_cold = "C";
                                        }
                                    }

                                    //2. size ì •í•´ì£¼ê¸°
                                    user_size = "S";
                                }

                                //ë©”ë‰´ ì´ë¦„, ìˆ˜ëŸ‰ (ì ì–´ë„ 2ê°œ ì´ìƒ ë§í–ˆì„ ë•Œ)
                                for (var z = 0; z < morpheme_copy.length; z++) {
                                    /* ì‚¬ìš©ìê°€ ë§í•œ ë©”ë‰´ ì˜µì…˜!! */
                                    //!!!!!!!!!!!!!!!!! ë‚˜ì¤‘ì— ì„ë² ë”© ì—°ê²°í•˜ë©´ case ê°’ ë°”ê¾¸ê¸°
                                    console.log('========================================' + z + 'ë²ˆì§¸==================================');
                                    console.log('ë‹¨ì–´: ' + morpheme_copy[z]);
                                    console.log('ì´ë¦¬ìŠ¤íŠ¸: ' + morpheme_copy);
                                    console.log('ê¸¸ì´: ' + morpheme_copy.length);

                                    //0. ì‚¬ì´ì¦ˆ
                                    if (morpheme_copy[z] == 'ìˆ') {
                                        user_size = "S";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'í†¨') {
                                        user_size = "T";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ê·¸ë€ë°') {
                                        user_size = "G";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ì•„ë¬´ ê°’ë„ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’
                                    if (user_size == "") {
                                        user_size = "S";
                                    }


                                    //1. ì˜¨ë„
                                    if (morpheme_copy[z] == 'í•«') {
                                        user_hot_cold = "H";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ì•„ì´ìŠ¤') {
                                        user_hot_cold = "C";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //í•«
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                                        user_hot_cold = "H";
                                    }
                                    else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ì½œë“œ
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                                        user_hot_cold = "C";
                                    }

                                    //ì•„ë¬´ ê°’ë„ ì•ˆë“¤ì–´ì˜¤ë©´
                                    if (user_hot_cold == "") {
                                        if (Number(before_list[before_list.length - 1][2]) == 1) {
                                            user_hot_cold = "H";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                            user_hot_cold = "C";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                            //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                                            user_hot_cold = "C";
                                        }
                                    }

                                    //2. ì¹´í˜ì¸ ì¡°ì ˆ
                                    if (morpheme_copy[z] == 'ì¹´í˜ì¸') {
                                        user_caf_amount = 'CC';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ë””ì¹´í˜ì¸') {
                                        user_caf_amount = 'CD';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('í•˜í”„') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                                        user_caf_amount = 'CH';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //ì¹´í˜ì¸ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {

                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì¹´í˜ì¸</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_caf_amount = "";
                                    }


                                    //3. ì‹œëŸ½ ì¡°ì ˆ
                                    if (morpheme_copy[z].indexOf('ì‹œëŸ½') >= 0) {

                                        //3-1. ì‹œëŸ½ > ë°”ë‹ë¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                                        if ((morpheme_copy[z + 1] == 'ë°”ë‹ë¼') || (morpheme_copy[z + 1] == 'ë°”ë‹ë¼ì‹œëŸ½')) {

                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // ìˆ«ì - ì‹œëŸ½ - ë°”ë‹ë¼ 
                                                user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("në²ˆ ì‹œëŸ½ ë°”ë‹ë¼");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ì‹œëŸ½ - ë°”ë‹ë¼ - ìˆ«ì
                                                user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ì‹œëŸ½ ë°”ë‹ë¼ në²ˆ");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ì‹œëŸ½ - ë°”ë‹ë¼ (ìˆ«ì ì—†ìŒ)
                                                user_syrup = 'B2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ì‹œëŸ½ ë°”ë‹ë¼ ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }

                                        /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                        //3-2. ì‹œëŸ½ > í—¤ì´ì¦ë„›ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                                        else if ((morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›') || (morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›ì‹œëŸ½')) {
                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // ìˆ«ì - ì‹œëŸ½ - í—¤ì´ì¦ë„› 
                                                user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("në²ˆ ì‹œëŸ½ í—¤ì´ì¦ë„›");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ì‹œëŸ½ - í—¤ì´ì¦ë„› - ìˆ«ì
                                                user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› në²ˆ");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ì‹œëŸ½ - í—¤ì´ì¦ë„› (ìˆ«ì ì—†ìŒ)
                                                user_syrup = 'H2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }

                                        //3-3. ì‹œëŸ½ > ì¹´ë¼ë©œë¡œ í˜•íƒœì†Œ ë¶„ì„
                                        else if ((morpheme_copy[z + 1] == 'ì¹´ë¼ë©œ') || (morpheme_copy[z + 1] == 'ì¹´ë¼ë©œì‹œëŸ½')) {
                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // ìˆ«ì - ì‹œëŸ½ - ì¹´ë¼ë©œ
                                                user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("në²ˆ ì‹œëŸ½ ì¹´ë¼ë©œ");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ì‹œëŸ½ - ì¹´ë¼ë©œ - ìˆ«ì
                                                user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ì‹œëŸ½ ì¹´ë¼ë©œ në²ˆ");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ì‹œëŸ½ - ì¹´ë¼ë©œ (ìˆ«ì ì—†ìŒ)
                                                user_syrup = 'C2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ì‹œëŸ½ ì¹´ë¼ë©œ ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }

                                        //3-4. ë°”ë‹ë¼ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ë°”ë‹ë¼ì‹œëŸ½)
                                        else if (morpheme_copy[z] == 'ë°”ë‹ë¼ì‹œëŸ½') {

                                            //ìˆ«ì - ë°”ë‹ë¼ - ì‹œëŸ½
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("në²ˆ ë°”ë‹ë¼ì‹œëŸ½");
                                                continue;
                                            }
                                            //ë°”ë‹ë¼ - ì‹œëŸ½ - ìˆ«ì
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ë°”ë‹ë¼ì‹œëŸ½ në²ˆ");
                                                continue;
                                            }
                                            //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'B2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("ë°”ë‹ë¼ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }

                                        /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                        //3-5. í—¤ì´ì¦ë„› > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (í—¤ì´ì¦ë„›ì‹œëŸ½)
                                        else if (morpheme_copy[z] == 'í—¤ì´ì¦ë„›ì‹œëŸ½') {

                                            //ìˆ«ì - í—¤ì´ì¦ë„› - ì‹œëŸ½
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("në²ˆ í—¤ì´ì¦ë„›ì‹œëŸ½");
                                                continue;
                                            }
                                            //í—¤ì´ì¦ë„› - ì‹œëŸ½ - ìˆ«ì
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ në²ˆ");
                                                continue;
                                            }
                                            //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'H2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }


                                        //3-6. ì¹´ë¼ë©œ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ì¹´ë¼ë©œì‹œëŸ½)
                                        else if (morpheme_copy[z] == 'ì¹´ë¼ë©œì‹œëŸ½') {

                                            //ìˆ«ì - ì¹´ë¼ë©œ - ì‹œëŸ½
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("në²ˆ ì¹´ë¼ë©œì‹œëŸ½");
                                                continue;
                                            }
                                            //ì¹´ë¼ë©œ - ì‹œëŸ½ - ìˆ«ì
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ì¹´ë¼ë©œì‹œëŸ½ në²ˆ");
                                                continue;
                                            }
                                            //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'C2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("ì¹´ë¼ë©œì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                                                continue;
                                            }
                                        }

                                        //3-7. ì‹œëŸ½ ì¢…ë¥˜ ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆí–ˆì„ ë•Œ
                                        else {
                                            txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + "ì´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                                            await delay(2000);
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ì‹œëŸ½ ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                                            continue;
                                        }
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ì‹œëŸ½ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_syrup = "";
                                    }


                                    /* í˜•íƒœì†Œ (ìƒ· ì¸ì‹ ë¶ˆì•ˆì • / ì£¼ë¬¸ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ë‹¤ì‹œ ì•Œì•„ë³´ê³  í•˜ê¸°) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                                    //4. ìƒ· ì¡°ì ˆ -> ì„, ê²” ë‚˜ì¤‘ì— í˜•íƒœì†Œ ì ìš©ë˜ë©´ ì—†ì• ê¸°
                                    if ((morpheme_copy[z].indexOf('ìƒ·') >= 0) || (morpheme_copy[z].indexOf('ì„') >= 0) || (morpheme_copy[z].indexOf('ê²”') >= 0) || (morpheme_copy[z].indexOf('ì‰') >= 0)) {

                                        //ìˆ«ì - ìƒ·
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("në²ˆ ìƒ·");
                                            continue;
                                        }

                                        //ìƒ· - ìˆ«ì
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ìƒ· në²ˆ");
                                            continue;
                                        }

                                        //ìˆ«ì ë§ ì•ˆí•˜ë©´
                                        else {
                                            user_shot = 'S1';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ìƒ· ì„ íƒ ì•ˆí•¨");
                                            continue;
                                        }
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ìƒ· ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìƒ·</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_shot = "";
                                    }


                                    //5. ìš°ìœ  ì¡°ì ˆ

                                    if (morpheme_copy[z].indexOf('ìš°ìœ ') >= 0) {

                                        // ìš°ìœ ê°€ ì•ì— ìˆì„ ë•Œ
                                        if ((morpheme_copy[z + 1].indexOf('ì €ì§€ë°©') >= 0)) {
                                            //1. ìš°ìœ  - ì €ì§€ë°©(ìš°ìœ )
                                            user_milk = 'ML';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('ë¬´ì§€ë°©') >= 0)) { //indexOf í¬í•¨ ë¬¸ìì—´ ìˆìœ¼ë©´ í•´ë‹¹ ì¸ë±ìŠ¤, ì—†ìœ¼ë©´ -1 ë°˜í™˜
                                            //2. ìš°ìœ  - ë¬´ì§€ë°©(ìš°ìœ )
                                            user_milk = 'MN';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('ë‘ìœ ') >= 0)) {
                                            //3. ìš°ìœ  - ë‘ìœ 
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        //ìš°ìœ ê°€ ë’¤ì— ìˆì„ ë•Œ
                                        else if ((morpheme_copy[z].indexOf('ì €ì§€ë°©') >= 0)) {
                                            //5. ì €ì§€ë°© - ìš°ìœ 
                                            user_milk = 'ML';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('ë¬´ì§€ë°©') >= 0)) {
                                            //6. ë¬´ì§€ë°© - ìš°ìœ 
                                            user_milk = 'MN';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('ë‘ìœ ') >= 0)) {
                                            //7. ë‘ìœ  - ìš°ìœ 
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        //ë‘ìœ ë‘ ì˜¤íŠ¸ëŠ” ë©”ë‰´ë‘ë„ ê²¹ì¹˜ëŠ” ë¶€ë¶„ ìˆì–´ì„œ ë’¤ë¡œ ë¯¸ë£¸
                                        else if ((morpheme_copy[z + 1].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸') >= 0)) {
                                            //4. ìš°ìœ  - ê·€ë¦¬ / ì˜¤íŠ¸ (ìš°ìœ )
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 2);
                                            console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë¨¼ì € ë‚˜ì˜´");
                                            console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                                            console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                                            z--;
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                                            //8. ê·€ë¦¬ / ì˜¤íŠ¸ - ìš°ìœ 
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 1);
                                            console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë‚˜ì¤‘ ë‚˜ì˜´");
                                            console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                                            console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                                            z--;
                                            continue;
                                        }
                                        else {
                                            txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + "ê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                                            await delay(2000);
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ìš°ìœ  ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                                            continue;
                                        }
                                    }
                                    else {
                                        //ë‘ìœ ë‚˜ ê·€ë¦¬/ì˜¤íŠ¸ëŠ” ë”°ë¡œ ìš°ìœ  ë§ ì•ˆí•˜ê³  ë°”ê¿€ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œ ë”°ë¡œ ë¹¼ì¤Œ
                                        if (morpheme_copy[z].indexOf('ë‘ìœ ') >= 0) {
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ê·€ë¦¬/ì˜¤íŠ¸ ìš°ìœ  ì„ íƒ");
                                            continue;
                                        }
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //ìš°ìœ  ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_milk = "";
                                    }


                                    //6. íœ˜í•‘ ì¡°ì ˆ
                                    if (morpheme_copy[z].indexOf('íœ˜í•‘') >= 0) {

                                        //ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘ì¸ì§€ ê·¸ëƒ¥ íœ˜í•‘ì¸ì§€

                                        //1. ì—ìŠ¤í”„ë ˆì†Œ-íœ˜í•‘
                                        if (morpheme_copy[z].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                                            user_whip = 'EW';

                                            //2-1. ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘
                                            if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                                //ë§
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                                continue;
                                            }
                                            //2-2. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘
                                            else if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                                continue;
                                            }
                                            //2-3. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘ ì—†ìŒ
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                                                continue;
                                            }
                                        }
                                        //3. íœ˜í•‘ - ì—ìŠ¤í”„ë ˆì†Œ
                                        else if (morpheme_copy[z + 1].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                                            user_whip = 'EW';

                                            //2-1. ì–‘-íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ
                                            if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                                //ë§
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                                                continue;
                                            }
                                            //2-2. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘
                                            else if (morpheme_copy[z + 2].indexOf('ë§') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 2].indexOf('ì ') >= 0) || (morpheme_copy[z + 2].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 2].indexOf('ì•½ê°„') >= 0)) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                                                continue;
                                            }
                                            //2-3. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘ ì—†ìŒ
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                                                continue;
                                            }
                                        }

                                        //4. ì¼ë°˜ íœ˜í•‘
                                        else {
                                            user_whip = 'W';

                                            //1. íœ˜í•‘-ì–‘
                                            if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ì¼ë°˜íœ˜í•‘-ë§');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ì¼ë°˜íœ˜í•‘-ì ');
                                                continue;
                                            }
                                            //2. ì–‘-íœ˜í•‘
                                            else if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('ë§-ì¼ë°˜íœ˜í•‘');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                                                //ì 
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('ì -ì¼ë°˜íœ˜í•‘');
                                                continue;
                                            }
                                            //3. íœ˜í•‘-ì–‘ ì—†ìŒ
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log('ì¼ë°˜íœ˜í•‘-ì–‘ ì—†ìŒ');
                                                continue;
                                            }
                                        }

                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //íœ˜í•‘ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>íœ˜í•‘</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_whip = "";
                                    }



                                    /** ì—¬ê¸°ì„œë¶€í„°!!!!!!!!!11 */



                                    //7. ìë°”ì¹© ì¡°ì ˆ
                                    if ((morpheme_list[z].indexOf('ìë°”ì¹©') >= 0) && before_list[before_list.length - 1][0].indexOf('ìë°”ì¹©') < 0) {

                                        if (morpheme_list[z - 1].indexOf('í†µ') >= 0) {
                                            user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                            morpheme_copy.splice(z, 1);
                                            morpheme_copy.splice(z - 1, 1);
                                        }
                                        else if (morpheme_list[z].indexOf('í†µ') >= 0) {
                                            user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                            morpheme_copy.splice(z, 1);
                                        }
                                        else if (morpheme_list[z + 1].indexOf('í†µ') >= 0) {
                                            user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                                            morpheme_copy.splice(z + 1, 1);
                                            morpheme_copy.splice(z, 1);
                                        }
                                        else {
                                            user_java_chip = 'JC'; //ì¼ë°˜ ìë°”ì¹© í† í•‘
                                        }
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ìë°”ì¹© ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìë°”ì¹©</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_java_chip = "";
                                    }


                                    //8. ë“œë¦¬ì¦ ì¡°ì ˆ
                                    if (morpheme_list[z].indexOf('ë“œë¦¬ì¦') >= 0) {

                                        //ì¹´ë¼ë©œì¸ì§€ ì´ˆì½œë¦¿ì¸ì§€
                                        if ((morpheme_list[z - 1] == 'ì¹´ë¼ë©œ') || (morpheme_list[z] == 'ì¹´ë¼ë©œ')) {
                                            user_driz = 'DCR';
                                        }
                                        else {
                                            user_driz = 'DCC';
                                        }

                                        // ì–‘ì€ ì–¼ë§ˆë‚˜ í• ê±´ì§€
                                        if (morpheme_list[z + 1].indexOf('ë§') >= 0) {
                                            user_driz += '3';
                                        }
                                        else if ((morpheme_list[z + 1] == 'ì ê²Œ') || (morpheme_list[z + 1] == 'ì¡°ê¸ˆ') || (morpheme_list[z + 1] == 'ì•½ê°„')) {
                                            user_driz += '1';
                                        }
                                        else if (morpheme_list[z + 1] == 'ë³´í†µ') {
                                            user_driz += '2';
                                        }
                                        else { //ë§ ì•ˆí•˜ë©´ ë³´í†µ
                                            user_driz += '2';
                                        }
                                    }

                                    //ì˜ˆì™¸ì²˜ë¦¬
                                    if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ë“œë¦¬ì¦ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                                    {
                                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ë“œë¦¬ì¦</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                                        await delay(2000);
                                        txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                        user_driz = "";
                                    }

                                }

                                //user_op_list = (ì˜¨ë„)H/C, (ì¹´í˜ì¸)CC/CH/CD, (ì‹œëŸ½)Bìˆ«ì/Hìˆ«ì/Cìˆ«ì, 
                                //(ìƒ·)Sìˆ«ì, (ìš°ìœ )ML/MN/MS/MO, (íœ˜í•‘)EW1~3/W1~3, (ìë°”ì¹©)JCA/JC, (ë“œë¦¬ì¦)DCR1~3/DCC1~3, (ì‚¬ì´ì¦ˆ) S/T/G

                                user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                    user_java_chip, user_driz, user_size]);

                                console.log("ì‚¬ìš©ìê°€ ì¶”ê°€í•œ ì˜µì…˜ : ", user_op_list);


                                var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\në©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!");

                                console.log('ì¶”ê°€ëœ ë©”ë‰´', before_list[before_list.length - 1][0]);
                                console.log('ë©”ë‰´ ê°€ê²©', before_list[before_list.length - 1][1]);
                                console.log('ì¶”ê°€ëœ ì˜µì…˜', user_op_list);

                                /* ì‹¤ì œ ì˜µì…˜ */
                                var menu = "";
                                var price = 0;
                                var menu_ea = 1;

                                var hot_cold = "";
                                var caf_amount = "";
                                var syrup = "";
                                var shot = "";
                                var milk = "";
                                var whip = "";
                                var java_chip = "";
                                var driz = "";
                                var sales_rate = "";
                                var size = "";
                                var ul = "<ul>";
                                var op_price = 0;


                                /* DBì— ë„£ì„ ì‹¤ì œ ë¦¬ìŠ¤íŠ¸ - after db list*/
                                var db_item_receipt = "";
                                var db_item_prod = 0;
                                var db_item_quan = 0;
                                var db_item_size = 0;
                                var db_item_price = 0;
                                var db_item_hot_cold = 0;
                                var db_item_caf = 0;
                                var db_item_syrup = 0;
                                var db_item_shot = 0;
                                var db_item_milk = 0;
                                var db_item_whip = 0;
                                var db_item_java_chip = 0;
                                var db_item_driz = 0;

                                //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                                /* var after_list = new Array();  */
                                //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]

                                //1,2,3. ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ
                                menu = before_list[before_list.length - 1][0];
                                db_item_prod = menu;
                                price = Number(before_list[before_list.length - 1][1]);
                                db_item_price = price;
                                size = user_op_list[user_op_list.length - 1][8];

                                if (size == 'T') {
                                    op_price += 500;
                                    db_item_size = 1;
                                }
                                else if (size == 'G') {
                                    op_price += 1000;
                                    db_item_size = 2;
                                }


                                //4. ìˆ˜ëŸ‰
                                /* í˜•íƒœì†Œ ë¶„ì„ê¸° ë¦¬ìŠ¤íŠ¸ ë‹¤ ë¹¼ê³  ìˆ«ìë§Œ ë‚¨ì€ ê±¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ì¸ì‹ */
                                for (var k = 0; k < morpheme_copy.length; k++) {
                                    if (isInteger(Number(morpheme_copy[k])) == true) {
                                        menu_ea = Number(morpheme_copy[k]);
                                        db_item_quan = menu_ea;
                                        console.log("ìˆ˜ëŸ‰ ìˆìŒ", menu_ea);
                                        break;
                                    }
                                    else {
                                        console.log("ìˆ˜ëŸ‰ ì—†ìŒ", menu_ea);
                                        menu_ea = 1;
                                        db_item_quan = 1;
                                    }
                                }



                                //3. hot_cold -> case 3: hot/cold ë‘˜ ë‹¤ ë‹¤ ë  ë• ì–´ë–»ê²Œ í•  ê±´ì§€ ë””í´íŠ¸ ê°’ ì •í•˜ê¸°!!
                                hot_cold = user_op_list[user_op_list.length - 1][0];
                                var hot_cold_icon = "";

                                if (hot_cold == 'H') {
                                    hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                                    db_item_hot_cold = 1;
                                }
                                else if (hot_cold == 'C') {
                                    hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                                    db_item_hot_cold = 2;
                                }

                                //4. caf_amount
                                caf_amount = user_op_list[user_op_list.length - 1][1];
                                if (caf_amount != "") {
                                    ul += '<li>';

                                    if (caf_amount == 'CC') {
                                        db_item_caf = 1;
                                        ul += 'ì¹´í˜ì¸';
                                    }
                                    else if (caf_amount == 'CD') {
                                        ul += 'ë””ì¹´í˜ì¸';
                                    }
                                    else if (caf_amount == 'CH') {
                                        db_item_caf = 2;
                                        ul += 'í•˜í”„ë””ì¹´í˜ì¸';
                                    }
                                    ul += '</li>';
                                }

                                // 5. ì‹œëŸ½
                                syrup = user_op_list[user_op_list.length - 1][2];
                                if (syrup != "") {
                                    ul += '<li>';

                                    if (syrup[0] == 'B') {
                                        ul += 'ë°”ë‹ë¼ì‹œëŸ½';
                                        db_item_syrup = Number(syrup[1]);
                                    }
                                    else if (syrup[0] == 'H') {
                                        ul += 'í—¤ì´ì¦ë„›ì‹œëŸ½';
                                        db_item_syrup = Number(syrup[1] + "0");
                                    }
                                    else if (syrup[0] == 'C') {
                                        ul += 'ì¹´ë¼ë©œì‹œëŸ½';
                                        db_item_syrup = Number(syrup[1] + "00");
                                    }

                                    ul += ' +' + Number(syrup[1]) + 'íšŒ</li>';
                                    op_price += 600;
                                }

                                // 6. ìƒ·
                                shot = user_op_list[user_op_list.length - 1][3];
                                if (shot != "") {
                                    ul += '<li>ìƒ·';

                                    if (shot[0] == 'S') {
                                        db_item_shot = Number(shot[1]);
                                        ul += ' +' + Number(shot[1]) + '</li>';
                                    }
                                    op_price += Number(shot[1]) * 600;
                                }


                                // 7. ìš°ìœ 
                                milk = user_op_list[user_op_list.length - 1][4];
                                if (milk != "") {
                                    db_item_milk = 1;

                                    ul += '<li>';

                                    if (milk == 'ML') {
                                        db_item_milk = 2;
                                        ul += 'ì €ì§€ë°©';
                                    }
                                    else if (milk == 'MN') {
                                        db_item_milk = 3;
                                        ul += 'ë¬´ì§€ë°©';
                                    }
                                    else if (milk == 'MS') {
                                        db_item_milk = 4;
                                        ul += 'ë‘ìœ ';
                                    }
                                    else if (milk == 'MO') {
                                        db_item_milk = 5;
                                        ul += 'ê·€ë¦¬(ì˜¤íŠ¸)';
                                    }
                                    ul += '</li>';
                                    op_price += 600;
                                }

                                // 8. íœ˜í•‘
                                whip = user_op_list[user_op_list.length - 1][5];
                                if (whip != "") {
                                    ul += '<li>';

                                    if (whip[0] == 'E') {
                                        ul += 'ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘í¬ë¦¼';

                                        if (whip[2] == '3') {
                                            db_item_whip = 13;
                                            ul += '<span>ë§ì´</span>'
                                        }
                                        else if (whip[2] == '2') {
                                            db_item_whip = 11;
                                            ul += '<span>ë³´í†µ</span>'
                                        }
                                        else if (whip[2] == '1') {
                                            db_item_whip = 12;
                                            ul += '<span>ì ê²Œ</span>'
                                        }
                                    }
                                    else if (whip[0] == 'W') {
                                        ul += 'íœ˜í•‘í¬ë¦¼';

                                        if (whip[1] == '3') {
                                            db_item_whip = 3;
                                            ul += '<span>ë§ì´</span>'
                                        }
                                        else if (whip[1] == '2') {
                                            db_item_whip = 1;
                                            ul += '<span>ë³´í†µ</span>'
                                        }
                                        else if (whip[1] == '1') {
                                            db_item_whip = 2;
                                            ul += '<span>ì ê²Œ</span>'
                                        }
                                    }

                                    ul += ' </li>';
                                    op_price += 600;
                                }

                                // 9. ìë°”ì¹©
                                java_chip = user_op_list[user_op_list.length - 1][6];
                                if (java_chip != "") {
                                    ul += '<li>';

                                    if (java_chip == 'JAC') {
                                        db_item_java_chip = 2;
                                        ul += 'í†µìë°”ì¹© í† í•‘';
                                    }
                                    else if (java_chip == 'JC') {
                                        db_item_java_chip = 1;
                                        ul += 'ìë°”ì¹© í† í•‘';
                                    }
                                    ul += '</li>';

                                    op_price += 600;
                                }

                                // 10. ë“œë¦¬ì¦
                                driz = user_op_list[user_op_list.length - 1][7];
                                if (driz != "") {
                                    ul += '<li>';

                                    db_item_driz_txt = "";

                                    if (driz[2] == 'R') {
                                        ul += 'ì¹´ë¼ë©œë“œë¦¬ì¦';
                                        db_item_driz_txt = "1";
                                    }
                                    else if (driz[2] == 'C') {
                                        ul += 'ì´ˆì½”ë“œë¦¬ì¦';
                                    }


                                    if (driz[3] == '3') {
                                        ul += '<span>ë§ì´</span>'
                                        db_item_driz_txt += "3";
                                    }
                                    else if (driz[3] == '2') {
                                        ul += '<span>ë³´í†µ</span>'
                                        db_item_driz_txt += "1";
                                    }
                                    else if (driz[3] == '1') {
                                        ul += '<span>ì ê²Œ</span>'
                                        db_item_driz_txt += "2";
                                    }

                                    db_item_driz = Number(db_item_driz_txt);
                                    ul += '</li>';
                                    op_price += 600;
                                }


                                //ê°€ê²© ê³„ì‚°
                                menu_price = (price + op_price) * menu_ea;
                                price_list.push(menu_price);
                                total_price += menu_price;


                                //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]
                                //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


                                // ì‹¤ì œ DB ì¶”ê°€ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ì˜ìˆ˜ì¦ ë²ˆí˜¸, ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
                                //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                                //ìŒì‹ì´ë©´
                                if (category == "BAKERY") {
                                    after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                                    after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
                                }
                                else {
                                    after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                                    after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
                                }

                                if (category == "BAKERY") //ìŒì‹ì´ë©´ ì‚¬ì´ì¦ˆë‘ ì˜¨ë„ ë‚˜ì˜¤ì§€ ì•Šë„ë¡
                                {
                                    ul += '</ul>'
                                    forms_txt = '<tr>\
                                        <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3>'+ menu + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                    forms_list.push(forms_txt);
                                }
                                else { //ìŒë£Œë©´ ì‚¬ì´ì¦ˆ ë‚˜ì˜¤ë„ë¡

                                    console.log("ì‚¬ì´ì¦ˆ: ", size, "ìˆ˜ëŸ‰: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                                    ul += '</ul>'
                                    forms_txt = '<tr>\
                                                    <div class="row" id="'+ menu + '">\
                                                        <div class="col-md-8">\
                                                            <td>\
                                                                <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                                                            </td>\
                                                        </div>\
                                                        <div class="col-md-2">\
                                                            <td>\
                                                                <h4 class="text-center">'+ menu_ea + '</h4>\
                                                            </td>\
                                                        </div>\
                                                        <div class="col-md-2">\
                                                            <td>\
                                                                <h4 class="text-center">'+ menu_price + '</h4>\
                                                            </td>\
                                                        </div>\
                                                    </div>\
                                                    <div class="row">'+ ul + '</div>\
                                                </tr>';
                                    forms_list.push(forms_txt);
                                }

                                real_forms = forms_list[0];

                                for (var i = 1; i < forms_list.length; i++) {
                                    real_forms += forms_list[i];
                                }

                                forms.innerHTML = real_forms;

                                total_price = 0;
                                for (var i = 0; i < price_list.length; i++) {
                                    total_price += price_list[i];
                                }
                                total_real.innerHTML = total_price + ' ì›';


                                txt.innerHTML = '"ê²°ì œ" / "ì¶”ê°€í•  ë©”ë‰´"ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”â—';
                                var audio4 = await tts("ê²°ì œ ë˜ëŠ” ì¶”ê°€í•  ë©”ë‰´ë¥¼ ë§ì”€í•´ì£¼ì„¸ìš”~");

                                menu_cnt += 1 //ì£¼ë¬¸ í•œê°œ ì™„ë£Œ
                            }
                        }
                        else //í•œ ê¸€ìë„ ì•ˆ ë“¤ì–´ì˜¤ë©´
                        {
                            txt.innerHTML = "âœ”ï¸ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë§ì”€í•´ì£¼ì„¸ìš”!";
                            var audio5 = await tts("ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë§ì”€í•´ì£¼ì„¸ìš”!");
                        }
                    }
                }
            }

            catch (error) {
                console.log(error);
            }

        }

        /* STT */
        var isRecognizing = false;

        try {
            var recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();
        }
        catch (e) {
            console.error(e);
        }

        recognition.lang = 'ko-KR';
        recognition.interimResults = false;
        recognition.maxAlternatives = 50; //í´ìˆ˜ë¡ ë°œìŒëŒ€ë¡œ ì•ˆì ê³  ë¬¸ì¥ ì í•©ë„ë¡œ.
        recognition.continuous = false; //ìŒì„±ì¸ì‹ ì•ˆëë‚˜ê³  ê³„ì†ë¨

        async function speech_to_text() {
            var resText = "";
            var txt = document.getElementById("ai_say");
            recognition.start();
            isRecognizing = true;

            recognition.onstart = function () {
                console.log("------------------------ìŒì„±ì¸ì‹ ì‹œì‘------------------------");
            }

            recognition.onresult = function (event) {
                resText = event.results[0][0].transcript;
                //txt.innerHTML = resText;

                if (resText == "ê²°ì œ" | resText == "ê²°ì œ.") {
                    console.log("ê²°ì œë¼ê³  ë§í•¨");
                    return "ê²°ì œ";
                }

                console.log('STT ë°˜í™˜:', resText);

            };

            await new Promise(resolve =>
                recognition.onend = e => {
                    {
                        console.log("------------------------ìŒì„±ì¸ì‹ ì¢…ë£Œ------------------------");
                        resolve();
                    }
                })

            recognition.stop();

            resText = resText.replace(".", "");
            return resText;
        }


        /* TTS */
        var voices = [];


        function setVoiceList() {
            voices = window.speechSynthesis.getVoices();
        }
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = setVoiceList;
        }


        async function tts(txt) {
            var end = false;

            if (!window.speechSynthesis) {
                alert("ìŒì„± ì¬ìƒì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤. í¬ë¡¬, íŒŒì´ì–´í­ìŠ¤ ë“±ì˜ ìµœì‹  ë¸Œë¼ìš°ì €ë¥¼ ì´ìš©í•˜ì„¸ìš”");
                return;
            }

            var lang = 'ko-KR';
            var utterThis = new SpeechSynthesisUtterance(txt);

            utterThis.text = txt;
            utterThis.lang = lang;
            utterThis.pitch = 1;
            utterThis.rate = 1; //ì†ë„

            //ê¸°ì¡´
            utterThis.onerror = function (event) {
                console.log('error', event);
            };

            var voiceFound = false;

            for (var i = 0; i < voices.length; i++) {
                if (voices[i].lang.indexOf(lang) >= 0 || voices[i].lang.indexOf(lang.replace('-', '_')) >= 0) {
                    utterThis.voice = voices[i];
                    voiceFound = true;
                }
            }
            if (!voiceFound) {
                alert('voice not found');
                return;
            }

            await new Promise(function (resolve) {
                utterThis.onend = resolve;
                window.speechSynthesis.speak(utterThis);
            });
        }

        /* DELAY - í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë°˜í™˜í•˜ëŠ” SetTimeout */
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }





















        //ì¬ì£¼ë¬¸í•  ë•Œ ì½”ë“œ ì¤‘ë³µ ë§‰ì„ ë°©ë²• ì¢€...
        async function reorder(stt_txt) {

            console.log("reorder í•¨ìˆ˜ ë“¤ì–´ê°€ê³ ë‚˜ì„œ");
            var stt_morpheme = await stem_analyzer(stt_txt);
            console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list);

            // ì—†ì• ê³  ì‹¶ì€ ë¬¸ìì—´ ì§€ì •
            for (var i = 0; i < morpheme_list.length; i++) {
                if (morpheme_list[i] == 'ë²ˆ') {
                    morpheme_list.splice(i, 1);
                    i++;
                }
            }
            console.log('ë²ˆ ì—†ì•¤ ë¬¸ìì—´: ', morpheme_list);
            morpheme_copy = morpheme_list.slice();
            //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜

            /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
            out: for (var x = 0; x < morpheme_list.length; x++) {
                inn: for (var y = 0; y < db_menu.length; y++) {
                    if (morpheme_list[x] == db_menu[y]) {
                        console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                        txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                        category = db[y][1];
                        category_list.push(db[y][1]);

                        //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                        if (y > 36) {
                            id_list.push(y + 2);
                        }
                        else {
                            id_list.push(y + 1);
                        }

                        morpheme_copy.splice(x, 1);
                        break inn;
                    }
                }
                break out;
            }

            /* ë©”ë‰´ ìˆëŠ”ì§€ í™•ì¸ */
            //ì´ì „ì— ì£¼ë¬¸ ì™„ë£Œí•œ ê°¯ìˆ˜ì™€ ì´ë²ˆì— ìƒˆë¡œ ë“¤ì–´ì™”ì„ ë©”ë‰´ ê°¯ìˆ˜ê°€ ë™ì¼í•˜ë©´? 
            //= ì¸ì‹ì´ ì•ˆëœ ê²ƒ. ì›ëœ ì£¼ë¬¸ ì™„ë£Œí•œ ê°¯ìˆ˜+1(menu_cnt+1)ê³¼ ì´ë²ˆì— ìƒˆë¡œ ë“¤ì–´ì˜¨ ê±°ê¹Œì§€ í¬í•¨ëœ ë©”ë‰´ ê°¯ìˆ˜(before_list.length)ê°€ ë™ì¼í•´ì•¼í•¨
            if (menu_cnt != (before_list.length) - 1) {
                console.log('ë©”ë‰´ ì¸ì‹ ëª»í•¨', "ì£¼ë¬¸ ì™„ë£Œ í›„ menu ì¹´ìš´íŠ¸: ", menu_cnt, "ë©”ë‰´ ì¸ì‹ before_list ì¹´ìš´íŠ¸: ", before_list);
                while (before_list.length == menu_cnt) {
                    //ë©”ë‰´ ì¸ì‹ë˜ì„œ before_listì— ë­ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ê³„ì† ë°˜ë³µ 
                    //menu_cntëŠ” ì£¼ë¬¸ ì™„ë£Œ íšŸìˆ˜ ì¹´ìš´íŠ¸(ì•„ì§ ì¶”ê°€ X). before_lengthëŠ” ì¶”ê°€ ì™„ë£Œ. ë”°ë¼ì„œ, ì •ìƒì ì´ë©´ menu_cnt+1ê³¼ before_lengthê°€ ê°™ì•„ì•¼í•˜ê³ ,
                    //ì¸ì‹ ì•ˆë˜ë©´ ë‘˜ì´ íšŸìˆ˜ê°€ ë˜‘ê°™ìŒ -> ë‹¬ë¼ì§ˆ ë•Œê¹Œì§€ ê³„ì† ì‹¤í–‰í•˜ê¸°
                    txt.innerHTML = "ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!";
                    var audio2 = await tts("ë©”ë‰´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!");
                    txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">ğŸ”´</span><span class="circle"> ì¸ì‹ ì¤‘</span></p>\
    <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(ì˜ˆ) ì¹´í‘¸ì¹˜ë…¸ ë°”ë‹ë¼ ì‹œëŸ½ 2ë²ˆ, ë””ì¹´í˜ì¸ìœ¼ë¡œ í•œì” ì£¼ì„¸ìš”.</p>'; //ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë“¤ì–´ê°€ë©´ ì¢‹ì„ ê±° ê°™ìŒ

                    var stt2 = await speech_to_text();

                    if (stt2.length > 1) //í•œ ê¸€ì ì´ìƒ ë“¤ì–´ì˜¤ë©´
                    {

                        /* í˜•íƒœì†Œ ë¶„ì„ê¸° ì‹¤í–‰ */
                        var stt_morpheme = await stem_analyzer(stt2);
                        //console.log("return: ",stt_morpheme); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜
                        console.log("ì „ì—­ í˜¸ì¶œ: ", morpheme_list); //-> [ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜]
                        morpheme_copy = morpheme_list.slice();
                        //console.log("ì „ì—­ í˜¸ì¶œ ë¬¸ì: ", morpheme_str); -> ì•„ë©”ë¦¬ì¹´ë…¸,í•˜ë‚˜

                        /* DBì— ìˆëŠ”ì§€ ë©”ë‰´ ì¡°íšŒ */
                        outer: for (var x = 0; x < morpheme_list.length; x++) {
                            inner: for (var y = 0; y < db_menu.length; y++) {
                                if (morpheme_list[x] == db_menu[y]) {
                                    console.log('ë©”ë‰´ ì¸ì‹ ì™„ë£Œ');
                                    txt.innerHTML = "âœ…" + db_menu[y] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                                    //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                    before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                    category = db[y][1];
                                    category_list.push(db[y][1]);

                                    //ìƒí’ˆ id ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ -> 38ì´ ì—†ì–´ì„œ 38 ì´ìƒì€ 2ê°œ ì¶”ê°€
                                    if (y > 36) {
                                        id_list.push(y + 2);
                                    }
                                    else {
                                        id_list.push(y + 1);
                                    }

                                    morpheme_copy.splice(x, 1);
                                    break inner;
                                }
                            }
                            break outer;
                        }
                    }
                }
            }



            /* ì‚¬ìš©ìê°€ ë§í•œ ì˜µì…˜ */
            var user_hot_cold = "";
            var user_caf_amount = "";
            var user_syrup = "";
            var user_shot = "";
            var user_milk = "";
            var user_whip = "";
            var user_java_chip = "";
            var user_driz = "";
            var user_sales_rate = "";
            var user_size = "";

            //ë©”ë‰´ ì´ë¦„ ì™¸ì— ì•„ë¬´ê²ƒë„ ë§ ì•ˆí–ˆì„ ë• ì•„ë˜ forë¬¸ì— ì•ˆ ë“¤ì–´ê° ã… ã… ã… ã… 
            if (morpheme_copy.length == 0) {

                //1. hot_cold ì •í•´ì£¼ê¸°
                if ((user_hot_cold == "") && (category != "BAKERY")) {
                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                        user_hot_cold = "H";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                        user_hot_cold = "C";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                        //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                        user_hot_cold = "C";
                    }
                }

                //2. size ì •í•´ì£¼ê¸°
                user_size = "S";
            }

            //ë©”ë‰´ ì´ë¦„, ìˆ˜ëŸ‰ (ì ì–´ë„ 2ê°œ ì´ìƒ ë§í–ˆì„ ë•Œ)
            for (var z = 0; z < morpheme_copy.length; z++) {
                /* ì‚¬ìš©ìê°€ ë§í•œ ë©”ë‰´ ì˜µì…˜!! */
                //!!!!!!!!!!!!!!!!! ë‚˜ì¤‘ì— ì„ë² ë”© ì—°ê²°í•˜ë©´ case ê°’ ë°”ê¾¸ê¸°
                console.log('========================================' + z + 'ë²ˆì§¸==================================');
                console.log('ë‹¨ì–´: ' + morpheme_copy[z]);
                console.log('ì´ë¦¬ìŠ¤íŠ¸: ' + morpheme_copy);
                console.log('ê¸¸ì´: ' + morpheme_copy.length);

                //0. ì‚¬ì´ì¦ˆ
                if (morpheme_copy[z] == 'ìˆ') {
                    user_size = "S";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'í†¨') {
                    user_size = "T";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ê·¸ë€ë°') {
                    user_size = "G";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ì•„ë¬´ ê°’ë„ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’
                if (user_size == "") {
                    user_size = "S";
                }

                //1. ì˜¨ë„
                if (morpheme_copy[z] == 'í•«') {
                    user_hot_cold = "H";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ì•„ì´ìŠ¤') {
                    user_hot_cold = "C";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //í•«
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                    user_hot_cold = "H";
                }
                else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ì½œë“œ
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";

                    user_hot_cold = "C";
                }

                //ì•„ë¬´ ê°’ë„ ì•ˆë“¤ì–´ì˜¤ë©´
                if ((user_hot_cold == "") && (category != "BAKERY")) {
                    console.log("user_hot_cold : ì•„ë¬´ ê°’ ì•ˆ ë“¤ì–´ì˜´");
                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                        user_hot_cold = "H";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                        user_hot_cold = "C";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                        //ë‘˜ ë‹¤ ê°€ëŠ¥í•˜ë©´ Iceë¡œ!
                        user_hot_cold = "C";
                    }
                }

                //2. ì¹´í˜ì¸ ì¡°ì ˆ
                if (morpheme_copy[z] == 'ì¹´í˜ì¸') {
                    user_caf_amount = 'CC';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ë””ì¹´í˜ì¸') {
                    user_caf_amount = 'CD';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if ((morpheme_copy[z].indexOf('í•˜í”„') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                    user_caf_amount = 'CH';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //ì¹´í˜ì¸ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {

                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì¹´í˜ì¸</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_caf_amount = "";
                }


                //3. ì‹œëŸ½ ì¡°ì ˆ
                if (morpheme_copy[z].indexOf('ì‹œëŸ½') >= 0) {

                    //3-1. ì‹œëŸ½ > ë°”ë‹ë¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                    if ((morpheme_copy[z + 1] == 'ë°”ë‹ë¼') || (morpheme_copy[z + 1] == 'ë°”ë‹ë¼ì‹œëŸ½')) {

                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // ìˆ«ì - ì‹œëŸ½ - ë°”ë‹ë¼ 
                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("në²ˆ ì‹œëŸ½ ë°”ë‹ë¼");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ì‹œëŸ½ - ë°”ë‹ë¼ - ìˆ«ì
                            user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ì‹œëŸ½ ë°”ë‹ë¼ në²ˆ");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ì‹œëŸ½ - ë°”ë‹ë¼ (ìˆ«ì ì—†ìŒ)
                            user_syrup = 'B2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ì‹œëŸ½ ë°”ë‹ë¼ ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }

                    /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                    //3-2. ì‹œëŸ½ > í—¤ì´ì¦ë„›ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„
                    else if ((morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›') || (morpheme_copy[z + 1] == 'í—¤ì´ì¦ë„›ì‹œëŸ½')) {
                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // ìˆ«ì - ì‹œëŸ½ - í—¤ì´ì¦ë„› 
                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("në²ˆ ì‹œëŸ½ í—¤ì´ì¦ë„›");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ì‹œëŸ½ - í—¤ì´ì¦ë„› - ìˆ«ì
                            user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› në²ˆ");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ì‹œëŸ½ - í—¤ì´ì¦ë„› (ìˆ«ì ì—†ìŒ)
                            user_syrup = 'H2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ì‹œëŸ½ í—¤ì´ì¦ë„› ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }

                    //3-3. ì‹œëŸ½ > ì¹´ë¼ë©œë¡œ í˜•íƒœì†Œ ë¶„ì„
                    else if ((morpheme_copy[z + 1] == 'ì¹´ë¼ë©œ') || (morpheme_copy[z + 1] == 'ì¹´ë¼ë©œì‹œëŸ½')) {
                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // ìˆ«ì - ì‹œëŸ½ - ì¹´ë¼ë©œ
                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("në²ˆ ì‹œëŸ½ ì¹´ë¼ë©œ");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ì‹œëŸ½ - ì¹´ë¼ë©œ - ìˆ«ì
                            user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ì‹œëŸ½ ì¹´ë¼ë©œ në²ˆ");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ì‹œëŸ½ - ì¹´ë¼ë©œ (ìˆ«ì ì—†ìŒ)
                            user_syrup = 'C2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ì‹œëŸ½ ì¹´ë¼ë©œ ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }

                    //3-4. ë°”ë‹ë¼ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ë°”ë‹ë¼ì‹œëŸ½)
                    else if (morpheme_copy[z] == 'ë°”ë‹ë¼ì‹œëŸ½') {

                        //ìˆ«ì - ë°”ë‹ë¼ - ì‹œëŸ½
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("në²ˆ ë°”ë‹ë¼ì‹œëŸ½");
                            continue;
                        }
                        //ë°”ë‹ë¼ - ì‹œëŸ½ - ìˆ«ì
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ë°”ë‹ë¼ì‹œëŸ½ në²ˆ");
                            continue;
                        }
                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'B2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("ë°”ë‹ë¼ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }

                    /* í˜•íƒœì†Œ (í—¤ì´ì¦ë„› ë„ˆë¬´ ë¶ˆì•ˆì •í•¨) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                    //3-5. í—¤ì´ì¦ë„› > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (í—¤ì´ì¦ë„›ì‹œëŸ½)
                    else if (morpheme_copy[z] == 'í—¤ì´ì¦ë„›ì‹œëŸ½') {

                        //ìˆ«ì - í—¤ì´ì¦ë„› - ì‹œëŸ½
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("në²ˆ í—¤ì´ì¦ë„›ì‹œëŸ½");
                            continue;
                        }
                        //í—¤ì´ì¦ë„› - ì‹œëŸ½ - ìˆ«ì
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ në²ˆ");
                            continue;
                        }
                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'H2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("í—¤ì´ì¦ë„›ì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }


                    //3-6. ì¹´ë¼ë©œ > ì‹œëŸ½ìœ¼ë¡œ í˜•íƒœì†Œ ë¶„ì„ (ì¹´ë¼ë©œì‹œëŸ½)
                    else if (morpheme_copy[z] == 'ì¹´ë¼ë©œì‹œëŸ½') {

                        //ìˆ«ì - ì¹´ë¼ë©œ - ì‹œëŸ½
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("në²ˆ ì¹´ë¼ë©œì‹œëŸ½");
                            continue;
                        }
                        //ì¹´ë¼ë©œ - ì‹œëŸ½ - ìˆ«ì
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ì¹´ë¼ë©œì‹œëŸ½ në²ˆ");
                            continue;
                        }
                        //ì•„ë¬´ê²ƒë„ ì—†ì„ ë•Œ
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'C2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("ì¹´ë¼ë©œì‹œëŸ½ ìˆ«ì ì—†ìŒ");
                            continue;
                        }
                    }

                    //3-7. ì‹œëŸ½ ì¢…ë¥˜ ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆí–ˆì„ ë•Œ
                    else {
                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + "ì´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                        await delay(2000);
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ì‹œëŸ½ ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                        continue;
                    }
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ì‹œëŸ½ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ì‹œëŸ½</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_syrup = "";
                }


                /* í˜•íƒœì†Œ (ìƒ· ì¸ì‹ ë¶ˆì•ˆì • / ì£¼ë¬¸ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ë‹¤ì‹œ ì•Œì•„ë³´ê³  í•˜ê¸°) ì†ë³´ê³  ë‹¤ì‹œ!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737ë²ˆì§¸ ì¤„ ë‹¤ì‹œ) */
                //4. ìƒ· ì¡°ì ˆ -> ì„, ê²” ë‚˜ì¤‘ì— í˜•íƒœì†Œ ì ìš©ë˜ë©´ ì—†ì• ê¸°
                if ((morpheme_copy[z].indexOf('ìƒ·') >= 0) || (morpheme_copy[z].indexOf('ì„') >= 0) || (morpheme_copy[z].indexOf('ê²”') >= 0) || (morpheme_copy[z].indexOf('ì‰') >= 0)) {

                    //ìˆ«ì - ìƒ·
                    if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                        morpheme_copy.splice(z - 1, 2);
                        z--;
                        console.log("në²ˆ ìƒ·");
                        continue;
                    }

                    //ìƒ· - ìˆ«ì
                    else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ìƒ· në²ˆ");
                        continue;
                    }

                    //ìˆ«ì ë§ ì•ˆí•˜ë©´
                    else {
                        user_shot = 'S1';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ìƒ· ì„ íƒ ì•ˆí•¨");
                        continue;
                    }
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ìƒ· ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìƒ·</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_shot = "";
                }


                //5. ìš°ìœ  ì¡°ì ˆ

                if (morpheme_copy[z].indexOf('ìš°ìœ ') >= 0) {

                    // ìš°ìœ ê°€ ì•ì— ìˆì„ ë•Œ
                    if ((morpheme_copy[z + 1].indexOf('ì €ì§€ë°©') >= 0)) {
                        //1. ìš°ìœ  - ì €ì§€ë°©(ìš°ìœ )
                        user_milk = 'ML';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    else if ((morpheme_copy[z + 1].indexOf('ë¬´ì§€ë°©') >= 0)) { //indexOf í¬í•¨ ë¬¸ìì—´ ìˆìœ¼ë©´ í•´ë‹¹ ì¸ë±ìŠ¤, ì—†ìœ¼ë©´ -1 ë°˜í™˜
                        //2. ìš°ìœ  - ë¬´ì§€ë°©(ìš°ìœ )
                        user_milk = 'MN';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    else if ((morpheme_copy[z + 1].indexOf('ë‘ìœ ') >= 0)) {
                        //3. ìš°ìœ  - ë‘ìœ 
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    //ìš°ìœ ê°€ ë’¤ì— ìˆì„ ë•Œ
                    else if ((morpheme_copy[z].indexOf('ì €ì§€ë°©') >= 0)) {
                        //5. ì €ì§€ë°© - ìš°ìœ 
                        user_milk = 'ML';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ì €ì§€ë°© ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('ë¬´ì§€ë°©') >= 0)) {
                        //6. ë¬´ì§€ë°© - ìš°ìœ 
                        user_milk = 'MN';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ë¬´ì§€ë°© ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('ë‘ìœ ') >= 0)) {
                        //7. ë‘ìœ  - ìš°ìœ 
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    //ë‘ìœ ë‘ ì˜¤íŠ¸ëŠ” ë©”ë‰´ë‘ë„ ê²¹ì¹˜ëŠ” ë¶€ë¶„ ìˆì–´ì„œ ë’¤ë¡œ ë¯¸ë£¸
                    else if ((morpheme_copy[z + 1].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸') >= 0)) {
                        //4. ìš°ìœ  - ê·€ë¦¬ / ì˜¤íŠ¸ (ìš°ìœ )
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 2);
                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë¨¼ì € ë‚˜ì˜´");
                        console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                        console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                        z--;
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                        //8. ê·€ë¦¬ / ì˜¤íŠ¸ - ìš°ìœ 
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 1);
                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ì„ íƒ - ìš°ìœ ê°€ ë‚˜ì¤‘ ë‚˜ì˜´");
                        console.log(morpheme_copy[z + 1].indexOf('ê·€ë¦¬'));
                        console.log(morpheme_copy[z + 1].indexOf('ì˜¤íŠ¸'));
                        z--;
                        continue;
                    }
                    else {
                        txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + "ê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ğŸ¥² (ì¢…ë¥˜ ë¯¸ì„ íƒ)";
                        await delay(2000);
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ìš°ìœ  ì¢…ë¥˜ ì„ íƒ ì•ˆí•¨");
                        continue;
                    }
                }
                else {
                    //ë‘ìœ ë‚˜ ê·€ë¦¬/ì˜¤íŠ¸ëŠ” ë”°ë¡œ ìš°ìœ  ë§ ì•ˆí•˜ê³  ë°”ê¿€ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œ ë”°ë¡œ ë¹¼ì¤Œ
                    if (morpheme_copy[z].indexOf('ë‘ìœ ') >= 0) {
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ë‘ìœ  ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('ê·€ë¦¬') >= 0) || (morpheme_copy[z].indexOf('ì˜¤íŠ¸') >= 0)) {
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ê·€ë¦¬/ì˜¤íŠ¸ ìš°ìœ  ì„ íƒ");
                        continue;
                    }
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //ìš°ìœ  ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìš°ìœ </span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_milk = "";
                }


                //6. íœ˜í•‘ ì¡°ì ˆ
                if (morpheme_copy[z].indexOf('íœ˜í•‘') >= 0) {

                    //ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘ì¸ì§€ ê·¸ëƒ¥ íœ˜í•‘ì¸ì§€

                    //1. ì—ìŠ¤í”„ë ˆì†Œ-íœ˜í•‘
                    if (morpheme_copy[z].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                        user_whip = 'EW';

                        //2-1. ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘
                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                            //ë§
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                            continue;
                        }
                        //2-2. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘
                        else if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                            continue;
                        }
                        else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                            continue;
                        }
                        //2-3. ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘ ì—†ìŒ
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                            continue;
                        }
                    }
                    //3. íœ˜í•‘ - ì—ìŠ¤í”„ë ˆì†Œ
                    else if (morpheme_copy[z + 1].indexOf('ì—ìŠ¤í”„ë ˆì†Œ') >= 0) {
                        user_whip = 'EW';

                        //2-1. ì–‘-íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ
                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                            //ë§
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log('ì–‘-ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘');
                            continue;
                        }
                        //2-2. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘
                        else if (morpheme_copy[z + 2].indexOf('ë§') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                            continue;
                        }
                        else if ((morpheme_copy[z + 2].indexOf('ì ') >= 0) || (morpheme_copy[z + 2].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 2].indexOf('ì•½ê°„') >= 0)) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘-ì–‘');
                            continue;
                        }
                        //2-3. íœ˜í•‘-ì—ìŠ¤í”„ë ˆì†Œ-ì–‘ ì—†ìŒ
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ì—ìŠ¤í”„ë ˆì†Œíœ˜í•‘ ì–‘ ì—†ìŒ');
                            continue;
                        }
                    }

                    //4. ì¼ë°˜ íœ˜í•‘
                    else {
                        user_whip = 'W';

                        //1. íœ˜í•‘-ì–‘
                        if (morpheme_copy[z + 1].indexOf('ë§') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ì¼ë°˜íœ˜í•‘-ë§');
                            continue;
                        }
                        else if ((morpheme_copy[z + 1].indexOf('ì ') >= 0) || (morpheme_copy[z + 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z + 1].indexOf('ì•½ê°„') >= 0)) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ì¼ë°˜íœ˜í•‘-ì ');
                            continue;
                        }
                        //2. ì–‘-íœ˜í•‘
                        else if ((z != 0) && (morpheme_copy[z - 1].indexOf('ë§') >= 0)) {
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('ë§-ì¼ë°˜íœ˜í•‘');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('ì ') >= 0) || (morpheme_copy[z - 1].indexOf('ì¡°ê¸ˆ') >= 0) || (morpheme_copy[z - 1].indexOf('ì•½ê°„') >= 0))) {
                            //ì 
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('ì -ì¼ë°˜íœ˜í•‘');
                            continue;
                        }
                        //3. íœ˜í•‘-ì–‘ ì—†ìŒ
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log('ì¼ë°˜íœ˜í•‘-ì–‘ ì—†ìŒ');
                            continue;
                        }
                    }

                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //íœ˜í•‘ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>íœ˜í•‘</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_whip = "";
                }

                //7. ìë°”ì¹© ì¡°ì ˆ
                if ((morpheme_list[z].indexOf('ìë°”ì¹©') >= 0) && before_list[before_list.length - 1][0].indexOf('ìë°”ì¹©') < 0) {

                    if (morpheme_list[z - 1].indexOf('í†µ') >= 0) {
                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                        morpheme_copy.splice(z, 1);
                        morpheme_copy.splice(z - 1, 1);
                    }
                    else if (morpheme_list[z].indexOf('í†µ') >= 0) {
                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                        morpheme_copy.splice(z, 1);
                    }
                    else if (morpheme_list[z + 1].indexOf('í†µ') >= 0) {
                        user_java_chip = 'JCA'; //í†µìë°”ì¹© í† í•‘
                        morpheme_copy.splice(z + 1, 1);
                        morpheme_copy.splice(z, 1);
                    }
                    else {
                        user_java_chip = 'JC'; //ì¼ë°˜ ìë°”ì¹© í† í•‘
                    }
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ìë°”ì¹© ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ìë°”ì¹©</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_java_chip = "";
                }


                //8. ë“œë¦¬ì¦ ì¡°ì ˆ
                if (morpheme_list[z].indexOf('ë“œë¦¬ì¦') >= 0) {

                    //ì¹´ë¼ë©œì¸ì§€ ì´ˆì½œë¦¿ì¸ì§€
                    if ((morpheme_list[z - 1] == 'ì¹´ë¼ë©œ') || (morpheme_list[z] == 'ì¹´ë¼ë©œ')) {
                        user_driz = 'DCR';
                    }
                    else {
                        user_driz = 'DCC';
                    }

                    // ì–‘ì€ ì–¼ë§ˆë‚˜ í• ê±´ì§€
                    if (morpheme_list[z + 1].indexOf('ë§') >= 0) {
                        user_driz += '3';
                    }
                    else if ((morpheme_list[z + 1] == 'ì ê²Œ') || (morpheme_list[z + 1] == 'ì¡°ê¸ˆ') || (morpheme_list[z + 1] == 'ì•½ê°„')) {
                        user_driz += '1';
                    }
                    else if (morpheme_list[z + 1] == 'ë³´í†µ') {
                        user_driz += '2';
                    }
                    else { //ë§ ì•ˆí•˜ë©´ ë³´í†µ
                        user_driz += '2';
                    }
                }

                //ì˜ˆì™¸ì²˜ë¦¬
                if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ë“œë¦¬ì¦ ì¡°ì ˆ ë¶ˆê°€ëŠ¥
                {
                    txt.innerHTML = "ğŸš« ì˜µì…˜ " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ë“œë¦¬ì¦</span>" + " ì¡°ì ˆì´ ë¶ˆê°€ëŠ¥í•œ ë©”ë‰´ì…ë‹ˆë‹¤ğŸ¥²";
                    await delay(2000);
                    txt.innerHTML = "âœ… " + before_list[before_list.length - 1][0] + " ë©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!";
                    user_driz = "";
                }

            }

            //user_op_list = (ì˜¨ë„)H/C, (ì¹´í˜ì¸)CC/CH/CD, (ì‹œëŸ½)Bìˆ«ì/Hìˆ«ì/Cìˆ«ì, 
            //(ìƒ·)Sìˆ«ì, (ìš°ìœ )ML/MN/MS/MO, (íœ˜í•‘)EW1~3/W1~3, (ìë°”ì¹©)JCA/JC, (ë“œë¦¬ì¦)DCR1~3/DCC1~3, (ì‚¬ì´ì¦ˆ) S/T/G

            user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                user_java_chip, user_driz, user_size]);

            console.log("ì‚¬ìš©ìê°€ ì¶”ê°€í•œ ì˜µì…˜ : ", user_op_list);


            var audio4 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\në©”ë‰´ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!");

            console.log('ì¶”ê°€ëœ ë©”ë‰´', before_list[before_list.length - 1][0]);
            console.log('ë©”ë‰´ ê°€ê²©', before_list[before_list.length - 1][1]);
            console.log('ì¶”ê°€ëœ ì˜µì…˜', user_op_list);

            /* ì‹¤ì œ ì˜µì…˜ */
            var menu = "";
            var price = 0;
            var menu_ea = 1;

            var hot_cold = "";
            var caf_amount = "";
            var syrup = "";
            var shot = "";
            var milk = "";
            var whip = "";
            var java_chip = "";
            var driz = "";
            var sales_rate = "";
            var size = "";
            var ul = "<ul>";
            var op_price = 0;


            /* DBì— ë„£ì„ ì‹¤ì œ ë¦¬ìŠ¤íŠ¸ - after db list*/
            var db_item_receipt = "";
            var db_item_prod = 0;
            var db_item_quan = 0;
            var db_item_size = 0;
            var db_item_price = 0;
            var db_item_hot_cold = 0;
            var db_item_caf = 0;
            var db_item_syrup = 0;
            var db_item_shot = 0;
            var db_item_milk = 0;
            var db_item_whip = 0;
            var db_item_java_chip = 0;
            var db_item_driz = 0;

            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
            /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

            /* var after_list = new Array();  */
            //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]

            //1,2,3. ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ
            menu = before_list[before_list.length - 1][0];
            db_item_prod = menu;
            price = Number(before_list[before_list.length - 1][1]);
            db_item_price = price;
            size = user_op_list[user_op_list.length - 1][8];

            if (size == 'T') {
                op_price += 500;
                db_item_size = 1;
            }
            else if (size == 'G') {
                op_price += 1000;
                db_item_size = 2;
            }


            //4. ìˆ˜ëŸ‰
            /* í˜•íƒœì†Œ ë¶„ì„ê¸° ë¦¬ìŠ¤íŠ¸ ë‹¤ ë¹¼ê³  ìˆ«ìë§Œ ë‚¨ì€ ê±¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ì¸ì‹ */
            for (var k = 0; k < morpheme_copy.length; k++) {
                if (isInteger(Number(morpheme_copy[k])) == true) {
                    menu_ea = Number(morpheme_copy[k]);
                    db_item_quan = menu_ea;
                    console.log("ìˆ˜ëŸ‰ ìˆìŒ", menu_ea);
                    break;
                }
                else {
                    menu_ea = 1;
                    db_item_quan = 1;
                }
            }



            //3. hot_cold -> case 3: hot/cold ë‘˜ ë‹¤ ë‹¤ ë  ë• ì–´ë–»ê²Œ í•  ê±´ì§€ ë””í´íŠ¸ ê°’ ì •í•˜ê¸°!!
            hot_cold = user_op_list[user_op_list.length - 1][0];
            var hot_cold_icon = '';

            if (hot_cold == 'H') {
                hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                db_item_hot_cold = 1;
            }
            else if (hot_cold == 'C') {
                hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                db_item_hot_cold = 2;
            }

            //4. caf_amount
            caf_amount = user_op_list[user_op_list.length - 1][1];
            if (caf_amount != "") {
                ul += '<li>';

                if (caf_amount == 'CC') {
                    db_item_caf = 1;
                    ul += 'ì¹´í˜ì¸';
                }
                else if (caf_amount == 'CD') {
                    ul += 'ë””ì¹´í˜ì¸';
                }
                else if (caf_amount == 'CH') {
                    db_item_caf = 2;
                    ul += 'í•˜í”„ë””ì¹´í˜ì¸';
                }
                ul += '</li>';
            }

            // 5. ì‹œëŸ½
            syrup = user_op_list[user_op_list.length - 1][2];
            if (syrup != "") {
                ul += '<li>';

                if (syrup[0] == 'B') {
                    ul += 'ë°”ë‹ë¼ì‹œëŸ½';
                    db_item_syrup = Number(syrup[1]);
                }
                else if (syrup[0] == 'H') {
                    ul += 'í—¤ì´ì¦ë„›ì‹œëŸ½';
                    db_item_syrup = Number(syrup[1] + "0");
                }
                else if (syrup[0] == 'C') {
                    ul += 'ì¹´ë¼ë©œì‹œëŸ½';
                    db_item_syrup = Number(syrup[1] + "00");
                }

                ul += ' +' + Number(syrup[1]) + 'íšŒ</li>';
                op_price += 600;
            }

            // 6. ìƒ·
            shot = user_op_list[user_op_list.length - 1][3];
            if (shot != "") {
                ul += '<li>ìƒ·';

                if (shot[0] == 'S') {
                    db_item_shot = Number(shot[1]);
                    ul += ' +' + Number(shot[1]) + '</li>';
                }
                op_price += Number(shot[1]) * 600;
            }


            // 7. ìš°ìœ 
            milk = user_op_list[user_op_list.length - 1][4];
            if (milk != "") {
                db_item_milk = 1;

                ul += '<li>';

                if (milk == 'ML') {
                    db_item_milk = 2;
                    ul += 'ì €ì§€ë°©';
                }
                else if (milk == 'MN') {
                    db_item_milk = 3;
                    ul += 'ë¬´ì§€ë°©';
                }
                else if (milk == 'MS') {
                    db_item_milk = 4;
                    ul += 'ë‘ìœ ';
                }
                else if (milk == 'MO') {
                    db_item_milk = 5;
                    ul += 'ê·€ë¦¬(ì˜¤íŠ¸)';
                }
                ul += '</li>';
                op_price += 600;
            }

            // 8. íœ˜í•‘
            whip = user_op_list[user_op_list.length - 1][5];
            if (whip != "") {
                ul += '<li>';

                if (whip[0] == 'E') {
                    ul += 'ì—ìŠ¤í”„ë ˆì†Œ íœ˜í•‘í¬ë¦¼';

                    if (whip[2] == '3') {
                        db_item_whip = 13;
                        ul += '<span>ë§ì´</span>'
                    }
                    else if (whip[2] == '2') {
                        db_item_whip = 11;
                        ul += '<span>ë³´í†µ</span>'
                    }
                    else if (whip[2] == '1') {
                        db_item_whip = 12;
                        ul += '<span>ì ê²Œ</span>'
                    }
                }
                else if (whip[0] == 'W') {
                    ul += 'íœ˜í•‘í¬ë¦¼';

                    if (whip[1] == '3') {
                        db_item_whip = 3;
                        ul += '<span>ë§ì´</span>'
                    }
                    else if (whip[1] == '2') {
                        db_item_whip = 1;
                        ul += '<span>ë³´í†µ</span>'
                    }
                    else if (whip[1] == '1') {
                        db_item_whip = 2;
                        ul += '<span>ì ê²Œ</span>'
                    }
                }

                ul += ' </li>';
                op_price += 600;
            }

            // 9. ìë°”ì¹©
            java_chip = user_op_list[user_op_list.length - 1][6];
            if (java_chip != "") {
                ul += '<li>';

                if (java_chip == 'JAC') {
                    db_item_java_chip = 2;
                    ul += 'í†µìë°”ì¹© í† í•‘';
                }
                else if (java_chip == 'JC') {
                    db_item_java_chip = 1;
                    ul += 'ìë°”ì¹© í† í•‘';
                }
                ul += '</li>';

                op_price += 600;
            }

            // 10. ë“œë¦¬ì¦
            driz = user_op_list[user_op_list.length - 1][7];
            if (driz != "") {
                ul += '<li>';

                db_item_driz_txt = "";

                if (driz[2] == 'R') {
                    ul += 'ì¹´ë¼ë©œë“œë¦¬ì¦';
                    db_item_driz_txt = "1";
                }
                else if (driz[2] == 'C') {
                    ul += 'ì´ˆì½”ë“œë¦¬ì¦';
                }


                if (driz[3] == '3') {
                    ul += '<span>ë§ì´</span>'
                    db_item_driz_txt += "3";
                }
                else if (driz[3] == '2') {
                    ul += '<span>ë³´í†µ</span>'
                    db_item_driz_txt += "1";
                }
                else if (driz[3] == '1') {
                    ul += '<span>ì ê²Œ</span>'
                    db_item_driz_txt += "2";
                }

                db_item_driz = Number(db_item_driz_txt);
                ul += '</li>';
                op_price += 600;
            }


            //ê°€ê²© ê³„ì‚°
            menu_price = (price + op_price) * menu_ea;
            price_list.push(menu_price);
            total_price += menu_price;


            //ì‹¤ì œ ì£¼ë¬¸ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ë©”ë‰´ì´ë¦„, ê°€ê²©, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦, ì‚¬ì´ì¦ˆ, ì˜µì…˜ê°€ê²©, ì´ê°€ê²©]
            //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


            // ì‹¤ì œ DB ì¶”ê°€ ì™„ì„± ë¦¬ìŠ¤íŠ¸ [ì˜ìˆ˜ì¦ ë²ˆí˜¸, ë©”ë‰´ì´ë¦„, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìˆ˜ëŸ‰, ì˜¨ë„, ì¹´í˜ì¸, ì‹œëŸ½, ìƒ·, ìš°ìœ , íœ˜í•‘, ìë°”ì¹©, ë“œë¦¬ì¦]
            //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

            //ìŒì‹ì´ë©´
            if (category == "BAKERY") {
                after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
            }
            else {
                after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
            }

            if (category == "BAKERY") //ìŒì‹ì´ë©´ ì‚¬ì´ì¦ˆë‘ ì˜¨ë„ ë‚˜ì˜¤ì§€ ì•Šë„ë¡
            {
                ul += '</ul>'
                forms_txt = '<tr>\
        <div class="row" id="'+ menu + '">\
                        <div class="col-md-8">\
                            <td>\
                                <h3>'+ menu + '</h3>\
                            </td>\
                        </div>\
                        <div class="col-md-2">\
                            <td>\
                                <h4 class="text-center">'+ menu_ea + '</h4>\
                            </td>\
                        </div>\
                        <div class="col-md-2">\
                            <td>\
                                <h4 class="text-center">'+ menu_price + '</h4>\
                            </td>\
                        </div>\
                    </div>\
                    <div class="row">'+ ul + '</div>\
                 </tr>';
                forms_list.push(forms_txt);
            }
            else { //ìŒë£Œë©´ ì‚¬ì´ì¦ˆ ë‚˜ì˜¤ë„ë¡

                console.log("ì‚¬ì´ì¦ˆ: ", size, "ìˆ˜ëŸ‰: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                ul += '</ul>'
                forms_txt = '<tr>\
                    <div class="row" id="'+ menu + '">\
                        <div class="col-md-8">\
                            <td>\
                                <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                            </td>\
                    </div>\
                    <div class="col-md-2">\
                        <td>\
                            <h4 class="text-center">'+ menu_ea + '</h4>\
                        </td>\
                    </div>\
                    <div class="col-md-2">\
                        <td>\
                            <h4 class="text-center">'+ menu_price + '</h4>\
                        </td>\
                    </div>\
                </div>\
                <div class="row">'+ ul + '</div>\
            </tr>';
                forms_list.push(forms_txt);
            }

            real_forms = forms_list[0];

            for (var i = 1; i < forms_list.length; i++) {
                real_forms += forms_list[i];
            }

            forms.innerHTML = real_forms;

            total_price = 0;
            for (var i = 0; i < price_list.length; i++) {
                total_price += price_list[i];
            }
            total_real.innerHTML = total_price + ' ì›';

            menu_cnt += 1

            //í•¨ìˆ˜ ë
            console.log("reorder í•¨ìˆ˜ ë ì¤„");
        }




















    </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>




</body>

</html>