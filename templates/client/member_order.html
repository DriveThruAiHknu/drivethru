<html>

<head>
    <title> ÌÇ§Ïò§Ïä§ÌÅ¨ </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

{% load static %}
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'client/style/member_order_style.css' %}">


<body>

    <div class="container" id="full_content">
        <!-- ai -->
        <div class="row justify-content-center mb-4" id="bot">
            <div class="ai_img col-sm-3"></div>
            <div class="ai_txt col-sm-9">
                <h2 id="ai_say">üåøÏñ¥ÏÑúÏò§ÏÑ∏Ïöî! Ïä§ÌÉÄÎ≤ÖÏä§ÏûÖÎãàÎã§üåø</h2>
            </div>
        </div>

        <!-- ÏôºÏ™Ω Î©îÎâ¥ / Ïò§Î•∏Ï™Ω ÏòÅÏàòÏ¶ù-->
        <div class="row h-75">


            <!-- ÏôºÏ™Ω Î©îÎâ¥Îì§-->
            <div class="col-xxl-6" id="left">
                <div class="container">

                    <!-- ÏµúÍ∑º Ï£ºÎ¨∏ Î©îÎâ¥-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 id="menu_txt" class="mb-3"> ÏµúÍ∑º Ï£ºÎ¨∏ Î©îÎâ¥</h4>
                            <div class="row justify-content-around">
                                <!-- ÏÉÅÌíà 1, 2-->

                                <!-- ÏÉÅÌíà1 -->
                                <div class="col-md-6" id="item1">
                                    <div class="image1"></div>
                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">1</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_1_id">Ïπ¥Ìéò ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏
                                            <span class="badge bg-primary">Ice</span>
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">$</button>
                                        4.3
                                    </h5>
                                </div>

                                <!-- ÏÉÅÌíà2 -->
                                <div class="col-md-6" id="item2">
                                    <div class="image2"></div>
                                    <div class="menu_item">

                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">2</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_2_id">Ïπ¥Ìë∏ÏπòÎÖ∏
                                            <span class="badge bg-danger">Hot</span>
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            5.4
                                        </h5>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>


                    <!-- ÏµúÎã§ Ï£ºÎ¨∏ Î©îÎâ¥-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 class="mt-5 mb-3" id="menu_txt"> ÏµúÎã§ Ï£ºÎ¨∏ Î©îÎâ¥</h4>
                            <div class="row">
                                <!-- ÏÉÅÌíà 3, 4, 5, 6-->

                                <!-- ÏÉÅÌíà3 -->
                                <div class="col" id="item3">
                                    <div class="image3"></div>
                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">3</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_3_id">Ïπ¥ÌéòÎùºÎñº
                                            <span class="badge bg-primary">Ice</span>
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">$</button>
                                        4.4
                                    </h5>
                                </div>

                                <!-- ÏÉÅÌíà4 -->
                                <div class="col" id="item4">
                                    <div class="image4"></div>
                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">4</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_4_id">ÏΩîÏΩîÏïÑ
                                            <span class="badge bg-danger">Hot</span>
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            3.5
                                        </h5>
                                    </div>
                                </div>

                                <!-- ÏÉÅÌíà5 -->
                                <div class="col" id="item5">
                                    <div class="image5"></div>
                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">5</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_5_id">Í≥°Î¨º Îπµ
                                            <span class="badge bg-info">Food</span>
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            4.1
                                        </h5>
                                    </div>
                                </div>

                                <!-- ÏÉÅÌíà6 -->
                                <div class="col" id="item6">
                                    <div class="image6"></div>
                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">6</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_6_id">Î≥µÏà≠ÏïÑ Ìã∞
                                            <span class="badge bg-danger">Hot</span>
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">$</button>
                                            4.8
                                        </h5>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Ïò§Î•∏Ï™Ω ÏòÅÏàòÏ¶ù-->
            <div class="col-xxl-6" id="right">


                <h4 id="menu_txt" class="mb-3">Ï£ºÎ¨∏ Î™©Î°ù</h4>
                <div class="container-fluid" id="menu_table">
                    <table>

                        <tr>
                            <div class="row" id="title">
                                <div class="col-md-8">
                                    <h3 class="text-center">Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥</h3>
                                </div>
                                <div class="col-md-2">
                                    <h3 class="text-center">ÏàòÎüâ</h3>
                                </div>
                                <div class="col-md-2">
                                    <h3 class="text-center">Í∞ÄÍ≤©</h3>
                                </div>
                            </div>

                        </tr>


                        <div id="content"></div>

                    </table>
                    <div class="row">
                        <div class="col-md-6 text-center" id="border3">
                            <h3 id="total_txt">Ï£ºÎ¨∏ Í∏àÏï°</h3>
                        </div>
                        <div class="col-md-6 text-center" id="border2">
                            <h3 id="total_real">0 Ïõê</h3>
                        </div>
                    </div>




                </div>
            </div>
        </div>

    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>

    <script>


        /* Î©îÏù∏ */
        var morpheme_list = new Array(); //ÌòïÌÉúÏÜå Î¶¨Ïä§Ìä∏ Ï†ÄÏû•
        var before_list = new Array(); //Ï£ºÎ¨∏ Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
        var user_op_list = new Array();
        var after_list = new Array(); //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
        var txt = document.getElementById("ai_say");
        var forms = document.getElementById("content");
        var forms_txt = '';
        var total_real = document.getElementById("total_real");

        var price_list = new Array(); //ÏÉÅÌíà 1Í∞ú Í∞ÄÍ≤©*ÏàòÎüâ + ÏòµÏÖò
        var morpheme_str = "";
        var menu_price = 0;
        var total_price = 0;


        txt.innerHTML = "üåøÏñ¥ÏÑúÏò§ÏÑ∏Ïöî! Ïä§ÌÉÄÎ≤ÖÏä§ÏûÖÎãàÎã§üåø";

        window.onload = function () {
            setTimeout(() => {
                order();
            }, 1000);
        }

        /* Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Í∞ÄÏ†∏Ïò§Í∏∞ */
        var db_str = '{{ prods|escapejs }}';
        var db_list = db_str.slice(1, -1);
        db_list = db_list.split('),');

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Ï†ÑÏ≤¥(db)
        var db = new Array();
        for (var i = 0; i < db_list.length; i++) {
            db.push(db_list[i].replace(/\'|\"|\(|\)| /g, "").split(','));
        }

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Î©îÎâ¥(db_menu)
        var db_menu = new Array();
        for (var j = 0; j < db.length; j++) {
            db_menu.push(db[j][2]);
        }

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Í∞ÄÍ≤©(db_price)
        var db_price = new Array();
        for (var k = 0; k < db.length; k++) {
            db_price.push(db[k][3]);
        }

        /* fetchÎ°ú viewÏóê ÏûàÎäî Î∂ÑÏÑùÍ∏∞Î°ú Î¨∏Ïû• Î≥¥ÎÇ¥Îäî Ìï®Ïàò */
        function stem_analyzer(resText) {
            var url = "http://localhost:8000/client/analyzer?resText=" + resText
            return fetch(url, {
                headers: { 'Content-Type': 'application/json; charset=utf-8' },
                body: JSON.stringify(this.obj)
            }).then(response => response.json())
                .then(res => {//console.log("Í∞ùÏ≤¥",res);
                    var str = JSON.stringify(res);
                    var str_slice = str.slice(1, -1).replace(/\'|\"|\\/g, '');
                    str_slice = str_slice.split(',');
                    morpheme_list = str_slice;
                    morpheme_str = str_slice;
                    //console.log('Î¶¨Ïä§Ìä∏:', morpheme_list);
                    //console.log('Î¨∏Ïûê:', morpheme_str);
                    return morpheme_str;
                })
        }

        /* Ïã§Ï†ú ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨ ÏΩîÎìú */
        async function order() {
            var audio_once = false; //ÌïúÎ≤àÏù¥ÎùºÎèÑ Ï£ºÎ¨∏ÌñàÎäîÏßÄ

            try {
                var audio1 = await tts("Ïñ¥ÏÑúÏò§ÏÑ∏Ïöî. Ïä§ÌÉÄÎ≤ÖÏä§ÏûÖÎãàÎã§!");

                txt.innerHTML = "Ï£ºÎ¨∏ÏùÑ ÏõêÌïòÏãúÎäî Î©îÎâ¥ÎÇò Î≤àÌò∏Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöîüíö";
                var audio2 = await tts("Ï£ºÎ¨∏ÏùÑ ÏõêÌïòÏãúÎäî Î©îÎâ¥ÎÇò Î≤àÌò∏Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                txt.innerHTML = "Ïù∏Ïãù Ï§ë ...!"; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                var audio_once = true;

                while (true) {
                    if (audio_once) // Ï£ºÎ¨∏ÌïúÏ†Å X
                    {
                        console.log("Ï£ºÎ¨∏Ìïú Ï†Å X");
                        var stt1 = await speech_to_text();

                        if (stt1.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                        {

                            txt.innerHTML = "‚úÖ" + stt1;

                            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                            var stt_morpheme = await stem_analyzer(stt1);
                            //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                            console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]
                            //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò


                            /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                            for (var x = 0; x < morpheme_list.length; x++) {
                                for (var y = 0; y < db_menu.length; y++) {
                                    if (morpheme_list[x] == db_menu[y]) {
                                        console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å : ');
                                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]])

                                        break;
                                    }
                                    else //Î©îÎâ¥ Ïù∏Ïãù Î™ªÌï®
                                    {
                                        //...
                                    }
                                }
                            }


                            /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú ÏòµÏÖò */
                            var user_hot_cold = "";
                            var user_caf_amount = "";
                            var user_syrup = "";
                            var user_shot = "";
                            var user_milk = "";
                            var user_whip = "";
                            var user_java_chip = "";
                            var user_driz = "";
                            var user_sales_rate = "";
                            var user_size = "";


                            for (var z = 0; z < morpheme_list.length; z++) {
                                /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú Î©îÎâ¥ ÏòµÏÖò!! */
                                //!!!!!!!!!!!!!!!!! ÎÇòÏ§ëÏóê ÏûÑÎ≤†Îî© Ïó∞Í≤∞ÌïòÎ©¥ case Í∞í Î∞îÍæ∏Í∏∞

                                //1. Ïò®ÎèÑ
                                if (morpheme_list[z] == 'Ìï´') {
                                    user_hot_cold = "H";
                                }
                                else if (morpheme_list[z] == 'ÏïÑÏù¥Ïä§') {
                                    user_hot_cold = "C";
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //Ìï´
                                {
                                    alert("HotÎßå Í∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_hot_cold = "H";
                                }
                                else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ÏΩúÎìú
                                {
                                    alert("ColdÎßå Í∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_hot_cold = "C";
                                }

                                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏïàÎì§Ïñ¥Ïò§Î©¥
                                if (user_hot_cold == "") {
                                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                                        user_hot_cold = "H";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                        user_hot_cold = "C";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                        //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                        user_hot_cold = "C";
                                    }
                                }

                                //2. Ïπ¥ÌéòÏù∏ Ï°∞Ï†à
                                if (morpheme_list[z] == 'Ïπ¥ÌéòÏù∏') {
                                    user_caf_amount = 'CC';
                                }
                                else if (morpheme_list[z] == 'ÎîîÏπ¥ÌéòÏù∏') {
                                    user_caf_amount = 'CD';
                                }
                                else if (morpheme_list[z] == 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏') {
                                    user_caf_amount = 'CH';
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //Ïπ¥ÌéòÏù∏ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("Ïπ¥ÌéòÏù∏ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_caf_amount = "";
                                }

                                //3. ÏãúÎüΩ Ï°∞Ï†à
                                if ((morpheme_list[z] == 'Î∞îÎãêÎùº') || (morpheme_list[z] == 'Î∞îÎãêÎùºÏãúÎüΩ')) {
                                    if (Number(morpheme_list[z + 1] != NaN)) {
                                        user_syrup = 'B' + Number(morpheme_list[z + 1])
                                    }
                                    else {
                                        user_syrup = 'B2';
                                    }
                                }
                                else if ((morpheme_list[z] == 'Ìó§Ïù¥Ï¶êÎÑõ') || (morpheme_list[z] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ')) {
                                    if (Number(morpheme_list[z + 1] != NaN)) {
                                        user_syrup = 'H' + Number(morpheme_list[z + 1])
                                    }
                                    else {
                                        user_syrup = 'H2';
                                    }
                                }
                                else if ((morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ')) {
                                    if (Number(morpheme_list[z + 1] != NaN)) {
                                        user_syrup = 'C' + Number(morpheme_list[z + 1])
                                    }
                                    else {
                                        user_syrup = 'C2';
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ÏãúÎüΩ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("ÏãúÎüΩ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_syrup = "";
                                }


                                //4. ÏÉ∑ Ï°∞Ï†à -> ÏéÑ ÏóÜÏï†Í∏∞
                                if ((morpheme_list[z] == 'ÏÉ∑') || (morpheme_list[z] == 'ÏéÑ')) {
                                    if (Number(morpheme_list[z + 1] != NaN)) {
                                        user_shot = 'S' + Number(morpheme_list[z + 1])
                                    }
                                    else {
                                        user_shot = 'S1';
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ÏÉ∑ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("ÏÉ∑ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_shot = "";
                                }


                                //5. Ïö∞Ïú† Ï°∞Ï†à
                                if (morpheme_list[z].indexOf('Ï†ÄÏßÄÎ∞©') >= 0) { //indexOf Ìè¨Ìï® Î¨∏ÏûêÏó¥ ÏûàÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§, ÏóÜÏúºÎ©¥ -1 Î∞òÌôò
                                    user_milk = 'ML';
                                }
                                else if (morpheme_list[z].indexOf('Î¨¥ÏßÄÎ∞©') >= 0) {
                                    user_milk = 'MN';
                                }
                                else if (morpheme_list[z].indexOf('ÎëêÏú†') >= 0) {
                                    user_milk = 'MS';
                                }
                                else if ((morpheme_list[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_list[z].indexOf('Ïò§Ìä∏') > 0)) {
                                    user_milk = 'MO';
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //Ïö∞Ïú† Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("Ïö∞Ïú† Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_milk = "";
                                }


                                //6. ÌúòÌïë Ï°∞Ï†à
                                if (morpheme_list[z].indexOf('ÌúòÌïë') >= 0) {

                                    //ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÏù∏ÏßÄ Í∑∏ÎÉ• ÌúòÌïëÏù∏ÏßÄ
                                    if (morpheme_list[z - 1] == 'ÏóêÏä§ÌîÑÎ†àÏÜå') {
                                        user_whip = 'EW';
                                    }
                                    else {
                                        user_whip = 'W';
                                    }

                                    // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                    if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                        user_whip += '3';
                                    }
                                    else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                        user_whip += '1';
                                    }
                                    else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                        user_whip += '2';
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //ÌúòÌïë Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("ÌúòÌïë Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_whip = "";
                                }


                                //7. ÏûêÎ∞îÏπ© Ï°∞Ï†à
                                if (morpheme_list[z].indexOf('ÏûêÎ∞îÏπ©') >= 0) {
                                    if ((morpheme_list[z - 1].indexOf('ÌÜµ') >= 0) || (morpheme_list[z].indexOf('ÌÜµ') >= 0) || (morpheme_list[z + 1].indexOf('ÌÜµ') >= 0)) {
                                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                    }
                                    else {
                                        user_java_chip = 'JC'; //ÏùºÎ∞ò ÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ÏûêÎ∞îÏπ© Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("ÏûêÎ∞îÏπ© Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_java_chip = "";
                                }


                                //8. ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à
                                if (morpheme_list[z].indexOf('ÎìúÎ¶¨Ï¶ê') >= 0) {

                                    //Ïπ¥ÎùºÎ©úÏù∏ÏßÄ Ï¥àÏΩúÎ¶øÏù∏ÏßÄ
                                    if ((morpheme_list[z - 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú')) {
                                        user_driz = 'DCR';
                                    }
                                    else {
                                        user_driz = 'DCC';
                                    }

                                    // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                    if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                        user_whip += '3';
                                    }
                                    else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                        user_whip += '1';
                                    }
                                    else if (morpheme_list[z + 1] == 'Î≥¥ÌÜµ') {
                                        user_whip += '2';
                                    }
                                    else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                        user_whip += '2';
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    alert("ÎìúÎ¶¨Ï¶ê Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                    user_driz = "";
                                }


                                //9. ÏÇ¨Ïù¥Ï¶à
                                if (morpheme_list[z] == 'Ïàè') {
                                    user_size = "S";
                                }
                                else if (morpheme_list[z] == 'ÌÜ®') {
                                    user_size = "T";
                                }
                                else if (morpheme_list[z] == 'Í∑∏ÎûÄÎç∞') {
                                    user_size = "G";
                                }

                                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í
                                if (user_size == "") {
                                    user_size = "T";
                                }
                            }

                            //user_op_list = (Ïò®ÎèÑ)H/C, (Ïπ¥ÌéòÏù∏)CC/CH/CD, (ÏãúÎüΩ)BÏà´Ïûê/HÏà´Ïûê/CÏà´Ïûê, 
                            //(ÏÉ∑)SÏà´Ïûê, (Ïö∞Ïú†)ML/MN/MS/MO, (ÌúòÌïë)EW1~3/W1~3, (ÏûêÎ∞îÏπ©)JCA/JC, (ÎìúÎ¶¨Ï¶ê)DCR1~3/DCC1~3, (ÏÇ¨Ïù¥Ï¶à) S/T/G

                            user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                user_java_chip, user_driz, user_size]);

                            console.log("ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÌïú ÏòµÏÖò : ", user_op_list);



                            var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

                            console.log('Ï∂îÍ∞ÄÎêú Î©îÎâ¥', before_list[before_list.length - 1][0]);
                            console.log('Î©îÎâ¥ Í∞ÄÍ≤©', before_list[before_list.length - 1][1]);
                            console.log('Ï∂îÍ∞ÄÎêú ÏòµÏÖò', user_op_list);

                            /* Ïã§Ï†ú ÏòµÏÖò */
                            var menu = "";
                            var price = 0;
                            var menu_ea = 1;

                            var hot_cold = "";
                            var caf_amount = "";
                            var syrup = "";
                            var shot = "";
                            var milk = "";
                            var whip = "";
                            var java_chip = "";
                            var driz = "";
                            var sales_rate = "";
                            var size = "";
                            var ul = "<ul>";
                            var op_price = 0;


                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                            /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                            /* var after_list = new Array();  */
                            //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]

                            //1,2,3. Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à
                            menu = before_list[before_list.length - 1][0];
                            price = Number(before_list[before_list.length - 1][1]);
                            size = user_op_list[user_op_list.length - 1][8];

                            if (size == 'T') {
                                op_price += 500;
                            }
                            else if (size == 'G') {
                                op_price += 1000;
                            }

                            //4. ÏàòÎüâ

                            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Î¶¨Ïä§Ìä∏ Îã§ ÎπºÍ≥† Ïà´ÏûêÎßå ÎÇ®ÏùÄ Í±∏ ÏàòÎüâÏúºÎ°ú Ïù∏Ïãù? - ÏùºÎã® Ïû†Ïãú Î≥¥Î•ò*/
                            /* for (var x = 0; x < morpheme_list.length; x++) {
                                for (var num = 1; num < 10; num++)
                                    if (morpheme_list[x].indexOf(String(num)) == 0) //1~9Í∞Ä ÏÜçÌïòÎäî Î¨∏ÏûêÏó¥Ïù¥ ÏûàÏúºÎ©¥ 0
                                    {
                                        console.log("ÏàòÎüâ: ", Number(morpheme_list[x]));
                                        var ea = Number(morpheme_list[x]);
                                        //ÏàòÎüâ Ïù∏Ïãù Î™ªÌñàÏùÑ Îïå ÏóêÎü¨ Ï≤òÎ¶¨
                                        break;
                                    }
                            } */


                            //3. hot_cold -> case 3: hot/cold Îëò Îã§ Îã§ Îê† Îïê Ïñ¥ÎñªÍ≤å Ìï† Í±¥ÏßÄ ÎîîÌè¥Ìä∏ Í∞í Ï†ïÌïòÍ∏∞!!
                            hot_cold = user_op_list[user_op_list.length - 1][0];
                            var hot_cold_icon = "";

                            if (hot_cold == 'H') {
                                hot_cold_icon = '<i class="fa-brands fa-hotjar"></i>';
                            }
                            else if (hot_cold == 'C') {
                                hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                            }


                            //4. caf_amount
                            caf_amount = user_op_list[user_op_list.length - 1][1];
                            if (caf_amount != "") {
                                ul += '<li>';

                                if (caf_amount == 'CC') {
                                    ul += 'Ïπ¥ÌéòÏù∏';
                                }
                                else if (caf_amount == 'CD') {
                                    ul += 'ÎîîÏπ¥ÌéòÏù∏';
                                }
                                else if (caf_amount == 'CH') {
                                    ul += 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏';
                                }
                                ul += '</li>';
                            }

                            // 5. ÏãúÎüΩ
                            syrup = user_op_list[user_op_list.length - 1][2];
                            if (syrup != "") {
                                ul += '<li>';

                                if (syrup[0] == 'B') {
                                    ul += 'Î∞îÎãêÎùºÏãúÎüΩ';
                                }
                                else if (syrup[0] == 'H') {
                                    ul += 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ';
                                }
                                else if (syrup[0] == 'C') {
                                    ul += 'Ïπ¥ÎùºÎ©úÏãúÎüΩ';
                                }

                                ul += ' +' + Number(syrup[1]) + 'Ìöå</li>';
                                op_price += 600;
                            }

                            // 6. ÏÉ∑
                            shot = user_op_list[user_op_list.length - 1][3];
                            if (shot != "") {
                                ul += '<li>';

                                if (shot[0] == 'S') {
                                    ul += ' +' + Number(shot[1]) + '</li>';
                                }
                                op_price += Number(shot[1]) * 600;
                            }


                            // 7. Ïö∞Ïú†
                            milk = user_op_list[user_op_list.length - 1][4];
                            if (milk != "") {
                                ul += '<li>';

                                if (milk == 'ML') {
                                    ul += 'Ï†ÄÏßÄÎ∞©';
                                }
                                else if (milk == 'MN') {
                                    ul += 'Î¨¥ÏßÄÎ∞©';
                                }
                                else if (milk == 'MS') {
                                    ul += 'ÎëêÏú†';
                                }
                                else if (milk == 'MO') {
                                    ul += 'Í∑ÄÎ¶¨';
                                }
                                ul += '</li>';

                                op_price += 600;
                            }

                            // 8. ÌúòÌïë
                            whip = user_op_list[user_op_list.length - 1][5];
                            if (whip != "") {
                                ul += '<li>';

                                if (whip[0] == 'E') {
                                    ul += 'ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÌÅ¨Î¶º';

                                    if (whip[2] == '3') {
                                        ul += '<span>ÎßéÏù¥</span>'
                                    }
                                    else if (whip[2] == '2') {
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                    }
                                    else if (whip[2] == '1') {
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                    }
                                }
                                else if (whip[0] == 'W') {
                                    ul += 'ÌúòÌïëÌÅ¨Î¶º';

                                    if (whip[1] == '3') {
                                        ul += '<span>ÎßéÏù¥</span>'
                                    }
                                    else if (whip[1] == '2') {
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                    }
                                    else if (whip[1] == '1') {
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                    }
                                }

                                ul += ' Ï∂îÍ∞Ä </li>';
                            }

                            // 9. ÏûêÎ∞îÏπ©
                            java_chip = user_op_list[user_op_list.length - 1][6];
                            if (java_chip != "") {
                                ul += '<li>';

                                if (java_chip == 'JAC') {
                                    ul += 'ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                }
                                else if (java_chip == 'JC') {
                                    ul += 'ÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                }
                                ul += '</li>';

                                op_price += 600;
                            }

                            // 10. ÎìúÎ¶¨Ï¶ê
                            driz = user_op_list[user_op_list.length - 1][7];
                            if (driz != "") {
                                ul += '<li>';

                                if (driz[2] == 'R') {
                                    ul += 'Ïπ¥ÎùºÎ©úÎìúÎ¶¨Ï¶ê';
                                }
                                else if (driz[2] == 'C') {
                                    ul += 'Ï¥àÏΩîÎìúÎ¶¨Ï¶ê';
                                }


                                if (driz[3] == '3') {
                                    ul += '<span>ÎßéÏù¥</span>'
                                }
                                else if (driz[3] == '2') {
                                    ul += '<span>Î≥¥ÌÜµ</span>'
                                }
                                else if (driz[3] == '1') {
                                    ul += '<span>Ï†ÅÍ≤å</span>'
                                }

                                ul += '</li>';
                                op_price += 600;
                            }

                            //Í∞ÄÍ≤© Í≥ÑÏÇ∞
                            menu_price = (price + op_price) * menu_ea;
                            price_list.push(menu_price);
                            total_price += menu_price;


                            ul += '</ul>'
                            forms_txt = '<tr>\
                                            <div class="row">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h4 class="text-center">'+ size + ')' + menu + hot_cold_icon + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h5 class="text-center">'+ menu_ea + '</h5>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h5 class="text-center">'+ menu_price + '</h5>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';

                            forms.innerHTML = forms_txt;

                            total_real.innerHTML = total_price + ' Ïõê';

                            txt.innerHTML = 'Í≤∞Ï†ú ÎòêÎäî Ï∂îÍ∞ÄÌï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó';
                            var audio4 = await tts("Í≤∞Ï†ú ÎòêÎäî Ï∂îÍ∞ÄÌï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                            audio_once = false;

                        }
                        else //Ìïú Í∏ÄÏûêÎèÑ Ïïà Îì§Ïñ¥Ïò§Î©¥
                        {
                            txt.innerHTML = "‚úîÔ∏è Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!";
                            var audio5 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");
                        }
                    }


                    else // 1Î©îÎâ¥ Ïù¥ÏÉÅ Ï£ºÎ¨∏ O
                    {
                        console.log("ÌïúÎ≤à Ïù¥ÏÉÅ Ï£ºÎ¨∏");
                        txt.innerHTML = 'üìå "Í≤∞Ï†ú"ÎùºÍ≥† ÎßêÏîÄÌïòÏãúÎ©¥ Ï£ºÎ¨∏Ïù¥ Ï¢ÖÎ£åÎê©ÎãàÎã§.';

                        var stt2 = await speech_to_text();

                        if (stt2.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                        {
                            if (stt2 == "Í≤∞Ï†ú" | stt2 == "Í≤∞Ïû¨" | stt2 == "Ï≤´Ïß∏") //Í≤∞Ï†ú ÏõêÌïòÎ©¥
                            {
                                console.log("Ï£ºÎ¨∏ Ï¢ÖÎ£å");
                                txt.innerHTML = "‚úîÔ∏è Í≤∞Ï†ú ÏïàÎÇ¥Î•º ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§";
                                var audio5 = await tts("Í≤∞Ï†ú ÏïàÎÇ¥Î•º ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§!");
                                await new Promise((resolve, reject) => setTimeout(resolve, 1300));
                                break;
                            }
                            else //Í≥ÑÏÜç Î©îÎâ¥ Î∞õÍ≥† Ïã∂ÏúºÎ©¥
                            {
                                txt.innerHTML = "‚úÖ" + stt2;

                                /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                                var stt_morpheme = await stem_analyzer(stt2);
                                console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]

                                /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                                for (var x = 0; x < morpheme_list.length; x++) {
                                    for (var y = 0; y < db_menu.length; y++) {
                                        if (morpheme_list[x] == db_menu[y]) {
                                            console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å : ');
                                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                            before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]])

                                            break;
                                        }
                                        else //Î©îÎâ¥ Ïù∏Ïãù Î™ªÌï®
                                        {
                                            //...
                                        }
                                    }
                                }


                                /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú ÏòµÏÖò */
                                var user_hot_cold = "";
                                var user_caf_amount = "";
                                var user_syrup = "";
                                var user_shot = "";
                                var user_milk = "";
                                var user_whip = "";
                                var user_java_chip = "";
                                var user_driz = "";
                                var user_sales_rate = "";
                                var user_size = "";


                                for (var z = 0; z < morpheme_list.length; z++) {
                                    /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú Î©îÎâ¥ ÏòµÏÖò!! */
                                    //!!!!!!!!!!!!!!!!! ÎÇòÏ§ëÏóê ÏûÑÎ≤†Îî© Ïó∞Í≤∞ÌïòÎ©¥ case Í∞í Î∞îÍæ∏Í∏∞

                                    //1. Ïò®ÎèÑ
                                    if (morpheme_list[z] == 'Ìï´') {
                                        user_hot_cold = "H";
                                    }
                                    else if (morpheme_list[z] == 'ÏïÑÏù¥Ïä§') {
                                        user_hot_cold = "C";
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //Ìï´
                                    {
                                        alert("HotÎßå Í∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_hot_cold = "H";
                                    }
                                    else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ÏΩúÎìú
                                    {
                                        alert("ColdÎßå Í∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_hot_cold = "C";
                                    }

                                    //ÏïÑÎ¨¥ Í∞íÎèÑ ÏïàÎì§Ïñ¥Ïò§Î©¥
                                    if (user_hot_cold == "") {
                                        if (Number(before_list[before_list.length - 1][2]) == 1) {
                                            user_hot_cold = "H";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                            user_hot_cold = "C";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                            //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                            user_hot_cold = "C";
                                        }
                                    }

                                    //2. Ïπ¥ÌéòÏù∏ Ï°∞Ï†à
                                    if (morpheme_list[z] == 'Ïπ¥ÌéòÏù∏') {
                                        user_caf_amount = 'CC';
                                    }
                                    else if (morpheme_list[z] == 'ÎîîÏπ¥ÌéòÏù∏') {
                                        user_caf_amount = 'CD';
                                    }
                                    else if (morpheme_list[z] == 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏') {
                                        user_caf_amount = 'CH';
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //Ïπ¥ÌéòÏù∏ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("Ïπ¥ÌéòÏù∏ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_caf_amount = "";
                                    }

                                    //3. ÏãúÎüΩ Ï°∞Ï†à
                                    if ((morpheme_list[z] == 'Î∞îÎãêÎùº') || (morpheme_list[z] == 'Î∞îÎãêÎùºÏãúÎüΩ')) {
                                        if (Number(morpheme_list[z + 1] != NaN)) {
                                            user_syrup = 'B' + Number(morpheme_list[z + 1])
                                        }
                                        else {
                                            user_syrup = 'B2';
                                        }
                                    }
                                    else if ((morpheme_list[z] == 'Ìó§Ïù¥Ï¶êÎÑõ') || (morpheme_list[z] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ')) {
                                        if (Number(morpheme_list[z + 1] != NaN)) {
                                            user_syrup = 'H' + Number(morpheme_list[z + 1])
                                        }
                                        else {
                                            user_syrup = 'H2';
                                        }
                                    }
                                    else if ((morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ')) {
                                        if (Number(morpheme_list[z + 1] != NaN)) {
                                            user_syrup = 'C' + Number(morpheme_list[z + 1])
                                        }
                                        else {
                                            user_syrup = 'C2';
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ÏãúÎüΩ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("ÏãúÎüΩ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_syrup = "";
                                    }


                                    //4. ÏÉ∑ Ï°∞Ï†à -> ÏéÑ ÏóÜÏï†Í∏∞
                                    if ((morpheme_list[z] == 'ÏÉ∑') || (morpheme_list[z] == 'ÏéÑ')) {
                                        if (Number(morpheme_list[z + 1] != NaN)) {
                                            user_shot = 'S' + Number(morpheme_list[z + 1])
                                        }
                                        else {
                                            user_shot = 'S1';
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ÏÉ∑ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("ÏÉ∑ Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_shot = "";
                                    }


                                    //5. Ïö∞Ïú† Ï°∞Ï†à
                                    if (morpheme_list[z].indexOf('Ï†ÄÏßÄÎ∞©') >= 0) { //indexOf Ìè¨Ìï® Î¨∏ÏûêÏó¥ ÏûàÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§, ÏóÜÏúºÎ©¥ -1 Î∞òÌôò
                                        user_milk = 'ML';
                                    }
                                    else if (morpheme_list[z].indexOf('Î¨¥ÏßÄÎ∞©') >= 0) {
                                        user_milk = 'MN';
                                    }
                                    else if (morpheme_list[z].indexOf('ÎëêÏú†') >= 0) {
                                        user_milk = 'MS';
                                    }
                                    else if ((morpheme_list[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_list[z].indexOf('Ïò§Ìä∏') > 0)) {
                                        user_milk = 'MO';
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //Ïö∞Ïú† Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("Ïö∞Ïú† Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_milk = "";
                                    }


                                    //6. ÌúòÌïë Ï°∞Ï†à
                                    if (morpheme_list[z].indexOf('ÌúòÌïë') >= 0) {

                                        //ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÏù∏ÏßÄ Í∑∏ÎÉ• ÌúòÌïëÏù∏ÏßÄ
                                        if (morpheme_list[z - 1] == 'ÏóêÏä§ÌîÑÎ†àÏÜå') {
                                            user_whip = 'EW';
                                        }
                                        else {
                                            user_whip = 'W';
                                        }

                                        // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                        if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                            user_whip += '3';
                                        }
                                        else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                            user_whip += '1';
                                        }
                                        else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                            user_whip += '2';
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //ÌúòÌïë Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("ÌúòÌïë Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_whip = "";
                                    }


                                    //7. ÏûêÎ∞îÏπ© Ï°∞Ï†à
                                    if (morpheme_list[z].indexOf('ÏûêÎ∞îÏπ©') >= 0) {
                                        if ((morpheme_list[z - 1].indexOf('ÌÜµ') >= 0) || (morpheme_list[z].indexOf('ÌÜµ') >= 0) || (morpheme_list[z + 1].indexOf('ÌÜµ') >= 0)) {
                                            user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        }
                                        else {
                                            user_java_chip = 'JC'; //ÏùºÎ∞ò ÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ÏûêÎ∞îÏπ© Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("ÏûêÎ∞îÏπ© Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_java_chip = "";
                                    }


                                    //8. ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à
                                    if (morpheme_list[z].indexOf('ÎìúÎ¶¨Ï¶ê') >= 0) {

                                        //Ïπ¥ÎùºÎ©úÏù∏ÏßÄ Ï¥àÏΩúÎ¶øÏù∏ÏßÄ
                                        if ((morpheme_list[z - 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú')) {
                                            user_driz = 'DCR';
                                        }
                                        else {
                                            user_driz = 'DCC';
                                        }

                                        // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                        if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                            user_whip += '3';
                                        }
                                        else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                            user_whip += '1';
                                        }
                                        else if (morpheme_list[z + 1] == 'Î≥¥ÌÜµ') {
                                            user_whip += '2';
                                        }
                                        else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                            user_whip += '2';
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        alert("ÎìúÎ¶¨Ï¶ê Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§");
                                        user_driz = "";
                                    }


                                    //9. ÏÇ¨Ïù¥Ï¶à
                                    if (morpheme_list[z] == 'Ïàè') {
                                        user_size = "S";
                                    }
                                    else if (morpheme_list[z] == 'ÌÜ®') {
                                        user_size = "T";
                                    }
                                    else if (morpheme_list[z] == 'Í∑∏ÎûÄÎç∞') {
                                        user_size = "G";
                                    }

                                    //ÏïÑÎ¨¥ Í∞íÎèÑ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í
                                    if (user_size == "") {
                                        user_size = "T";
                                    }
                                }

                                //user_op_list = (Ïò®ÎèÑ)H/C, (Ïπ¥ÌéòÏù∏)CC/CH/CD, (ÏãúÎüΩ)BÏà´Ïûê/HÏà´Ïûê/CÏà´Ïûê, 
                                //(ÏÉ∑)SÏà´Ïûê, (Ïö∞Ïú†)ML/MN/MS/MO, (ÌúòÌïë)EW1~3/W1~3, (ÏûêÎ∞îÏπ©)JCA/JC, (ÎìúÎ¶¨Ï¶ê)DCR1~3/DCC1~3, (ÏÇ¨Ïù¥Ï¶à) S/T/G

                                user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                    user_java_chip, user_driz, user_size]);

                                console.log("ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÌïú ÏòµÏÖò : ", user_op_list);



                                var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

                                console.log('Ï∂îÍ∞ÄÎêú Î©îÎâ¥', before_list[before_list.length - 1][0]);
                                console.log('Î©îÎâ¥ Í∞ÄÍ≤©', before_list[before_list.length - 1][1]);
                                console.log('Ï∂îÍ∞ÄÎêú ÏòµÏÖò', user_op_list);

                                /* Ïã§Ï†ú ÏòµÏÖò */
                                var menu = "";
                                var price = "";
                                var menu_ea = 1;

                                var hot_cold = "";
                                var caf_amount = "";
                                var syrup = "";
                                var shot = "";
                                var milk = "";
                                var whip = "";
                                var java_chip = "";
                                var driz = "";
                                var sales_rate = "";
                                var size = "";
                                var ul = "<ul>";
                                var op_price = 0;


                                //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                                /* var after_list = new Array();  */
                                //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]

                                //1,2,3. Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à
                                menu = before_list[before_list.length - 1][0];
                                price = Number(before_list[before_list.length - 1][1]);
                                size = user_op_list[user_op_list.length - 1][8];

                                if (size == 'T') {
                                    op_price += 500;
                                }
                                else if (size == 'G') {
                                    op_price += 1000;
                                }

                                //4. ÏàòÎüâ

                                /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Î¶¨Ïä§Ìä∏ Îã§ ÎπºÍ≥† Ïà´ÏûêÎßå ÎÇ®ÏùÄ Í±∏ ÏàòÎüâÏúºÎ°ú Ïù∏Ïãù? - ÏùºÎã® Ïû†Ïãú Î≥¥Î•ò*/
                                /* for (var x = 0; x < morpheme_list.length; x++) {
                                    for (var num = 1; num < 10; num++)
                                        if (morpheme_list[x].indexOf(String(num)) == 0) //1~9Í∞Ä ÏÜçÌïòÎäî Î¨∏ÏûêÏó¥Ïù¥ ÏûàÏúºÎ©¥ 0
                                        {
                                            console.log("ÏàòÎüâ: ", Number(morpheme_list[x]));
                                            var ea = Number(morpheme_list[x]);
                                            //ÏàòÎüâ Ïù∏Ïãù Î™ªÌñàÏùÑ Îïå ÏóêÎü¨ Ï≤òÎ¶¨
                                            break;
                                        }
                                } */


                                //3. hot_cold -> case 3: hot/cold Îëò Îã§ Îã§ Îê† Îïê Ïñ¥ÎñªÍ≤å Ìï† Í±¥ÏßÄ ÎîîÌè¥Ìä∏ Í∞í Ï†ïÌïòÍ∏∞!!
                                hot_cold = user_op_list[user_op_list.length - 1][0];
                                var hot_cold_icon = "";

                                if (hot_cold == 'H') {
                                    hot_cold_icon = '<i class="fa-brands fa-hotjar"></i>';
                                }
                                else if (hot_cold == 'C') {
                                    hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                                }


                                //4. caf_amount
                                caf_amount = user_op_list[user_op_list.length - 1][1];
                                if (caf_amount != "") {
                                    ul += '<li>';

                                    if (caf_amount == 'CC') {
                                        ul += 'Ïπ¥ÌéòÏù∏';
                                    }
                                    else if (caf_amount == 'CD') {
                                        ul += 'ÎîîÏπ¥ÌéòÏù∏';
                                    }
                                    else if (caf_amount == 'CH') {
                                        ul += 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏';
                                    }
                                    ul += '</li>';
                                }

                                // 5. ÏãúÎüΩ
                                syrup = user_op_list[user_op_list.length - 1][2];
                                if (syrup != "") {
                                    ul += '<li>';

                                    if (syrup[0] == 'B') {
                                        ul += 'Î∞îÎãêÎùºÏãúÎüΩ';
                                        op_price += 600;
                                    }
                                    else if (syrup[0] == 'H') {
                                        ul += 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ';
                                        op_price += 600;
                                    }
                                    else if (syrup[0] == 'C') {
                                        ul += 'Ïπ¥ÎùºÎ©úÏãúÎüΩ';
                                        op_price += 600;
                                    }

                                    ul += ' +' + Number(syrup[1]) + 'Ìöå</li>';
                                }

                                // 6. ÏÉ∑
                                shot = user_op_list[user_op_list.length - 1][3];
                                if (shot != "") {
                                    ul += '<li>';

                                    if (shot[0] == 'S') {
                                        ul += ' +' + Number(shot[1]) + '</li>';
                                    }
                                    op_price += Number(shot[1]) * 600;
                                }


                                // 7. Ïö∞Ïú†
                                milk = user_op_list[user_op_list.length - 1][4];
                                if (milk != "") {
                                    ul += '<li>';

                                    if (milk == 'ML') {
                                        ul += 'Ï†ÄÏßÄÎ∞©';
                                    }
                                    else if (milk == 'MN') {
                                        ul += 'Î¨¥ÏßÄÎ∞©';
                                    }
                                    else if (milk == 'MS') {
                                        ul += 'ÎëêÏú†';
                                    }
                                    else if (milk == 'MO') {
                                        ul += 'Í∑ÄÎ¶¨';
                                    }
                                    ul += '</li>';

                                    op_price += 600;
                                }

                                // 8. ÌúòÌïë
                                whip = user_op_list[user_op_list.length - 1][5];
                                if (whip != "") {
                                    ul += '<li>';

                                    if (whip[0] == 'E') {
                                        ul += 'ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÌÅ¨Î¶º';

                                        if (whip[2] == '3') {
                                            ul += '<span>ÎßéÏù¥</span>'
                                        }
                                        else if (whip[2] == '2') {
                                            ul += '<span>Î≥¥ÌÜµ</span>'
                                        }
                                        else if (whip[2] == '1') {
                                            ul += '<span>Ï†ÅÍ≤å</span>'
                                        }
                                    }
                                    else if (whip[0] == 'W') {
                                        ul += 'ÌúòÌïëÌÅ¨Î¶º';

                                        if (whip[1] == '3') {
                                            ul += '<span>ÎßéÏù¥</span>'
                                        }
                                        else if (whip[1] == '2') {
                                            ul += '<span>Î≥¥ÌÜµ</span>'
                                        }
                                        else if (whip[1] == '1') {
                                            ul += '<span>Ï†ÅÍ≤å</span>'
                                        }
                                    }

                                    ul += ' Ï∂îÍ∞Ä </li>';
                                }

                                // 9. ÏûêÎ∞îÏπ©
                                java_chip = user_op_list[user_op_list.length - 1][6];
                                if (java_chip != "") {
                                    ul += '<li>';

                                    if (java_chip == 'JAC') {
                                        ul += 'ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                    }
                                    else if (java_chip == 'JC') {
                                        ul += 'ÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                    }
                                    ul += '</li>';

                                    op_price += 600;
                                }

                                // 10. ÎìúÎ¶¨Ï¶ê
                                driz = user_op_list[user_op_list.length - 1][7];
                                if (driz != "") {
                                    ul += '<li>';

                                    if (driz[2] == 'R') {
                                        ul += 'Ïπ¥ÎùºÎ©úÎìúÎ¶¨Ï¶ê';
                                        op_price += 600;
                                    }
                                    else if (driz[2] == 'C') {
                                        ul += 'Ï¥àÏΩîÎìúÎ¶¨Ï¶ê';
                                        op_price += 600;
                                    }


                                    if (driz[3] == '3') {
                                        ul += '<span>ÎßéÏù¥</span>'
                                    }
                                    else if (driz[3] == '2') {
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                    }
                                    else if (driz[3] == '1') {
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                    }

                                    ul += '</li>';
                                }

                                //Í∞ÄÍ≤© Í≥ÑÏÇ∞
                                menu_price = (price + op_price) * menu_ea;
                                price_list.push(menu_price);
                                total_price += menu_price;


                                ul += '</ul>'
                                forms_txt += '<tr>\
                                            <div class="row">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h4 class="text-center">'+ size + ')' + menu + hot_cold_icon + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h5 class="text-center">'+ menu_ea + '</h5>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h5 class="text-center">'+ menu_price + '</h5>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';

                                forms.innerHTML = forms_txt;

                                total_real.innerHTML = total_price + ' Ïõê';

                                txt.innerHTML = '"Í≤∞Ï†ú" / "Ï∂îÍ∞ÄÌï† Î©îÎâ¥"Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó';
                                var audio4 = await tts("Í≤∞Ï†ú ÎòêÎäî Ï∂îÍ∞ÄÌï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî~");
                            }
                        }
                        else //Ìïú Í∏ÄÏûêÎèÑ Ïïà Îì§Ïñ¥Ïò§Î©¥
                        {
                            txt.innerHTML = "‚úîÔ∏è Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!";
                            var audio5 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");
                        }



                        //location.href="/client/end"; -> ÌíÄÍ∏∞!!!!!!!!!!!!!!!
                    }
                }
            }

            catch (error) {
                console.log(error);
            }

        }

        /* STT */
        var isRecognizing = false;

        try {
            var recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();
        }
        catch (e) {
            console.error(e);
        }

        recognition.lang = 'ko-KR';
        recognition.interimResults = false;
        recognition.maxAlternatives = 50; //ÌÅ¥ÏàòÎ°ù Î∞úÏùåÎåÄÎ°ú ÏïàÏ†ÅÍ≥† Î¨∏Ïû• Ï†ÅÌï©ÎèÑÎ°ú.
        recognition.continuous = false; //ÏùåÏÑ±Ïù∏Ïãù ÏïàÎÅùÎÇòÍ≥† Í≥ÑÏÜçÎê®

        async function speech_to_text() {
            var resText = "";
            var txt = document.getElementById("ai_say");
            recognition.start();
            isRecognizing = true;

            recognition.onstart = function () {
                console.log("------------------------ÏùåÏÑ±Ïù∏Ïãù ÏãúÏûë------------------------");
            }

            recognition.onresult = function (event) {
                resText = event.results[0][0].transcript;
                txt.innerHTML = resText;

                if (resText == "Í≤∞Ï†ú" | resText == "Í≤∞Ï†ú.") {
                    console.log("Í≤∞Ï†úÎùºÍ≥† ÎßêÌï®");
                    return "Í≤∞Ï†ú";
                }

                console.log('STT Î∞òÌôò:', resText);

            };

            await new Promise(resolve =>
                recognition.onend = e => {
                    {
                        console.log("------------------------ÏùåÏÑ±Ïù∏Ïãù Ï¢ÖÎ£å------------------------");
                        resolve();
                    }
                })

            recognition.stop();

            resText = resText.replace(".", "");
            return resText;
        }


        /* TTS */
        var voices = [];


        function setVoiceList() {
            voices = window.speechSynthesis.getVoices();
        }
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = setVoiceList;
        }


        async function tts(txt) {
            var end = false;

            if (!window.speechSynthesis) {
                alert("ÏùåÏÑ± Ïû¨ÏÉùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Î∏åÎùºÏö∞Ï†ÄÏûÖÎãàÎã§. ÌÅ¨Î°¨, ÌååÏù¥Ïñ¥Ìè≠Ïä§ Îì±Ïùò ÏµúÏã† Î∏åÎùºÏö∞Ï†ÄÎ•º Ïù¥Ïö©ÌïòÏÑ∏Ïöî");
                return;
            }

            var lang = 'ko-KR';
            var utterThis = new SpeechSynthesisUtterance(txt);

            utterThis.text = txt;
            utterThis.lang = lang;
            utterThis.pitch = 1;
            utterThis.rate = 1; //ÏÜçÎèÑ

            //Í∏∞Ï°¥
            utterThis.onerror = function (event) {
                console.log('error', event);
            };

            var voiceFound = false;

            for (var i = 0; i < voices.length; i++) {
                if (voices[i].lang.indexOf(lang) >= 0 || voices[i].lang.indexOf(lang.replace('-', '_')) >= 0) {
                    utterThis.voice = voices[i];
                    voiceFound = true;
                }
            }
            if (!voiceFound) {
                alert('voice not found');
                return;
            }

            await new Promise(function (resolve) {
                utterThis.onend = resolve;
                window.speechSynthesis.speak(utterThis);
            });
        }

    </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>




</body>

</html>