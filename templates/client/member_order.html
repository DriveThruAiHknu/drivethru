<html>

<head>
    <title> ÌÇ§Ïò§Ïä§ÌÅ¨ </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/043bb5442c.js" crossorigin="anonymous"></script>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

{% load static %}
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'client/style/member_order_style.css' %}">


<body>

    <div class="container" id="full_content">
        <!-- ai -->
        <div class="row justify-content-center mb-4" id="bot">
            <div class="ai_img col-sm-3"></div>
            <div class="ai_txt col-sm-9">
                <h2 id="ai_say">üåøÏñ¥ÏÑúÏò§ÏÑ∏Ïöî~ ÎßåÎÇòÏÑú Î∞òÍ∞ëÏäµÎãàÎã§!üåø</h2>
            </div>
        </div>

        <!-- ÏôºÏ™Ω Î©îÎâ¥ / Ïò§Î•∏Ï™Ω ÏòÅÏàòÏ¶ù-->
        <div class="row h-75">


            <!-- ÏôºÏ™Ω Î©îÎâ¥Îì§-->
            <div class="col-xxl-6" id="left">
                <div class="container">

                    <!-- ÏµúÍ∑º Ï£ºÎ¨∏ Î©îÎâ¥-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 id="menu_txt" class="mb-3"> ÏµúÍ∑º Ï£ºÎ¨∏ Î©îÎâ¥</h4>
                            <div class="row justify-content-around">
                                <!-- ÏÉÅÌíà 1, 2-->

                                <!-- ÏÉÅÌíà1 -->
                                {% for prod_1 in prod_1 %}
                                <div class="col-md-6" id="item1">
                                    <div class="image1">
                                        {% if prod_1.prod_image %}
                                        <img src="{{ prod_1.prod_image.url }}" alt="{{ prod_1.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">1</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_1_id">{{prod_1.prod_name}}
                                            {% if prod_1.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_1.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_1.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                        {{prod_1.prod_price}}
                                    </h5>
                                </div>
                                {% endfor %}

                                <!-- ÏÉÅÌíà2 -->
                                {% for prod_2 in prod_2 %}
                                <div class="col-md-6" id="item2">
                                    <div class="image2">
                                        {% if prod_2.prod_image %}
                                        <img src="{{ prod_2.prod_image.url }}" alt="{{ prod_2.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">

                                        <div class="image_num text-center">
                                            <h4 class="text-center mt-1">2</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_2_id">{{prod_2.prod_name}}
                                            {% if prod_2.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_2.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_2.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                            {{prod_2.prod_price}}
                                        </h5>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                    {% endfor %}


                    <!-- ÏµúÎã§ Ï£ºÎ¨∏ Î©îÎâ¥-->
                    <div class="row">
                        <div class="container-fluid">
                            <h4 class="mt-5 mb-3" id="menu_txt"> ÏµúÎã§ Ï£ºÎ¨∏ Î©îÎâ¥</h4>
                            <div class="row">
                                <!-- ÏÉÅÌíà 3, 4, 5, 6-->

                                <!-- ÏÉÅÌíà3 -->
                                {% for prod_3 in max_prod_1 %}
                                <div class="col" id="item3">
                                    <div class="image3">
                                        {% if prod_3.prod_image %}
                                        <img src="{{ prod_3.prod_image.url }}" alt="{{ prod_3.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">3</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_3_id">{{prod_3.prod_name}}
                                            {% if prod_3.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_3.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_3.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                    </div>
                                    <h5 class="menu_price">
                                        <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                        {{prod_3.prod_price}}
                                    </h5>
                                </div>
                                {% endfor %}

                                <!-- ÏÉÅÌíà4 -->
                                {% for prod_4 in max_prod_2 %}
                                <div class="col" id="item4">
                                    <div class="image4">
                                        {% if prod_4.prod_image %}
                                        <img src="{{ prod_4.prod_image.url }}" alt="{{ prod_4.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">4</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_4_id">{{prod_4.prod_name}}
                                            {% if prod_4.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif prod_4.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif prod_4.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                            {{prod_4.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                                <!-- ÏÉÅÌíà5 -->
                                {% for max_prod_1 in max_prod_3 %}
                                <div class="col" id="item5">
                                    <div class="image5">
                                        {% if max_prod_1.prod_image %}
                                        <img src="{{ max_prod_1.prod_image.url }}" alt="{{ max_prod_1.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">5</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_5_id">{{max_prod_1.prod_name}}
                                            {% if max_prod_1.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif max_prod_1.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif max_prod_1.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                            {{max_prod_1.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                                <!-- ÏÉÅÌíà6 -->
                                {% for max_prod_2 in max_prod_4 %}
                                <div class="col" id="item6">
                                    <div class="image6">
                                        {% if max_prod_2.prod_image %}
                                        <img src="{{ max_prod_2.prod_image.url }}" alt="{{ max_prod_2.prod_image }}">
                                        {% else %}
                                        <img src="/static/manager/image/starbuck.png" alt="My Image" />
                                        {% endif %}
                                    </div>

                                    <div class="menu_item">
                                        <div class="image_num2 text-center">
                                            <h4 class="text-center mt-1">6</h4>
                                        </div>
                                        <h5 class="menu_name mt-2" id="new_6_id">{{max_prod_2.prod_name}}
                                            {% if max_prod_2.prod_hot_cold is 0 %}
                                            <span class="badge bg-warning">FOOD</span>
                                            {% elif max_prod_2.prod_hot_cold is 1 %}
                                            <span class="badge bg-danger">HOT</span>
                                            {% elif max_prod_2.prod_hot_cold is 2 %}
                                            <span class="badge bg-primary">ICE</span>
                                            {% else %}
                                            <span class="badge bg-primary">ICE</span>
                                            <span class="badge bg-danger">HOT</span>
                                            {% endif %}
                                        </h5>
                                        <h5 class="menu_price">
                                            <button type="none" class="btn-btn-outline-primary">Ôø¶</button>
                                            {{max_prod_2.prod_price}}
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Ïò§Î•∏Ï™Ω ÏòÅÏàòÏ¶ù-->
            <div class="col-xxl-6" id="right">

                <!-- receipt form -->
                <iframe name="blankifr" style='display:none;'></iframe>

                <!-- style="display: none;" -->
                <form method="post" id="receipt" target="blankifr" style="display: none;">
                    {% csrf_token %}
                    <input id="input_receipt" name="todayUserId" size=10 type="text"
                        placeholder="{{ today_user_id }}" />
                    <input id="input_receipt" name="memberId" size=10 type="number" placeholder="{{ member_id }}" />
                    <input id="input_receipt" name="receiptPrice" type="number" placeholder="0" />
                    <input id="input_receipt" name="receiptTodayId" size=10 type="number" placeholder="0" />
                    <input id="input_receipt_btn" name="input_receipt_btn" type="submit" value="ÌôïÏù∏" />
                </form>

                <!-- item form-->
                <form method="post" id="item" target="blankifr" style="display: none; ">
                    {% csrf_token %}
                    <input id="input_item" name="receiptId" type="number" placeholder="0" />
                    <input id="input_item" name="prodId" type="number" placeholder="0" />
                    <input id="input_item" name="itemQuantity" type="number" placeholder="0" />
                    <input id="input_item" name="itemSize" type="number" placeholder="0" />
                    <input id="input_item" name="itemPrice" type="number" placeholder="0" />
                    <input id="input_item" name="itemHotCold" type="number" placeholder="0" />
                    <input id="input_item" name="itemCafAmount" type="number" placeholder="0" />
                    <input id="input_item" name="itemSyrup" type="number" placeholder="0" />
                    <input id="input_item" name="itemShot" type="number" placeholder="0" />
                    <input id="input_item" name="itemMilk" type="number" placeholder="0" />
                    <input id="input_item" name="itemWhip" type="number" placeholder="0" />
                    <input id="input_item" name="itemJavaChip" type="number" placeholder="0" />
                    <input id="input_item" name="itemDriz" type="number" placeholder="0" />
                    <input id="input_item_btn" name="input_item_btn" type="submit" value="ÌôïÏù∏" />
                </form>

                <!-- Ïã§Ï†ú ÏòÅÏàòÏ¶ù ÎÇ¥Ïö©-->
                <h4 id="menu_txt" class="mb-3">Ï£ºÎ¨∏ Î™©Î°ù</h4>
                <div class="container-fluid" id="menu_table">
                    <table>

                        <tr>
                            <div class="row" id="title">
                                <div class="col-xl-8">
                                    <h3 class="text-center">Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥</h3>
                                </div>
                                <div class="col-xl-2">
                                    <h3 class="text-center">ÏàòÎüâ</h3>
                                </div>
                                <div class="col-xl-2">
                                    <h3 class="text-center">Í∞ÄÍ≤©</h3>
                                </div>
                            </div>

                        </tr>

                        <div id="content"></div>

                    </table>
                    <div class="row" id="menu_table_end">
                        <div class="col-md-6 text-center" id="border3">
                            <h3 id="total_txt">Ï£ºÎ¨∏ Í∏àÏï°</h3>
                        </div>
                        <div class="col-md-6 text-center" id="border2">
                            <h3 id="total_real">0 Ïõê</h3>
                        </div>
                    </div>


                </div>
            </div>
        </div>

    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.min.js"></script>

    <script>


        /* Î©îÏù∏ */
        var morpheme_list = new Array(); //ÌòïÌÉúÏÜå Î¶¨Ïä§Ìä∏ Ï†ÄÏû•
        var morpheme_copy = new Array(); //Îã¥Í≥† ÎπºÏÑú Ïì∞Í∏∞
        var before_list = new Array(); //Ï£ºÎ¨∏ Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
        var user_op_list = new Array();
        var after_list = new Array(); //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
        var after_db_list = new Array(); //Ïã§Ï†ú DB Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [ÏòÅÏàòÏ¶ù Î≤àÌò∏, Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
        var id_list = new Array(); //ÏÉÅÌíà idÎßå Îã¥ÏùÄ Î¶¨Ïä§Ìä∏
        var category_list = new Array(); //Ïπ¥ÌÖåÍ≥†Î¶¨Îßå Îã¥ÏùÄ Î¶¨Ïä§Ìä∏
        var submit_list = new Array(); //ÏïÑÏù¥ÌÖú Ï†úÏ∂úÏãú Î¶¨Ïä§Ìä∏
        var forms_list = new Array(); //forms_txt Î¶¨Ïä§Ìä∏


        var category = "";
        var txt = document.getElementById("ai_say");
        var forms = document.getElementById("content");
        var forms_txt = '';
        var real_forms = '';
        var total_real = document.getElementById("total_real");
        var modalContent = document.getElementById("modalContent");
        var left = document.getElementById("left");
        var right = document.getElementById("right");
        var scroll_tb = document.getElementById("menu_table");

        var price_list = new Array(); //ÏÉÅÌíà 1Í∞ú Í∞ÄÍ≤©*ÏàòÎüâ + ÏòµÏÖò
        var morpheme_str = "";
        var menu_cnt = 0;
        var menu_price = 0;
        var total_price = 0;

        /* Ï†ïÏàòÏù∏ÏßÄ ÌåêÎ≥Ñ */
        function isInteger(value) {
            return typeof value === 'number' &&
                isFinite(value) &&
                Math.floor(value) === value;
        };

        /* Ïä§ÌÅ¨Î°§ ÏûêÎèô ÎÇ¥Î†§Í∞ÄÎäî Ìï®Ïàò */
        function startScroll(interval) {
            setInterval("autoScroll()", interval);
        };

        function autoScroll() {
            scroll_tb.scrollBy({ top: 50, left: 0, behavior: 'smooth' })
        };


        txt.innerHTML = "üåøÏñ¥ÏÑúÏò§ÏÑ∏Ïöî~ ÎßåÎÇòÏÑú Î∞òÍ∞ëÏäµÎãàÎã§!üåø";

        window.onload = function () {
            setTimeout(() => {
                order();
            }, 1000);
        }

        /* Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Í∞ÄÏ†∏Ïò§Í∏∞ */
        var db_str = '{{ prods|escapejs }}';
        var db_list = db_str.slice(1, -1);
        db_list = db_list.split('),');

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Ï†ÑÏ≤¥(db)
        var db = new Array();
        for (var i = 0; i < db_list.length; i++) {
            db.push(db_list[i].replace(/\'|\"|\(|\)| /g, "").split(','));
        }

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Î©îÎâ¥(db_menu)
        var db_menu = new Array();
        for (var j = 0; j < db.length; j++) {
            db_menu.push(db[j][2]);
        }

        //Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ - Í∞ÄÍ≤©(db_price)
        var db_price = new Array();
        for (var k = 0; k < db.length; k++) {
            db_price.push(db[k][3]);
        }

        /* fetchÎ°ú viewÏóê ÏûàÎäî Î∂ÑÏÑùÍ∏∞Î°ú Î¨∏Ïû• Î≥¥ÎÇ¥Îäî Ìï®Ïàò */
        function stem_analyzer(resText) {
            var url = "http://localhost:8000/client/analyzer?resText=" + resText
            return fetch(url, {
                headers: { 'Content-Type': 'application/json; charset=utf-8' },
                body: JSON.stringify(this.obj)
            }).then(response => response.json())
                .then(res => {//console.log("Í∞ùÏ≤¥",res);
                    var str = JSON.stringify(res);
                    var str_slice = str.slice(1, -1).replace(/\'|\"|\\/g, '');
                    str_slice = str_slice.split(',');
                    morpheme_list = str_slice;
                    morpheme_str = str_slice;
                    //console.log('Î¶¨Ïä§Ìä∏:', morpheme_list);
                    //console.log('Î¨∏Ïûê:', morpheme_str);
                    return morpheme_str;
                })
        }

        /* Ïã§Ï†ú ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨ ÏΩîÎìú */
        async function order() {
            var audio_once = false; //ÌïúÎ≤àÏù¥ÎùºÎèÑ Ï£ºÎ¨∏ÌñàÎäîÏßÄ

            try {

                var audio1 = await tts("Ïñ¥ÏÑúÏò§ÏÑ∏Ïöî. ÎßåÎÇòÏÑú Î∞òÍ∞ëÏäµÎãàÎã§!");

                txt.innerHTML = "<p style='margin-top: -0.2em;'>Ï£ºÎ¨∏ÏùÑ ÏõêÌïòÏãúÎäî <span style='text-decoration: underline;'>Î©îÎâ¥</span>Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöîüíö\
                <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>üí°TIPüí° Î©îÎâ¥Î™Ö ‚ñ∂Ô∏è ÏòµÏÖò ‚ñ∂Ô∏è ÏàòÎüâ ÏàúÏÑúÎ°ú Ìïú Î¨∏Ïû•ÏùÑ ÎòêÎ∞ïÎòêÎ∞ï ÎßêÌï¥Ï£ºÏÑ∏Ïöî!</h5></p>";
                var audio2 = await tts("Ï£ºÎ¨∏ÏùÑ ÏõêÌïòÏãúÎäî Î©îÎâ¥Î•º Î©îÎâ¥Î™Ö, ÏòµÏÖò, ÏàòÎüâ ÏàúÏÑúÎ°ú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">üî¥</span><span class="circle"> Ïù∏Ïãù Ï§ë</span></p>\
                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(Ïòà) Ïπ¥Ìë∏ÏπòÎÖ∏ Î∞îÎãêÎùº ÏãúÎüΩ 2Î≤à, ÎîîÏπ¥ÌéòÏù∏ÏúºÎ°ú ÌïúÏûî Ï£ºÏÑ∏Ïöî.</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                var audio_once = true;

                while (true) {
                    if (audio_once) // Ï£ºÎ¨∏ÌïúÏ†Å X
                    {
                        console.log("Ï£ºÎ¨∏Ìïú Ï†Å X");
                        var stt1 = await speech_to_text();

                        if (stt1.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                        {
                            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                            var stt_morpheme = await stem_analyzer(stt1);
                            //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                            console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]


                            // ÏóÜÏï†Í≥† Ïã∂ÏùÄ Î¨∏ÏûêÏó¥ ÏßÄÏ†ï
                            for (var i = 0; i < morpheme_list.length; i++) {
                                if (morpheme_list[i] == 'Î≤à') {
                                    morpheme_list.splice(i, 1);
                                    i++;
                                }
                            }
                            console.log('Î≤à ÏóÜÏï§ Î¨∏ÏûêÏó¥: ', morpheme_list);
                            morpheme_copy = morpheme_list.slice();
                            //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò



                            /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                            out: for (var x = 0; x < morpheme_list.length; x++) {
                                inn: for (var y = 0; y < db_menu.length; y++) {
                                    if (morpheme_list[x] == db_menu[y]) {
                                        console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                                        txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                        category = db[y][1];
                                        category_list.push(db[y][1]);

                                        //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                                        if (y > 36) {
                                            id_list.push(y + 2);
                                        }
                                        else {
                                            id_list.push(y + 1);
                                        }

                                        morpheme_copy.splice(x, 1);
                                        break inn;
                                    }
                                }
                                break out;
                            }

                            /* Î©îÎâ¥ ÏûàÎäîÏßÄ ÌôïÏù∏ */

                            if (before_list.length < 1) {
                                console.log('Î©îÎâ¥ Ïù∏Ïãù Î™ªÌï®');
                                while (before_list.length == 0) { //Î©îÎâ¥ Ïù∏ÏãùÎêòÏÑú before_listÏóê Î≠ê Îì§Ïñ¥Ïò¨ ÎïåÍπåÏßÄ Í≥ÑÏÜç Î∞òÎ≥µ
                                    txt.innerHTML = "Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!";
                                    var audio2 = await tts("Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!");

                                    txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">üî¥</span><span class="circle"> ÎÖπÏùå Ï§ë</span></p>\
                                    <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(Ïòà) Ïπ¥Ìë∏ÏπòÎÖ∏ Î∞îÎãêÎùº ÏãúÎüΩ 2Î≤à, ÎîîÏπ¥ÌéòÏù∏ÏúºÎ°ú ÌïúÏûî Ï£ºÏÑ∏Ïöî.</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                                    var stt1 = await speech_to_text();

                                    if (stt1.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                                    {

                                        /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                                        var stt_morpheme = await stem_analyzer(stt1);
                                        //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                                        console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]
                                        morpheme_copy = morpheme_list.slice();
                                        //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò

                                        /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                                        outer: for (var x = 0; x < morpheme_list.length; x++) {
                                            inner: for (var y = 0; y < db_menu.length; y++) {
                                                if (morpheme_list[x] == db_menu[y]) {
                                                    console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                                                    txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                                    //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                                    before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                                    category = db[y][1];
                                                    category_list.push(db[y][1]);


                                                    //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                                                    if (y > 36) {
                                                        id_list.push(y + 2);
                                                    }
                                                    else {
                                                        id_list.push(y + 1);
                                                    }

                                                    morpheme_copy.splice(x, 1);
                                                    break inner;
                                                }
                                            }
                                            break outer;
                                        }
                                    }
                                }
                            }




                            /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú ÏòµÏÖò */
                            var user_hot_cold = "";
                            var user_caf_amount = "";
                            var user_syrup = "";
                            var user_shot = "";
                            var user_milk = "";
                            var user_whip = "";
                            var user_java_chip = "";
                            var user_driz = "";
                            var user_sales_rate = "";
                            var user_size = "";

                            //Î©îÎâ¥ Ïù¥Î¶Ñ Ïô∏Ïóê ÏïÑÎ¨¥Í≤ÉÎèÑ Îßê ÏïàÌñàÏùÑ Îïê ÏïÑÎûò forÎ¨∏Ïóê Ïïà Îì§Ïñ¥Í∞ê „Ö†„Ö†„Ö†„Ö†
                            if (morpheme_copy.length == 0) {
                                //1. hot_cold Ï†ïÌï¥Ï£ºÍ∏∞
                                if ((user_hot_cold == "") && (category != "BAKERY")) {
                                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                                        user_hot_cold = "H";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                        user_hot_cold = "C";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                        //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                        user_hot_cold = "C";
                                    }
                                }

                                //2. size Ï†ïÌï¥Ï£ºÍ∏∞
                                user_size = "S";
                            }

                            //Î©îÎâ¥ Ïù¥Î¶Ñ, ÏàòÎüâ (Ï†ÅÏñ¥ÎèÑ 2Í∞ú Ïù¥ÏÉÅ ÎßêÌñàÏùÑ Îïå)
                            for (var z = 0; z < morpheme_copy.length; z++) {

                                /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú Î©îÎâ¥ ÏòµÏÖò!! */
                                //!!!!!!!!!!!!!!!!! ÎÇòÏ§ëÏóê ÏûÑÎ≤†Îî© Ïó∞Í≤∞ÌïòÎ©¥ case Í∞í Î∞îÍæ∏Í∏∞
                                console.log('========================================' + z + 'Î≤àÏß∏==================================');
                                console.log('Îã®Ïñ¥: ' + morpheme_copy[z]);
                                console.log('Ï¥ùÎ¶¨Ïä§Ìä∏: ' + morpheme_copy);
                                console.log('Í∏∏Ïù¥: ' + morpheme_copy.length);

                                //0. ÏÇ¨Ïù¥Ï¶à
                                if (morpheme_copy[z] == 'Ïàè') {
                                    user_size = "S";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ÌÜ®') {
                                    user_size = "T";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'Í∑∏ÎûÄÎç∞') {
                                    user_size = "G";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í
                                if (user_size == "") {
                                    user_size = "S";
                                }

                                //1. Ïò®ÎèÑ
                                if (morpheme_copy[z] == 'Ìï´') {
                                    user_hot_cold = "H";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ÏïÑÏù¥Ïä§') {
                                    user_hot_cold = "C";
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //Ìï´
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                                    user_hot_cold = "H";
                                }
                                else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ÏΩúÎìú
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                                    user_hot_cold = "C";
                                }

                                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏïàÎì§Ïñ¥Ïò§Î©¥
                                if ((user_hot_cold == "") && (category != "BAKERY")) {
                                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                                        user_hot_cold = "H";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                        user_hot_cold = "C";
                                    }
                                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                        //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                        user_hot_cold = "C";
                                    }
                                }

                                //2. Ïπ¥ÌéòÏù∏ Ï°∞Ï†à
                                if (morpheme_copy[z] == 'Ïπ¥ÌéòÏù∏') {
                                    user_caf_amount = 'CC';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if (morpheme_copy[z] == 'ÎîîÏπ¥ÌéòÏù∏') {
                                    user_caf_amount = 'CD';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }
                                else if ((morpheme_copy[z].indexOf('ÌïòÌîÑ') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                                    user_caf_amount = 'CH';
                                    morpheme_copy.splice(z, 1);
                                    z--;
                                    continue;
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //Ïπ¥ÌéòÏù∏ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {

                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïπ¥ÌéòÏù∏</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_caf_amount = "";
                                }


                                //3. ÏãúÎüΩ Ï°∞Ï†à
                                if (morpheme_copy[z].indexOf('ÏãúÎüΩ') >= 0) {

                                    //3-1. ÏãúÎüΩ > Î∞îÎãêÎùºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                    if ((morpheme_copy[z + 1] == 'Î∞îÎãêÎùº') || (morpheme_copy[z + 1] == 'Î∞îÎãêÎùºÏãúÎüΩ')) {

                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // Ïà´Ïûê - ÏãúÎüΩ - Î∞îÎãêÎùº 
                                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("nÎ≤à ÏãúÎüΩ Î∞îÎãêÎùº");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ÏãúÎüΩ - Î∞îÎãêÎùº - Ïà´Ïûê
                                            user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ÏãúÎüΩ Î∞îÎãêÎùº nÎ≤à");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ÏãúÎüΩ - Î∞îÎãêÎùº (Ïà´Ïûê ÏóÜÏùå)
                                            user_syrup = 'B2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ÏãúÎüΩ Î∞îÎãêÎùº Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }

                                    /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                    //3-2. ÏãúÎüΩ > Ìó§Ïù¥Ï¶êÎÑõÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                    else if ((morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõ') || (morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ')) {
                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // Ïà´Ïûê - ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ 
                                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("nÎ≤à ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ - Ïà´Ïûê
                                            user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ nÎ≤à");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ (Ïà´Ïûê ÏóÜÏùå)
                                            user_syrup = 'H2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }

                                    //3-3. ÏãúÎüΩ > Ïπ¥ÎùºÎ©úÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                    else if ((morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ')) {
                                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                            // Ïà´Ïûê - ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú
                                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log("nÎ≤à ÏãúÎüΩ Ïπ¥ÎùºÎ©ú");
                                            continue;
                                        }
                                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                            // ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú - Ïà´Ïûê
                                            user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú nÎ≤à");
                                            continue;
                                        }
                                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                            //ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú (Ïà´Ïûê ÏóÜÏùå)
                                            user_syrup = 'C2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }

                                    //3-4. Î∞îÎãêÎùº > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Î∞îÎãêÎùºÏãúÎüΩ)
                                    else if (morpheme_copy[z] == 'Î∞îÎãêÎùºÏãúÎüΩ') {

                                        //Ïà´Ïûê - Î∞îÎãêÎùº - ÏãúÎüΩ
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("nÎ≤à Î∞îÎãêÎùºÏãúÎüΩ");
                                            continue;
                                        }
                                        //Î∞îÎãêÎùº - ÏãúÎüΩ - Ïà´Ïûê
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("Î∞îÎãêÎùºÏãúÎüΩ nÎ≤à");
                                            continue;
                                        }
                                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'B2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Î∞îÎãêÎùºÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }

                                    /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                    //3-5. Ìó§Ïù¥Ï¶êÎÑõ > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ)
                                    else if (morpheme_copy[z] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ') {

                                        //Ïà´Ïûê - Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("nÎ≤à Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ");
                                            continue;
                                        }
                                        //Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ - Ïà´Ïûê
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ nÎ≤à");
                                            continue;
                                        }
                                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'H2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }


                                    //3-6. Ïπ¥ÎùºÎ©ú > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ïπ¥ÎùºÎ©úÏãúÎüΩ)
                                    else if (morpheme_copy[z] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ') {

                                        //Ïà´Ïûê - Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("nÎ≤à Ïπ¥ÎùºÎ©úÏãúÎüΩ");
                                            continue;
                                        }
                                        //Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ - Ïà´Ïûê
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ nÎ≤à");
                                            continue;
                                        }
                                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                            user_syrup = 'C2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                            continue;
                                        }
                                    }

                                    //3-7. ÏãúÎüΩ Ï¢ÖÎ•ò ÏïÑÎ¨¥Í≤ÉÎèÑ ÏÑ†ÌÉù ÏïàÌñàÏùÑ Îïå
                                    else {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + "Ïù¥ Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                                        await delay(2000);
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ÏãúÎüΩ Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                                        continue;
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ÏãúÎüΩ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_syrup = "";
                                }


                                /* ÌòïÌÉúÏÜå (ÏÉ∑ Ïù∏Ïãù Î∂àÏïàÏ†ï / Ï£ºÎ¨∏ Ïñ¥ÎñªÍ≤å ÌïòÎäîÏßÄ Îã§Ïãú ÏïåÏïÑÎ≥¥Í≥† ÌïòÍ∏∞) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                //4. ÏÉ∑ Ï°∞Ï†à -> ÏéÑ, Í≤î ÎÇòÏ§ëÏóê ÌòïÌÉúÏÜå Ï†ÅÏö©ÎêòÎ©¥ ÏóÜÏï†Í∏∞
                                if ((morpheme_copy[z].indexOf('ÏÉ∑') >= 0) || (morpheme_copy[z].indexOf('ÏéÑ') >= 0) || (morpheme_copy[z].indexOf('Í≤î') >= 0) || (morpheme_copy[z].indexOf('Ïâê') >= 0)) {

                                    //Ïà´Ïûê - ÏÉ∑
                                    if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                        morpheme_copy.splice(z - 1, 2);
                                        z--;
                                        console.log("nÎ≤à ÏÉ∑");
                                        continue;
                                    }

                                    //ÏÉ∑ - Ïà´Ïûê
                                    else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ÏÉ∑ nÎ≤à");
                                        continue;
                                    }

                                    //Ïà´Ïûê Îßê ÏïàÌïòÎ©¥
                                    else {
                                        user_shot = 'S1';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ÏÉ∑ ÏÑ†ÌÉù ÏïàÌï®");
                                        continue;
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ÏÉ∑ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏÉ∑</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_shot = "";
                                }


                                //5. Ïö∞Ïú† Ï°∞Ï†à

                                if (morpheme_copy[z].indexOf('Ïö∞Ïú†') >= 0) {

                                    // Ïö∞Ïú†Í∞Ä ÏïûÏóê ÏûàÏùÑ Îïå
                                    if ((morpheme_copy[z + 1].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                                        //1. Ïö∞Ïú† - Ï†ÄÏßÄÎ∞©(Ïö∞Ïú†)
                                        user_milk = 'ML';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z + 1].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) { //indexOf Ìè¨Ìï® Î¨∏ÏûêÏó¥ ÏûàÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§, ÏóÜÏúºÎ©¥ -1 Î∞òÌôò
                                        //2. Ïö∞Ïú† - Î¨¥ÏßÄÎ∞©(Ïö∞Ïú†)
                                        user_milk = 'MN';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z + 1].indexOf('ÎëêÏú†') >= 0)) {
                                        //3. Ïö∞Ïú† - ÎëêÏú†
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 2);
                                        z--;
                                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    //Ïö∞Ïú†Í∞Ä Îí§Ïóê ÏûàÏùÑ Îïå
                                    else if ((morpheme_copy[z].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                                        //5. Ï†ÄÏßÄÎ∞© - Ïö∞Ïú†
                                        user_milk = 'ML';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) {
                                        //6. Î¨¥ÏßÄÎ∞© - Ïö∞Ïú†
                                        user_milk = 'MN';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ÎëêÏú†') >= 0)) {
                                        //7. ÎëêÏú† - Ïö∞Ïú†
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    //ÎëêÏú†Îûë Ïò§Ìä∏Îäî Î©îÎâ¥ÎûëÎèÑ Í≤πÏπòÎäî Î∂ÄÎ∂Ñ ÏûàÏñ¥ÏÑú Îí§Î°ú ÎØ∏Î£∏
                                    else if ((morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z + 1].indexOf('Ïò§Ìä∏') >= 0)) {
                                        //4. Ïö∞Ïú† - Í∑ÄÎ¶¨ / Ïò§Ìä∏ (Ïö∞Ïú†)
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 2);
                                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä Î®ºÏ†Ä ÎÇòÏò¥");
                                        console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                                        console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                                        z--;
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                                        //8. Í∑ÄÎ¶¨ / Ïò§Ìä∏ - Ïö∞Ïú†
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 1);
                                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä ÎÇòÏ§ë ÎÇòÏò¥");
                                        console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                                        console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                                        z--;
                                        continue;
                                    }
                                    else {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + "Í∞Ä Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                                        await delay(2000);
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("Ïö∞Ïú† Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                                        continue;
                                    }
                                }
                                else {
                                    //ÎëêÏú†ÎÇò Í∑ÄÎ¶¨/Ïò§Ìä∏Îäî Îî∞Î°ú Ïö∞Ïú† Îßê ÏïàÌïòÍ≥† Î∞îÍøÄÏàòÎèÑ ÏûàÏúºÎãàÍπå Îî∞Î°ú ÎπºÏ§å
                                    if (morpheme_copy[z].indexOf('ÎëêÏú†') >= 0) {
                                        user_milk = 'MS';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                                        user_milk = 'MO';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ Ïö∞Ïú† ÏÑ†ÌÉù");
                                        continue;
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //Ïö∞Ïú† Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_milk = "";
                                }


                                //6. ÌúòÌïë Ï°∞Ï†à
                                if (morpheme_copy[z].indexOf('ÌúòÌïë') >= 0) {

                                    //ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÏù∏ÏßÄ Í∑∏ÎÉ• ÌúòÌïëÏù∏ÏßÄ

                                    //1. ÏóêÏä§ÌîÑÎ†àÏÜå-ÌúòÌïë
                                    if (morpheme_copy[z].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                                        user_whip = 'EW';

                                        //2-1. Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë
                                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                            //Îßé
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                            continue;
                                        }
                                        //2-2. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë
                                        else if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                            continue;
                                        }
                                        //2-3. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë ÏóÜÏùå
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                                            continue;
                                        }
                                    }
                                    //3. ÌúòÌïë - ÏóêÏä§ÌîÑÎ†àÏÜå
                                    else if (morpheme_copy[z + 1].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                                        user_whip = 'EW';

                                        //2-1. Ïñë-ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå
                                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                            //Îßé
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 3);
                                            z--;
                                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                            continue;
                                        }
                                        //2-2. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë
                                        else if (morpheme_copy[z + 2].indexOf('Îßé') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 2].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 2].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 2].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 3);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                            continue;
                                        }
                                        //2-3. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë ÏóÜÏùå
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                                            continue;
                                        }
                                    }

                                    //4. ÏùºÎ∞ò ÌúòÌïë
                                    else {
                                        user_whip = 'W';

                                        //1. ÌúòÌïë-Ïñë
                                        if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ÏùºÎ∞òÌúòÌïë-Îßé');
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log('ÏùºÎ∞òÌúòÌïë-Ï†Å');
                                            continue;
                                        }
                                        //2. Ïñë-ÌúòÌïë
                                        else if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                            user_whip += '3';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('Îßé-ÏùºÎ∞òÌúòÌïë');
                                            continue;
                                        }
                                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                            //Ï†Å
                                            user_whip += '1';
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log('Ï†Å-ÏùºÎ∞òÌúòÌïë');
                                            continue;
                                        }
                                        //3. ÌúòÌïë-Ïñë ÏóÜÏùå
                                        else {
                                            user_whip += '2';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log('ÏùºÎ∞òÌúòÌïë-Ïñë ÏóÜÏùå');
                                            continue;
                                        }
                                    }

                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //ÌúòÌïë Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÌúòÌïë</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_whip = "";
                                }


                                //7. ÏûêÎ∞îÏπ© Ï°∞Ï†à
                                if ((morpheme_list[z].indexOf('ÏûêÎ∞îÏπ©') >= 0) && before_list[before_list.length - 1][0].indexOf('ÏûêÎ∞îÏπ©') < 0) {

                                    if (morpheme_list[z - 1].indexOf('ÌÜµ') >= 0) {
                                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        morpheme_copy.splice(z, 1);
                                        morpheme_copy.splice(z - 1, 1);
                                    }
                                    else if (morpheme_list[z].indexOf('ÌÜµ') >= 0) {
                                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        morpheme_copy.splice(z, 1);
                                    }
                                    else if (morpheme_list[z + 1].indexOf('ÌÜµ') >= 0) {
                                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        morpheme_copy.splice(z + 1, 1);
                                        morpheme_copy.splice(z, 1);
                                    }
                                    else {
                                        user_java_chip = 'JC'; //ÏùºÎ∞ò ÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ÏûêÎ∞îÏπ© Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏûêÎ∞îÏπ©</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_java_chip = "";
                                }


                                //8. ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à
                                if (morpheme_list[z].indexOf('ÎìúÎ¶¨Ï¶ê') >= 0) {

                                    //Ïπ¥ÎùºÎ©úÏù∏ÏßÄ Ï¥àÏΩúÎ¶øÏù∏ÏßÄ
                                    if ((morpheme_list[z - 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú')) {
                                        user_driz = 'DCR';
                                    }
                                    else {
                                        user_driz = 'DCC';
                                    }

                                    // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                    if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                        user_driz += '3';
                                    }
                                    else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                        user_driz += '1';
                                    }
                                    else if (morpheme_list[z + 1] == 'Î≥¥ÌÜµ') {
                                        user_driz += '2';
                                    }
                                    else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                        user_driz += '2';
                                    }
                                }

                                //ÏòàÏô∏Ï≤òÎ¶¨
                                if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                {
                                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÎìúÎ¶¨Ï¶ê</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                    await delay(2000);
                                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    user_driz = "";
                                }

                            }


                            //user_op_list = (Ïò®ÎèÑ)H/C, (Ïπ¥ÌéòÏù∏)CC/CH/CD, (ÏãúÎüΩ)BÏà´Ïûê/HÏà´Ïûê/CÏà´Ïûê, 
                            //(ÏÉ∑)SÏà´Ïûê, (Ïö∞Ïú†)ML/MN/MS/MO, (ÌúòÌïë)EW1~3/W1~3, (ÏûêÎ∞îÏπ©)JCA/JC, (ÎìúÎ¶¨Ï¶ê)DCR1~3/DCC1~3, (ÏÇ¨Ïù¥Ï¶à) S/T/G

                            user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                user_java_chip, user_driz, user_size]);

                            console.log("ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÌïú ÏòµÏÖò : ", user_op_list);



                            //var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

                            console.log('Ï∂îÍ∞ÄÎêú Î©îÎâ¥', before_list[before_list.length - 1][0]);
                            console.log('Î©îÎâ¥ Í∞ÄÍ≤©', before_list[before_list.length - 1][1]);
                            console.log('Ï∂îÍ∞ÄÎêú ÏòµÏÖò', user_op_list);

                            /* Ïã§Ï†ú ÏòµÏÖò - after list*/
                            var menu = "";
                            var price = 0;
                            var menu_ea = 1;
                            var hot_cold = "";
                            var caf_amount = "";
                            var syrup = "";
                            var shot = "";
                            var milk = "";
                            var whip = "";
                            var java_chip = "";
                            var driz = "";
                            var sales_rate = "";
                            var size = "";
                            var ul = "<ul>";
                            var op_price = 0;

                            /* DBÏóê ÎÑ£ÏùÑ Ïã§Ï†ú Î¶¨Ïä§Ìä∏ - after db list*/
                            var db_item_receipt = "";
                            var db_item_prod = 0;
                            var db_item_quan = 0;
                            var db_item_size = 0;
                            var db_item_price = 0;
                            var db_item_hot_cold = 0;
                            var db_item_caf = 0;
                            var db_item_syrup = 0;
                            var db_item_shot = 0;
                            var db_item_milk = 0;
                            var db_item_whip = 0;
                            var db_item_java_chip = 0;
                            var db_item_driz = 0;


                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                            /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                            /* var after_list = new Array();  */
                            //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]

                            //1,2,3. Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à
                            menu = before_list[before_list.length - 1][0];
                            db_item_prod = menu;
                            price = Number(before_list[before_list.length - 1][1]);
                            db_item_price = price;
                            size = user_op_list[user_op_list.length - 1][8];

                            if (size == 'T') {
                                op_price += 500;
                                db_item_size = 1;
                            }
                            else if (size == 'G') {
                                op_price += 1000;
                                db_item_size = 2;
                            }

                            //4. ÏàòÎüâ
                            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Î¶¨Ïä§Ìä∏ Îã§ ÎπºÍ≥† Ïà´ÏûêÎßå ÎÇ®ÏùÄ Í±∏ ÏàòÎüâÏúºÎ°ú Ïù∏Ïãù */
                            for (var k = 0; k < morpheme_copy.length; k++) {
                                if (isInteger(Number(morpheme_copy[k])) == true) {
                                    menu_ea = Number(morpheme_copy[k]);
                                    db_item_quan = menu_ea;
                                    console.log("ÏàòÎüâ ÏûàÏùå", menu_ea);
                                    break;
                                }
                                else {
                                    menu_ea = 1;
                                    db_item_quan = 1;
                                }
                            }

                            //3. hot_cold -> case 3: hot/cold Îëò Îã§ Îã§ Îê† Îïê Ïñ¥ÎñªÍ≤å Ìï† Í±¥ÏßÄ ÎîîÌè¥Ìä∏ Í∞í Ï†ïÌïòÍ∏∞!!
                            hot_cold = user_op_list[user_op_list.length - 1][0];
                            var hot_cold_icon = '';

                            if (hot_cold == 'H') {
                                hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                                db_item_hot_cold = 1;
                            }
                            else if (hot_cold == 'C') {
                                hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                                db_item_hot_cold = 2;
                            }


                            //4. caf_amount
                            caf_amount = user_op_list[user_op_list.length - 1][1];
                            if (caf_amount != "") {
                                ul += '<li>';

                                if (caf_amount == 'CC') {
                                    db_item_caf = 1;
                                    ul += 'Ïπ¥ÌéòÏù∏';
                                }
                                else if (caf_amount == 'CD') {
                                    ul += 'ÎîîÏπ¥ÌéòÏù∏';
                                }
                                else if (caf_amount == 'CH') {
                                    db_item_caf = 2;
                                    ul += 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏';
                                }
                                ul += '</li>';
                            }

                            // 5. ÏãúÎüΩ
                            syrup = user_op_list[user_op_list.length - 1][2];
                            if (syrup != "") {
                                ul += '<li>';

                                if (syrup[0] == 'B') {
                                    ul += 'Î∞îÎãêÎùºÏãúÎüΩ';
                                    db_item_syrup = Number(syrup[1]);
                                }
                                else if (syrup[0] == 'H') {
                                    ul += 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ';
                                    db_item_syrup = Number(syrup[1] + "0");
                                }
                                else if (syrup[0] == 'C') {
                                    ul += 'Ïπ¥ÎùºÎ©úÏãúÎüΩ';
                                    db_item_syrup = Number(syrup[1] + "00");
                                }

                                ul += ' +' + Number(syrup[1]) + 'Ìöå</li>';
                                op_price += 600;
                            }

                            // 6. ÏÉ∑
                            shot = user_op_list[user_op_list.length - 1][3];
                            if (shot != "") {
                                ul += '<li>ÏÉ∑';

                                if (shot[0] == 'S') {
                                    db_item_shot = Number(shot[1]);
                                    ul += ' +' + Number(shot[1]) + '</li>';
                                }
                                op_price += Number(shot[1]) * 600;
                            }


                            // 7. Ïö∞Ïú†
                            milk = user_op_list[user_op_list.length - 1][4];
                            if (milk != "") {
                                db_item_milk = 1;

                                ul += '<li>';

                                if (milk == 'ML') {
                                    db_item_milk = 2;
                                    ul += 'Ï†ÄÏßÄÎ∞©';
                                }
                                else if (milk == 'MN') {
                                    db_item_milk = 3;
                                    ul += 'Î¨¥ÏßÄÎ∞©';
                                }
                                else if (milk == 'MS') {
                                    db_item_milk = 4;
                                    ul += 'ÎëêÏú†';
                                }
                                else if (milk == 'MO') {
                                    db_item_milk = 5;
                                    ul += 'Í∑ÄÎ¶¨(Ïò§Ìä∏)';
                                }
                                ul += '</li>';
                                op_price += 600;
                            }

                            // 8. ÌúòÌïë
                            whip = user_op_list[user_op_list.length - 1][5];
                            if (whip != "") {
                                ul += '<li>';

                                if (whip[0] == 'E') {
                                    ul += 'ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÌÅ¨Î¶º';

                                    if (whip[2] == '3') {
                                        db_item_whip = 13;
                                        ul += '<span>ÎßéÏù¥</span>'
                                    }
                                    else if (whip[2] == '2') {
                                        db_item_whip = 11;
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                    }
                                    else if (whip[2] == '1') {
                                        db_item_whip = 12;
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                    }
                                }
                                else if (whip[0] == 'W') {
                                    ul += 'ÌúòÌïëÌÅ¨Î¶º';

                                    if (whip[1] == '3') {
                                        db_item_whip = 3;
                                        ul += '<span>ÎßéÏù¥</span>'
                                    }
                                    else if (whip[1] == '2') {
                                        db_item_whip = 1;
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                    }
                                    else if (whip[1] == '1') {
                                        db_item_whip = 2;
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                    }
                                }

                                ul += ' </li>';
                                op_price += 600;
                            }

                            // 9. ÏûêÎ∞îÏπ©
                            java_chip = user_op_list[user_op_list.length - 1][6];
                            if (java_chip != "") {
                                ul += '<li>';

                                if (java_chip == 'JAC') {
                                    db_item_java_chip = 2;
                                    ul += 'ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                }
                                else if (java_chip == 'JC') {
                                    db_item_java_chip = 1;
                                    ul += 'ÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                }
                                ul += '</li>';

                                op_price += 600;
                            }

                            // 10. ÎìúÎ¶¨Ï¶ê
                            driz = user_op_list[user_op_list.length - 1][7];
                            if (driz != "") {
                                ul += '<li>';

                                db_item_driz_txt = "";

                                if (driz[2] == 'R') {
                                    ul += 'Ïπ¥ÎùºÎ©úÎìúÎ¶¨Ï¶ê';
                                    db_item_driz_txt = "1";
                                }
                                else if (driz[2] == 'C') {
                                    ul += 'Ï¥àÏΩîÎìúÎ¶¨Ï¶ê';
                                }


                                if (driz[3] == '3') {
                                    ul += '<span>ÎßéÏù¥</span>'
                                    db_item_driz_txt += "3";
                                }
                                else if (driz[3] == '2') {
                                    ul += '<span>Î≥¥ÌÜµ</span>'
                                    db_item_driz_txt += "1";
                                }
                                else if (driz[3] == '1') {
                                    ul += '<span>Ï†ÅÍ≤å</span>'
                                    db_item_driz_txt += "2";
                                }

                                db_item_driz = Number(db_item_driz_txt);
                                ul += '</li>';
                                op_price += 600;
                            }

                            //Í∞ÄÍ≤© Í≥ÑÏÇ∞
                            menu_price = (price + op_price) * menu_ea;
                            price_list.push(menu_price);
                            total_price += menu_price;

                            //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]
                            //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


                            // Ïã§Ï†ú DB Ï∂îÍ∞Ä ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [ÏòÅÏàòÏ¶ù Î≤àÌò∏, Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
                            //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                            //ÏùåÏãùÏù¥Î©¥
                            if (category == "BAKERY") {
                                after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
                            }
                            else {
                                after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
                            }

                            if (category == "BAKERY") //ÏùåÏãùÏù¥Î©¥ ÏÇ¨Ïù¥Ï¶àÎûë Ïò®ÎèÑ ÎÇòÏò§ÏßÄ ÏïäÎèÑÎ°ù
                            {
                                ul += '</ul>'
                                forms_txt = '<tr>\
                                    <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3>'+ menu + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                forms_list.push(forms_txt);
                            }
                            else { //ÏùåÎ£åÎ©¥ ÏÇ¨Ïù¥Ï¶à ÎÇòÏò§ÎèÑÎ°ù

                                console.log("ÏÇ¨Ïù¥Ï¶à: ", size, "ÏàòÎüâ: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                                ul += '</ul>'
                                forms_txt = '<tr>\
                                            <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                forms_list.push(forms_txt);
                            }

                            real_forms = forms_list[0];
                            forms.innerHTML = real_forms;




                            total_price = 0;
                            for (var i = 0; i < price_list.length; i++) {
                                total_price += price_list[i];
                            }
                            total_real.innerHTML = total_price + ' Ïõê';


                            scroll_tb.scrollTop = scroll_tb.scrollHeight;
                            var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

                            txt.innerHTML = '"Í≤∞Ï†ú" / "Ï∂îÍ∞ÄÌï† Î©îÎâ¥"Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó';
                            var audio4 = await tts("Í≤∞Ï†ú ÎòêÎäî Ï∂îÍ∞ÄÌï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                            audio_once = false;
                            menu_cnt += 1; //Ï£ºÎ¨∏ Î©îÎâ¥ 1Í∞ú ÏôÑÎ£å

                        }
                        else //Ìïú Í∏ÄÏûêÎèÑ Ïïà Îì§Ïñ¥Ïò§Î©¥
                        {
                            txt.innerHTML = "‚úîÔ∏è Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!";
                            var audio5 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");
                        }
                    }


                    else // 1Î©îÎâ¥ Ïù¥ÏÉÅ Ï£ºÎ¨∏ O
                    {
                        console.log("ÌïúÎ≤à Ïù¥ÏÉÅ Ï£ºÎ¨∏");

                        txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">üî¥</span><span class="circle"> Ïù∏Ïãù Ï§ë</span></p>\
                        <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">üí°TIPüí° Í≤∞Ï†úÎùºÍ≥† ÎßêÏîÄÌïòÏã§ Í≤ΩÏö∞ Ï£ºÎ¨∏Ïù¥ Ï¢ÖÎ£åÎêòÏöî!</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                        var stt2 = await speech_to_text();

                        if (stt2.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                        {
                            if (stt2 == "Í≤∞Ï†ú" | stt2 == "Í≤∞Ïû¨" | stt2 == "Ï≤´Ïß∏") //Í≤∞Ï†ú ÏõêÌïòÎ©¥
                            {
                                console.log("Ï£ºÎ¨∏ Ï¢ÖÎ£å");
                                txt.innerHTML = "‚úîÔ∏è Í≤∞Ï†ú ÏïàÎÇ¥Î•º ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§";
                                var audio5 = await tts("Í≤∞Ï†ú ÏïàÎÇ¥Î•º ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§!");
                                var menu_last = '';
                                var menu_name = '';

                                for (var i = 0; i < after_list.length; i++) {
                                    if (category_list[i] == "BAKERY") {
                                        //ÏùåÏãùÏù¥Î©¥
                                        menu_last += after_list[i][0] + " " + after_list[i][2] + "Í∞ú,";
                                        menu_name += " " + after_list[i][0] + ",";
                                    }
                                    else {
                                        //ÏùåÎ£åÎ©¥
                                        menu_last += after_list[i][0] + " " + after_list[i][2] + "Ïûî,";
                                        menu_name += " " + after_list[i][0] + ",";
                                    }
                                }


                                txt.innerHTML = 'Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥Í∞Ä ÎßûÏúºÏã†Í∞ÄÏöî?';
                                left.style.display = 'none';
                                right.className = 'col-xxl-10'; // Í∏∞Ï°¥ ÌÅ¥ÎûòÏä§Î™ÖÏùÄ ÏÇ¨ÎùºÏßÄÎãà Ï£ºÏùò!
                                right.style.float = 'none';
                                right.style.margin = '0 auto';
                                right.style.fontsize = '0.9em !important';
                                right.style.maxHeight = '95%';

                                scroll_tb.scrollTop = 0;

                                startScroll(1000);


                                var audio6 = await tts("Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥Í∞Ä " + menu_last + " ÎßûÏúºÏã†Í∞ÄÏöî?");
                                txt.innerHTML = '<p style="margin-top: -0.2em;">"ÎÑ§" / "ÏïÑÎãàÏò§"Î°ú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó</p>\
                                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">üí°TIPüí° ÏûòÎ™ªÎêú Ï£ºÎ¨∏ÏùÄ ÏïÑÎãàÏò§Î•º ÌÜµÌï¥ Î≥ÄÍ≤ΩÌïòÏã§ Ïàò ÏûàÏñ¥Ïöî!</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                                var stt_last = await speech_to_text();

                                //Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ï£ºÎ¨∏ ÎÅùÎÇ®
                                if (stt_last == "ÎÇ¥" || stt_last == "ÎÇ¥." || stt_last == "ÎÑ§" || stt_last == "ÎÑ§.") {

                                    //DBÏóê Ï£ºÎ¨∏ ÏòÅÏàòÏ¶ù Ï∂îÍ∞Ä
                                    var rcp_todayUser = document.querySelector('input[name="todayUserId"]');
                                    rcp_todayUser.value = '{{ today_user_id|escapejs }}';
                                    console.log(rcp_todayUser.value);

                                    var rcp_member = document.querySelector('input[name="memberId"]');
                                    rcp_member.value = Number('{{ member_id|escapejs }}');
                                    console.log(rcp_member.value);

                                    var rcp_price = document.querySelector('input[name="receiptPrice"]');
                                    rcp_price.value = Number(total_price);
                                    console.log(rcp_price.value);

                                    var rcp_today = document.querySelector('input[name="receiptTodayId"]');

                                    //ÏãúÍ∞Ñ
                                    let today = new Date();
                                    var year = today.getFullYear();
                                    var month = ("0" + (1 + today.getMonth())).slice(-2);
                                    var day = ("0" + today.getDate()).slice(-2);
                                    rcp_today.value = Number(year + month + day);
                                    console.log(rcp_today.value);

                                    //receipt Ìèº Ï†úÏ∂ú
                                    console.log("ÏòÅÏàòÏ¶ù Ìèº Ï†úÏ∂ú");
                                    var submit = await document.getElementById("receipt").submit();
                                    //2000ÍπåÏßÄ 
                                    await new Promise((resolve, reject) => setTimeout(resolve, 1800));


                                    // DBÏóê ÏïÑÏù¥ÌÖú Ï∂îÍ∞Ä
                                    for (var i = 0; i < after_db_list.length; i++) {

                                        // Ï†ÑÏ≤¥ Ìïú Î©îÎâ¥ Î¶¨Ïä§Ìä∏ ÎßàÎã§
                                        // after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 
                                        //db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, 
                                        //db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                                        var item_receiptId = document.querySelector('input[name="receiptId"]');
                                        item_receiptId.value = after_db_list[i][0];

                                        var item_prodId = document.querySelector('input[name="prodId"]');
                                        item_prodId.value = id_list[i]; //id_list[i][0]?

                                        var item_quantity = document.querySelector('input[name="itemQuantity"]');
                                        item_quantity.value = after_db_list[i][2];

                                        var item_size = document.querySelector('input[name="itemSize"]');
                                        item_size.value = after_db_list[i][3];

                                        var item_price = document.querySelector('input[name="itemPrice"]');
                                        item_price.value = after_db_list[i][4];

                                        var item_hot_cold = document.querySelector('input[name="itemHotCold"]');
                                        item_hot_cold.value = after_db_list[i][5];

                                        var item_caf = document.querySelector('input[name="itemCafAmount"]');
                                        item_caf.value = after_db_list[i][6];

                                        var item_syrup = document.querySelector('input[name="itemSyrup"]');
                                        item_syrup.value = after_db_list[i][7];

                                        var item_shot = document.querySelector('input[name="itemShot"]');
                                        item_shot.value = after_db_list[i][8];

                                        var item_milk = document.querySelector('input[name="itemMilk"]');
                                        item_milk.value = after_db_list[i][9];

                                        var item_whip = document.querySelector('input[name="itemWhip"]');
                                        item_whip.value = after_db_list[i][10];

                                        var item_java_chip = document.querySelector('input[name="itemJavaChip"]');
                                        item_java_chip.value = after_db_list[i][11];

                                        var item_driz = document.querySelector('input[name="itemDriz"]');
                                        item_driz.value = after_db_list[i][12];

                                        console.log("ÏïÑÏù¥ÌÖú" + i + " Ìèº Ï†úÏ∂ú"); //alert ÎßêÍ≥† consoleÎ°ú Î∞îÍæ∏Í∏∞
                                        submit_list.push(await document.getElementById("item").submit());
                                        await new Promise((resolve, reject) => setTimeout(resolve, 400));
                                    }

                                    //Ïù¥Îèô
                                    var menu_param = "";
                                    var ea_param = "";
                                    for (var i = 0; i < after_list.length; i++) {
                                        menu_param += after_list[i][0] + ",";
                                        ea_param += after_list[i][13] + ",";
                                    }
                                    location.href = "/client/end?price=" + total_price + "&menu=" + menu_param.slice(0, -1) + "&ea=" + ea_param.slice(0, -1);
                                    break;
                                }
                                //ÎπÑÏ†ïÏÉÅÏ†ÅÏúºÎ°ú Ï£ºÎ¨∏ÎêòÏóàÏùÑ Îïå >> ÏàòÏ†ïÍ∏∞Îä• ÎÇòÏ§ëÏóê ÏãúÍ∞Ñ ÎÇ®ÏúºÎ©¥!!!!!!!!!!!!!!!!!!
                                else {
                                    var menu_right = false;

                                    while (menu_right == false) {

                                        console.log("Ïù¥ ÏïàÏóêÏÑú ÎèåÏúºÏÖîÏïºÌï¥Ïú†„Ö†„Ö†");

                                        var menu_recog = false; //Î©îÎâ¥ Ïù¥Î¶Ñ Ïûò Îì§Ïñ¥ÏôîÎäîÏßÄ
                                        console.log('Î©îÎâ¥ ÏàòÏ†ï');


                                        /* txt.innerHTML = 'Ï£ºÎ¨∏ÏùÑ ÏàòÏ†ïÌï¥ÎìúÎ¶¥Í≤åÏöî!'; */

                                        txt.innerHTML = "<p style='margin-top: -0.2em;'>ÏûòÎ™ª Îì§Ïñ¥Í∞Ñ Î©îÎâ¥Î™ÖÏùÑ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!\
                                        <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>üí°TIPüí° Î©îÎâ¥ Ïù¥Î¶ÑÎßå ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî! (ex. Ïπ¥Ìéò ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏)</h5></p>";
                                        var audio7 = await tts("Ï£ºÎ¨∏ÏùÑ ÏàòÏ†ïÌï¥ÎìúÎ¶¥Í≤åÏöî. ÏûòÎ™ª Îì§Ïñ¥Í∞Ñ Î©îÎâ¥ Ïù¥Î¶ÑÏùÑ ÎßêÏîÄÌï¥Ï£ºÏãúÍ≤†Ïñ¥Ïöî?");

                                        //Î©îÎâ¥ Ïù¥Î¶Ñ Ïûò Îì§Ïñ¥Ïò¨ ÎïåÍπåÏßÄ Îã§Ïãú
                                        while (menu_recog == false) {

                                            var stt_cancel = await speech_to_text(); //Ï∑®ÏÜåÌï† Î©îÎâ¥ Ïù¥Î¶Ñ

                                            if (stt_cancel.length >= 1) {
                                                /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                                                var stt_morpheme = await stem_analyzer(stt_cancel);
                                                //console.log("return: ",stt_morpheme); -> Î©îÎâ¥Ïù¥Î¶Ñ
                                                console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [Î©îÎâ¥Ïù¥Î¶Ñ]


                                                //Ï£ºÎ¨∏Ìïú Î©îÎâ¥(DBÎ°ú ÌåêÎ≥Ñ)Í∞Ä ÌòïÌÉúÏÜåÏóê ÏûàÎäîÏßÄ ÌôïÏù∏
                                                out: for (var x = 0; x < morpheme_list.length; x++) {
                                                    inn: for (var y = 0; y < db_menu.length; y++) {
                                                        if (morpheme_list[x] == db_menu[y]) {

                                                            var delist = morpheme_list[x]; // Î™á Î≤àÏùÑ Ï∑®ÏÜå ÌñàÎäîÏßÄ Ï†ÄÏû•

                                                            //Ï£ºÎ¨∏ Î¶¨Ïä§Ìä∏ ÏïàÏóê Ìï¥Îãπ Î©îÎâ¥ ÏûàÎäîÏßÄ?
                                                            innn: for (var z = 0; z < before_list.length; z++) {

                                                                //ÏûàÏúºÎ©¥
                                                                if (before_list[z][0] == delist) {
                                                                    before_list.splice(z, 1); // Ï∑®ÏÜåÌïú Î≤àÌò∏ Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    after_db_list.splice(z, 1); // db Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    console.log("ÏÇ≠Ï†úÎêú after_db_list: ", after_db_list);
                                                                    after_list.splice(z, 1); // Ï£ºÎ¨∏ ÏôÑÎ£åÏóêÏÑú ÏÇ≠Ï†ú
                                                                    forms_list.splice(z, 1); // form Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    user_op_list.splice(z, 1); //ÏòµÏÖò Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    id_list.splice(z, 1); //ÏÉÅÌíà ÏïÑÏù¥Îîî Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    category_list.splice(z, 1); //Ïπ¥ÌÖåÍ≥†Î¶¨ Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    price_list.splice(z, 1); //Í∞ÄÍ≤© Î¶¨Ïä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†ú
                                                                    console.log("ÏÇ≠Ï†úÎêú price_list: ", price_list);
                                                                    console.log('Î©îÎâ¥ ÏÇ≠Ï†ú');

                                                                    menu_recog = true; //Î©îÎâ¥ Ïù¥Î¶Ñ Ïûò Ïù∏ÏãùÎê®
                                                                    break innn;
                                                                }
                                                            }
                                                            break inn;
                                                        }
                                                    }
                                                    break out;
                                                }

                                                //Î©îÎâ¥ Ïù¥Î¶Ñ Ïù∏Ïãù ÏïàÎêêÏúºÎ©¥ Îã§Ïãú whileÎ¨∏ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÏÑú Î∞òÎ≥µ
                                                if (menu_recog == false) {

                                                    txt.innerHTML = "<p style='margin-top: -0.2em;'>ÏàòÏ†ïÌï† Î©îÎâ¥Î™ÖÏùÑ Îã§Ïãú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!\
                                                    <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>üí°TIPüí° Ï∑®ÏÜåÌï† Î©îÎâ¥ Ïù¥Î¶ÑÎßå ÎòêÎ∞ï ÎòêÎ∞ï ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.</h5></p>";
                                                    var audio7 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏñ¥Ïöî. ÏàòÏ†ïÌï† Î©îÎâ¥ Ïù¥Î¶ÑÎßå Îã§Ïãú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                                                    continue;
                                                }

                                                // ui Î™©Î°ù Îã§Ïãú Î∞îÍæ∏Í∏∞
                                                real_forms = forms_list[0];
                                                for (var i = 1; i < forms_list.length; i++) {
                                                    real_forms += forms_list[i];
                                                }

                                                forms.innerHTML = real_forms;
                                                menu_cnt -= 1 //Ï£ºÎ¨∏ Í∞úÏàò -1

                                                total_price = 0;
                                                for (var i = 0; i < price_list.length; i++) {
                                                    total_price += price_list[i];
                                                }
                                                total_real.innerHTML = total_price + ' Ïõê';

                                                console.log("ÏàòÏ†ïÌï† Î©îÎâ¥ Ïù¥Î¶Ñ Ïûò ÎßêÌñàÏñ¥Ïöî");

                                            }
                                        }

                                        //Îã§Ïãú Ï£ºÎ¨∏Ìï†ÏßÄ ÎßêÏßÄ
                                        left.style.display = 'block';
                                        right.className = 'col-xxl-6'; // Í∏∞Ï°¥ ÌÅ¥ÎûòÏä§Î™ÖÏùÄ ÏÇ¨ÎùºÏßÄÎãà Ï£ºÏùò!

                                        txt.innerHTML = "<p style='margin-top: -0.2em;'>Îã§Ïãú Ï£ºÎ¨∏Ìï† <span style='text-decoration: underline;'>Î©îÎâ¥</span>Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöîüíö\
                                        <h5 style='color:#eb5050 !important; margin-top: -0.35em; font-weight: 700;'>üí°TIPüí° Î©îÎâ¥Î™Ö ‚ñ∂Ô∏è ÏòµÏÖò ‚ñ∂Ô∏è ÏàòÎüâ ÏàúÏÑúÎ°ú Ìïú Î¨∏Ïû•ÏùÑ ÎòêÎ∞ïÎòêÎ∞ï ÎßêÌï¥Ï£ºÏÑ∏Ïöî!</h5></p>";
                                        var audio8 = await tts("Îã§Ïãú Ï£ºÎ¨∏Ìï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");


                                        //Îã§Ïãú Ï£ºÎ¨∏Ìï† Î©îÎâ¥ ÏûÖÎ†• Î∞õÏùÑ - 1Í∏ÄÏûê Ïù¥ÏÉÅÎßêÌï† Îïå ÍπåÏßÄ
                                        while (true) {

                                            var re_stt = await speech_to_text();

                                            console.log('re_stt: ', re_stt); //Ïó¨Í∏∞ÍπåÏßÑ ÏôîÏùå

                                            if (re_stt.length >= 1) {

                                                console.log('re_stt ifÎ¨∏ Îì§Ïñ¥Ïò¥?');
                                                /* Ïû¨Ï£ºÎ¨∏ Ìï®Ïàò ÌïúÎ≤à ÏÇ¨Ïö©Ìï¥Î¥Ñ */

                                                console.log("reorder Ìï®Ïàò Îì§Ïñ¥Í∞ÄÍ∏∞ Ï†Ñ");
                                                await reorder(re_stt);
                                                console.log("Ïû¨Ï£ºÎ¨∏ Ìï®Ïàò ÎÅùÎÇ¨ÎÉê?");

                                                if (category_list[category_list.length - 1] == "BAKERY") {
                                                    re_menu = after_list[after_list.length - 1][0] + " " + after_list[after_list.length - 1][2] + "Í∞ú";
                                                }
                                                else {
                                                    re_menu = after_list[after_list.length - 1][0] + " " + after_list[after_list.length - 1][2] + "Ïûî";
                                                }

                                                menu_name = ""; //ÏûòÎ™ªÎêú Í±∞ Ï¥àÍ∏∞ÌôîÌïòÍ∏∞

                                                for (var i = 0; i < after_list.length; i++) {
                                                    menu_name += " " + after_list[i][0] + ",";
                                                }

                                                txt.innerHTML = 'Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥Í∞Ä ' + after_list[after_list.length - 1][0] + ' ÎßûÏúºÏã†Í∞ÄÏöî?';

                                                //txt.innerHTML = 'Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥ :' + menu_name.slice(0, -1);
                                                left.style.display = 'none';
                                                right.className = 'col-xxl-10'; // Í∏∞Ï°¥ ÌÅ¥ÎûòÏä§Î™ÖÏùÄ ÏÇ¨ÎùºÏßÄÎãà Ï£ºÏùò!
                                                right.style.float = 'none';
                                                right.style.margin = '0 auto';

                                                var audio6 = await tts("Ï£ºÎ¨∏ÌïòÏã† Î©îÎâ¥Í∞Ä " + re_menu + " ÎßûÏúºÏã†Í∞ÄÏöî?");
                                                txt.innerHTML = '<p style="margin-top: -0.2em;">"ÎÑ§" / "ÏïÑÎãàÏò§"Î°ú ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó</p>\
                                                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">üí°TIPüí° ÏûòÎ™ªÎêú Ï£ºÎ¨∏ÏùÄ ÏïÑÎãàÏò§Î•º ÌÜµÌï¥ Î≥ÄÍ≤ΩÌïòÏã§ Ïàò ÏûàÏñ¥Ïöî.</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                                                var stt_last = await speech_to_text();
                                                console.log("stt_last", stt_last);

                                                if (stt_last == "ÎÑ§" || stt_last == "ÎÑ§.") {
                                                    console.log("ÎÑ§ÎùºÍ≥† Îì§Ïñ¥ÏôîÏñ¥?");
                                                    menu_right = true;

                                                    //DBÏóê Ï£ºÎ¨∏ ÏòÅÏàòÏ¶ù Ï∂îÍ∞Ä
                                                    var rcp_todayUser = document.querySelector('input[name="todayUserId"]');
                                                    rcp_todayUser.value = '{{ today_user_id|escapejs }}';
                                                    console.log(rcp_todayUser.value);

                                                    var rcp_member = document.querySelector('input[name="memberId"]');
                                                    rcp_member.value = Number('{{ member_id|escapejs }}');
                                                    console.log(rcp_member.value);

                                                    var rcp_price = document.querySelector('input[name="receiptPrice"]');
                                                    rcp_price.value = Number(total_price);
                                                    console.log(rcp_price.value);

                                                    var rcp_today = document.querySelector('input[name="receiptTodayId"]');

                                                    //ÏãúÍ∞Ñ
                                                    let today = new Date();
                                                    var year = today.getFullYear();
                                                    var month = ("0" + (1 + today.getMonth())).slice(-2);
                                                    var day = ("0" + today.getDate()).slice(-2);
                                                    rcp_today.value = Number(year + month + day);
                                                    console.log(rcp_today.value);

                                                    //receipt Ìèº Ï†úÏ∂ú
                                                    console.log("ÏòÅÏàòÏ¶ù Ìèº Ï†úÏ∂ú");
                                                    var submit = await document.getElementById("receipt").submit();
                                                    //2000ÍπåÏßÄ 
                                                    await new Promise((resolve, reject) => setTimeout(resolve, 3500));


                                                    // DBÏóê ÏïÑÏù¥ÌÖú Ï∂îÍ∞Ä
                                                    for (var i = 0; i < after_db_list.length; i++) {

                                                        // Ï†ÑÏ≤¥ Ìïú Î©îÎâ¥ Î¶¨Ïä§Ìä∏ ÎßàÎã§
                                                        // after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 
                                                        //db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, 
                                                        //db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                                                        var item_receiptId = document.querySelector('input[name="receiptId"]');
                                                        item_receiptId.value = after_db_list[i][0];

                                                        var item_prodId = document.querySelector('input[name="prodId"]');
                                                        item_prodId.value = id_list[i]; //id_list[i][0]?

                                                        var item_quantity = document.querySelector('input[name="itemQuantity"]');
                                                        item_quantity.value = after_db_list[i][2];

                                                        var item_size = document.querySelector('input[name="itemSize"]');
                                                        item_size.value = after_db_list[i][3];

                                                        var item_price = document.querySelector('input[name="itemPrice"]');
                                                        item_price.value = after_db_list[i][4];

                                                        var item_hot_cold = document.querySelector('input[name="itemHotCold"]');
                                                        item_hot_cold.value = after_db_list[i][5];

                                                        var item_caf = document.querySelector('input[name="itemCafAmount"]');
                                                        item_caf.value = after_db_list[i][6];

                                                        var item_syrup = document.querySelector('input[name="itemSyrup"]');
                                                        item_syrup.value = after_db_list[i][7];

                                                        var item_shot = document.querySelector('input[name="itemShot"]');
                                                        item_shot.value = after_db_list[i][8];

                                                        var item_milk = document.querySelector('input[name="itemMilk"]');
                                                        item_milk.value = after_db_list[i][9];

                                                        var item_whip = document.querySelector('input[name="itemWhip"]');
                                                        item_whip.value = after_db_list[i][10];

                                                        var item_java_chip = document.querySelector('input[name="itemJavaChip"]');
                                                        item_java_chip.value = after_db_list[i][11];

                                                        var item_driz = document.querySelector('input[name="itemDriz"]');
                                                        item_driz.value = after_db_list[i][12];

                                                        console.log("ÏïÑÏù¥ÌÖú" + i + " Ìèº Ï†úÏ∂ú"); //alert ÎßêÍ≥† consoleÎ°ú Î∞îÍæ∏Í∏∞
                                                        submit_list.push(await document.getElementById("item").submit());
                                                        await new Promise((resolve, reject) => setTimeout(resolve, 500));
                                                    }

                                                    //Ïù¥Îèô
                                                    var menu_param = "";
                                                    var ea_param = "";
                                                    for (var i = 0; i < after_list.length; i++) {
                                                        menu_param += after_list[i][0] + ",";
                                                        ea_param += after_list[i][13] + ",";
                                                    }
                                                    location.href = "/client/end?price=" + total_price + "&menu=" + menu_param.slice(0, -1) + "&ea=" + ea_param.slice(0, -1);
                                                    break;
                                                    break;
                                                }
                                                else {
                                                    console.log("ÎßàÏßÄÎßâÏóê ÎÑ§ÎùºÍ≥† Îßê ÏïàÌï¥ÏÑú Î∞òÎ≥µÌï¥„Ö†„Ö†");
                                                    break;
                                                    continue;
                                                }

                                                break;
                                            }
                                            else { //Îßê ÏïàÌïòÎ©¥
                                                txt.innerHTML = "‚úîÔ∏è Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!";
                                                var audio5 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");

                                            }

                                        }

                                    }
                                    break;
                                }
                            }
                            else //Í≥ÑÏÜç Î©îÎâ¥ Î∞õÍ≥† Ïã∂ÏúºÎ©¥
                            {
                                /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                                var stt_morpheme = await stem_analyzer(stt2);
                                //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                                console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]


                                // ÏóÜÏï†Í≥† Ïã∂ÏùÄ Î¨∏ÏûêÏó¥ ÏßÄÏ†ï
                                for (var i = 0; i < morpheme_list.length; i++) {
                                    if (morpheme_list[i] == 'Î≤à') {
                                        morpheme_list.splice(i, 1);
                                        i++;
                                    }
                                }
                                console.log('Î≤à ÏóÜÏï§ Î¨∏ÏûêÏó¥: ', morpheme_list);
                                morpheme_copy = morpheme_list.slice();
                                //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò

                                /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                                out: for (var x = 0; x < morpheme_list.length; x++) {
                                    inn: for (var y = 0; y < db_menu.length; y++) {
                                        if (morpheme_list[x] == db_menu[y]) {
                                            console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                                            txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                            before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                            category = db[y][1];
                                            category_list.push(db[y][1]);

                                            //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                                            if (y > 36) {
                                                id_list.push(y + 2);
                                            }
                                            else {
                                                id_list.push(y + 1);
                                            }

                                            morpheme_copy.splice(x, 1);
                                            break inn;
                                        }
                                    }
                                    break out;
                                }

                                /* Î©îÎâ¥ ÏûàÎäîÏßÄ ÌôïÏù∏ */
                                //Ïù¥Ï†ÑÏóê Ï£ºÎ¨∏ ÏôÑÎ£åÌïú Í∞ØÏàòÏôÄ Ïù¥Î≤àÏóê ÏÉàÎ°ú Îì§Ïñ¥ÏôîÏùÑ Î©îÎâ¥ Í∞ØÏàòÍ∞Ä ÎèôÏùºÌïòÎ©¥? 
                                //= Ïù∏ÏãùÏù¥ ÏïàÎêú Í≤É. ÏõêÎûú Ï£ºÎ¨∏ ÏôÑÎ£åÌïú Í∞ØÏàò+1(menu_cnt+1)Í≥º Ïù¥Î≤àÏóê ÏÉàÎ°ú Îì§Ïñ¥Ïò® Í±∞ÍπåÏßÄ Ìè¨Ìï®Îêú Î©îÎâ¥ Í∞ØÏàò(before_list.length)Í∞Ä ÎèôÏùºÌï¥ÏïºÌï®
                                if (menu_cnt != (before_list.length) - 1) {
                                    console.log('Î©îÎâ¥ Ïù∏Ïãù Î™ªÌï®', "Ï£ºÎ¨∏ ÏôÑÎ£å ÌõÑ menu Ïπ¥Ïö¥Ìä∏: ", menu_cnt, "Î©îÎâ¥ Ïù∏Ïãù before_list Ïπ¥Ïö¥Ìä∏: ", before_list);
                                    while (menu_cnt != (before_list.length) - 1) {
                                        //Î©îÎâ¥ Ïù∏ÏãùÎêòÏÑú before_listÏóê Î≠ê Îì§Ïñ¥Ïò¨ ÎïåÍπåÏßÄ Í≥ÑÏÜç Î∞òÎ≥µ 
                                        //menu_cntÎäî Ï£ºÎ¨∏ ÏôÑÎ£å ÌöüÏàò Ïπ¥Ïö¥Ìä∏(ÏïÑÏßÅ Ï∂îÍ∞Ä X). before_lengthÎäî Ï∂îÍ∞Ä ÏôÑÎ£å. Îî∞ÎùºÏÑú, Ï†ïÏÉÅÏ†ÅÏù¥Î©¥ menu_cnt+1Í≥º before_lengthÍ∞Ä Í∞ôÏïÑÏïºÌïòÍ≥†,
                                        //Ïù∏Ïãù ÏïàÎêòÎ©¥ ÎëòÏù¥ ÌöüÏàòÍ∞Ä ÎòëÍ∞ôÏùå -> Îã¨ÎùºÏßà ÎïåÍπåÏßÄ Í≥ÑÏÜç Ïã§ÌñâÌïòÍ∏∞
                                        txt.innerHTML = "Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!";
                                        var audio2 = await tts("Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!");
                                        txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">üî¥</span><span class="circle"> Ïù∏Ïãù Ï§ë</span></p>\
                                        <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(Ïòà) Ïπ¥Ìë∏ÏπòÎÖ∏ Î∞îÎãêÎùº ÏãúÎüΩ 2Î≤à, ÎîîÏπ¥ÌéòÏù∏ÏúºÎ°ú ÌïúÏûî Ï£ºÏÑ∏Ïöî.</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                                        var stt2 = await speech_to_text();

                                        if (stt2.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                                        {

                                            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                                            var stt_morpheme = await stem_analyzer(stt2);
                                            //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                                            console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]
                                            morpheme_copy = morpheme_list.slice();
                                            //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò

                                            /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                                            outer: for (var x = 0; x < morpheme_list.length; x++) {
                                                inner: for (var y = 0; y < db_menu.length; y++) {
                                                    if (morpheme_list[x] == db_menu[y]) {
                                                        console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                                                        txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                                        category = db[y][1];
                                                        category_list.push(db[y][1]);

                                                        //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                                                        if (y > 36) {
                                                            id_list.push(y + 2);
                                                        }
                                                        else {
                                                            id_list.push(y + 1);
                                                        }

                                                        morpheme_copy.splice(x, 1);
                                                        break inner;
                                                    }
                                                }
                                                break outer;
                                            }
                                        }
                                    }
                                }


                                /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú ÏòµÏÖò */
                                var user_hot_cold = "";
                                var user_caf_amount = "";
                                var user_syrup = "";
                                var user_shot = "";
                                var user_milk = "";
                                var user_whip = "";
                                var user_java_chip = "";
                                var user_driz = "";
                                var user_sales_rate = "";
                                var user_size = "";

                                //Î©îÎâ¥ Ïù¥Î¶Ñ Ïô∏Ïóê ÏïÑÎ¨¥Í≤ÉÎèÑ Îßê ÏïàÌñàÏùÑ Îïê ÏïÑÎûò forÎ¨∏Ïóê Ïïà Îì§Ïñ¥Í∞ê „Ö†„Ö†„Ö†„Ö†
                                if (morpheme_copy.length == 0) {

                                    //1. hot_cold Ï†ïÌï¥Ï£ºÍ∏∞
                                    if ((user_hot_cold == "") && (category != "BAKERY")) {
                                        if (Number(before_list[before_list.length - 1][2]) == 1) {
                                            user_hot_cold = "H";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                            user_hot_cold = "C";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                            //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                            user_hot_cold = "C";
                                        }
                                    }

                                    //2. size Ï†ïÌï¥Ï£ºÍ∏∞
                                    user_size = "S";
                                }

                                //Î©îÎâ¥ Ïù¥Î¶Ñ, ÏàòÎüâ (Ï†ÅÏñ¥ÎèÑ 2Í∞ú Ïù¥ÏÉÅ ÎßêÌñàÏùÑ Îïå)
                                for (var z = 0; z < morpheme_copy.length; z++) {
                                    /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú Î©îÎâ¥ ÏòµÏÖò!! */
                                    //!!!!!!!!!!!!!!!!! ÎÇòÏ§ëÏóê ÏûÑÎ≤†Îî© Ïó∞Í≤∞ÌïòÎ©¥ case Í∞í Î∞îÍæ∏Í∏∞
                                    console.log('========================================' + z + 'Î≤àÏß∏==================================');
                                    console.log('Îã®Ïñ¥: ' + morpheme_copy[z]);
                                    console.log('Ï¥ùÎ¶¨Ïä§Ìä∏: ' + morpheme_copy);
                                    console.log('Í∏∏Ïù¥: ' + morpheme_copy.length);

                                    //0. ÏÇ¨Ïù¥Ï¶à
                                    if (morpheme_copy[z] == 'Ïàè') {
                                        user_size = "S";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ÌÜ®') {
                                        user_size = "T";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'Í∑∏ÎûÄÎç∞') {
                                        user_size = "G";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ÏïÑÎ¨¥ Í∞íÎèÑ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í
                                    if (user_size == "") {
                                        user_size = "S";
                                    }


                                    //1. Ïò®ÎèÑ
                                    if (morpheme_copy[z] == 'Ìï´') {
                                        user_hot_cold = "H";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ÏïÑÏù¥Ïä§') {
                                        user_hot_cold = "C";
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //Ìï´
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                                        user_hot_cold = "H";
                                    }
                                    else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ÏΩúÎìú
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                                        user_hot_cold = "C";
                                    }

                                    //ÏïÑÎ¨¥ Í∞íÎèÑ ÏïàÎì§Ïñ¥Ïò§Î©¥
                                    if ((user_hot_cold == "") && (category != "BAKERY")) {
                                        console.log("user_hot_cold : ÏïÑÎ¨¥ Í∞í Ïïà Îì§Ïñ¥Ïò¥");
                                        if (Number(before_list[before_list.length - 1][2]) == 1) {
                                            user_hot_cold = "H";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 2) {
                                            user_hot_cold = "C";
                                        }
                                        else if (Number(before_list[before_list.length - 1][2]) == 3) {
                                            //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                                            user_hot_cold = "C";
                                        }
                                    }

                                    //2. Ïπ¥ÌéòÏù∏ Ï°∞Ï†à
                                    if (morpheme_copy[z] == 'Ïπ¥ÌéòÏù∏') {
                                        user_caf_amount = 'CC';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if (morpheme_copy[z] == 'ÎîîÏπ¥ÌéòÏù∏') {
                                        user_caf_amount = 'CD';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }
                                    else if ((morpheme_copy[z].indexOf('ÌïòÌîÑ') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                                        user_caf_amount = 'CH';
                                        morpheme_copy.splice(z, 1);
                                        z--;
                                        continue;
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //Ïπ¥ÌéòÏù∏ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {

                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïπ¥ÌéòÏù∏</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_caf_amount = "";
                                    }


                                    //3. ÏãúÎüΩ Ï°∞Ï†à
                                    if (morpheme_copy[z].indexOf('ÏãúÎüΩ') >= 0) {

                                        //3-1. ÏãúÎüΩ > Î∞îÎãêÎùºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                        if ((morpheme_copy[z + 1] == 'Î∞îÎãêÎùº') || (morpheme_copy[z + 1] == 'Î∞îÎãêÎùºÏãúÎüΩ')) {

                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // Ïà´Ïûê - ÏãúÎüΩ - Î∞îÎãêÎùº 
                                                user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("nÎ≤à ÏãúÎüΩ Î∞îÎãêÎùº");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ÏãúÎüΩ - Î∞îÎãêÎùº - Ïà´Ïûê
                                                user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ÏãúÎüΩ Î∞îÎãêÎùº nÎ≤à");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ÏãúÎüΩ - Î∞îÎãêÎùº (Ïà´Ïûê ÏóÜÏùå)
                                                user_syrup = 'B2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ÏãúÎüΩ Î∞îÎãêÎùº Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }

                                        /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                        //3-2. ÏãúÎüΩ > Ìó§Ïù¥Ï¶êÎÑõÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                        else if ((morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõ') || (morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ')) {
                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // Ïà´Ïûê - ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ 
                                                user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("nÎ≤à ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ - Ïà´Ïûê
                                                user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ nÎ≤à");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ (Ïà´Ïûê ÏóÜÏùå)
                                                user_syrup = 'H2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }

                                        //3-3. ÏãúÎüΩ > Ïπ¥ÎùºÎ©úÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                                        else if ((morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ')) {
                                            if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                                                // Ïà´Ïûê - ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú
                                                user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log("nÎ≤à ÏãúÎüΩ Ïπ¥ÎùºÎ©ú");
                                                continue;
                                            }
                                            else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                                                // ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú - Ïà´Ïûê
                                                user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú nÎ≤à");
                                                continue;
                                            }
                                            else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                                                //ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú (Ïà´Ïûê ÏóÜÏùå)
                                                user_syrup = 'C2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }

                                        //3-4. Î∞îÎãêÎùº > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Î∞îÎãêÎùºÏãúÎüΩ)
                                        else if (morpheme_copy[z] == 'Î∞îÎãêÎùºÏãúÎüΩ') {

                                            //Ïà´Ïûê - Î∞îÎãêÎùº - ÏãúÎüΩ
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("nÎ≤à Î∞îÎãêÎùºÏãúÎüΩ");
                                                continue;
                                            }
                                            //Î∞îÎãêÎùº - ÏãúÎüΩ - Ïà´Ïûê
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("Î∞îÎãêÎùºÏãúÎüΩ nÎ≤à");
                                                continue;
                                            }
                                            //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'B2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("Î∞îÎãêÎùºÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }

                                        /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                        //3-5. Ìó§Ïù¥Ï¶êÎÑõ > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ)
                                        else if (morpheme_copy[z] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ') {

                                            //Ïà´Ïûê - Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("nÎ≤à Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ");
                                                continue;
                                            }
                                            //Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ - Ïà´Ïûê
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ nÎ≤à");
                                                continue;
                                            }
                                            //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'H2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }


                                        //3-6. Ïπ¥ÎùºÎ©ú > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ïπ¥ÎùºÎ©úÏãúÎüΩ)
                                        else if (morpheme_copy[z] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ') {

                                            //Ïà´Ïûê - Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ
                                            if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                                user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log("nÎ≤à Ïπ¥ÎùºÎ©úÏãúÎüΩ");
                                                continue;
                                            }
                                            //Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ - Ïà´Ïûê
                                            else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                                user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ nÎ≤à");
                                                continue;
                                            }
                                            //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                                            else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                                                user_syrup = 'C2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                                                continue;
                                            }
                                        }

                                        //3-7. ÏãúÎüΩ Ï¢ÖÎ•ò ÏïÑÎ¨¥Í≤ÉÎèÑ ÏÑ†ÌÉù ÏïàÌñàÏùÑ Îïå
                                        else {
                                            txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + "Ïù¥ Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                                            await delay(2000);
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ÏãúÎüΩ Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                                            continue;
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ÏãúÎüΩ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_syrup = "";
                                    }


                                    /* ÌòïÌÉúÏÜå (ÏÉ∑ Ïù∏Ïãù Î∂àÏïàÏ†ï / Ï£ºÎ¨∏ Ïñ¥ÎñªÍ≤å ÌïòÎäîÏßÄ Îã§Ïãú ÏïåÏïÑÎ≥¥Í≥† ÌïòÍ∏∞) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                                    //4. ÏÉ∑ Ï°∞Ï†à -> ÏéÑ, Í≤î ÎÇòÏ§ëÏóê ÌòïÌÉúÏÜå Ï†ÅÏö©ÎêòÎ©¥ ÏóÜÏï†Í∏∞
                                    if ((morpheme_copy[z].indexOf('ÏÉ∑') >= 0) || (morpheme_copy[z].indexOf('ÏéÑ') >= 0) || (morpheme_copy[z].indexOf('Í≤î') >= 0) || (morpheme_copy[z].indexOf('Ïâê') >= 0)) {

                                        //Ïà´Ïûê - ÏÉ∑
                                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                                            user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z - 1, 2);
                                            z--;
                                            console.log("nÎ≤à ÏÉ∑");
                                            continue;
                                        }

                                        //ÏÉ∑ - Ïà´Ïûê
                                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                                            user_shot = 'S' + Number(morpheme_copy[z + 1]);
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ÏÉ∑ nÎ≤à");
                                            continue;
                                        }

                                        //Ïà´Ïûê Îßê ÏïàÌïòÎ©¥
                                        else {
                                            user_shot = 'S1';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ÏÉ∑ ÏÑ†ÌÉù ÏïàÌï®");
                                            continue;
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ÏÉ∑ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏÉ∑</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_shot = "";
                                    }


                                    //5. Ïö∞Ïú† Ï°∞Ï†à

                                    if (morpheme_copy[z].indexOf('Ïö∞Ïú†') >= 0) {

                                        // Ïö∞Ïú†Í∞Ä ÏïûÏóê ÏûàÏùÑ Îïå
                                        if ((morpheme_copy[z + 1].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                                            //1. Ïö∞Ïú† - Ï†ÄÏßÄÎ∞©(Ïö∞Ïú†)
                                            user_milk = 'ML';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) { //indexOf Ìè¨Ìï® Î¨∏ÏûêÏó¥ ÏûàÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§, ÏóÜÏúºÎ©¥ -1 Î∞òÌôò
                                            //2. Ïö∞Ïú† - Î¨¥ÏßÄÎ∞©(Ïö∞Ïú†)
                                            user_milk = 'MN';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z + 1].indexOf('ÎëêÏú†') >= 0)) {
                                            //3. Ïö∞Ïú† - ÎëêÏú†
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 2);
                                            z--;
                                            console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        //Ïö∞Ïú†Í∞Ä Îí§Ïóê ÏûàÏùÑ Îïå
                                        else if ((morpheme_copy[z].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                                            //5. Ï†ÄÏßÄÎ∞© - Ïö∞Ïú†
                                            user_milk = 'ML';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) {
                                            //6. Î¨¥ÏßÄÎ∞© - Ïö∞Ïú†
                                            user_milk = 'MN';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('ÎëêÏú†') >= 0)) {
                                            //7. ÎëêÏú† - Ïö∞Ïú†
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        //ÎëêÏú†Îûë Ïò§Ìä∏Îäî Î©îÎâ¥ÎûëÎèÑ Í≤πÏπòÎäî Î∂ÄÎ∂Ñ ÏûàÏñ¥ÏÑú Îí§Î°ú ÎØ∏Î£∏
                                        else if ((morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z + 1].indexOf('Ïò§Ìä∏') >= 0)) {
                                            //4. Ïö∞Ïú† - Í∑ÄÎ¶¨ / Ïò§Ìä∏ (Ïö∞Ïú†)
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 2);
                                            console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä Î®ºÏ†Ä ÎÇòÏò¥");
                                            console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                                            console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                                            z--;
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                                            //8. Í∑ÄÎ¶¨ / Ïò§Ìä∏ - Ïö∞Ïú†
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 1);
                                            console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä ÎÇòÏ§ë ÎÇòÏò¥");
                                            console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                                            console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                                            z--;
                                            continue;
                                        }
                                        else {
                                            txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + "Í∞Ä Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                                            await delay(2000);
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Ïö∞Ïú† Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                                            continue;
                                        }
                                    }
                                    else {
                                        //ÎëêÏú†ÎÇò Í∑ÄÎ¶¨/Ïò§Ìä∏Îäî Îî∞Î°ú Ïö∞Ïú† Îßê ÏïàÌïòÍ≥† Î∞îÍøÄÏàòÎèÑ ÏûàÏúºÎãàÍπå Îî∞Î°ú ÎπºÏ§å
                                        if (morpheme_copy[z].indexOf('ÎëêÏú†') >= 0) {
                                            user_milk = 'MS';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                        else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                                            user_milk = 'MO';
                                            morpheme_copy.splice(z, 1);
                                            z--;
                                            console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ Ïö∞Ïú† ÏÑ†ÌÉù");
                                            continue;
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //Ïö∞Ïú† Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_milk = "";
                                    }


                                    //6. ÌúòÌïë Ï°∞Ï†à
                                    if (morpheme_copy[z].indexOf('ÌúòÌïë') >= 0) {

                                        //ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÏù∏ÏßÄ Í∑∏ÎÉ• ÌúòÌïëÏù∏ÏßÄ

                                        //1. ÏóêÏä§ÌîÑÎ†àÏÜå-ÌúòÌïë
                                        if (morpheme_copy[z].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                                            user_whip = 'EW';

                                            //2-1. Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë
                                            if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                                //Îßé
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                                continue;
                                            }
                                            //2-2. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë
                                            else if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                                continue;
                                            }
                                            //2-3. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë ÏóÜÏùå
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                                                continue;
                                            }
                                        }
                                        //3. ÌúòÌïë - ÏóêÏä§ÌîÑÎ†àÏÜå
                                        else if (morpheme_copy[z + 1].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                                            user_whip = 'EW';

                                            //2-1. Ïñë-ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå
                                            if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                                //Îßé
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 3);
                                                z--;
                                                console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                                                continue;
                                            }
                                            //2-2. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë
                                            else if (morpheme_copy[z + 2].indexOf('Îßé') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 2].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 2].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 2].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 3);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                                                continue;
                                            }
                                            //2-3. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë ÏóÜÏùå
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                                                continue;
                                            }
                                        }

                                        //4. ÏùºÎ∞ò ÌúòÌïë
                                        else {
                                            user_whip = 'W';

                                            //1. ÌúòÌïë-Ïñë
                                            if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ÏùºÎ∞òÌúòÌïë-Îßé');
                                                continue;
                                            }
                                            else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z, 2);
                                                z--;
                                                console.log('ÏùºÎ∞òÌúòÌïë-Ï†Å');
                                                continue;
                                            }
                                            //2. Ïñë-ÌúòÌïë
                                            else if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                                                user_whip += '3';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('Îßé-ÏùºÎ∞òÌúòÌïë');
                                                continue;
                                            }
                                            else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                                                //Ï†Å
                                                user_whip += '1';
                                                morpheme_copy.splice(z - 1, 2);
                                                z--;
                                                console.log('Ï†Å-ÏùºÎ∞òÌúòÌïë');
                                                continue;
                                            }
                                            //3. ÌúòÌïë-Ïñë ÏóÜÏùå
                                            else {
                                                user_whip += '2';
                                                morpheme_copy.splice(z, 1);
                                                z--;
                                                console.log('ÏùºÎ∞òÌúòÌïë-Ïñë ÏóÜÏùå');
                                                continue;
                                            }
                                        }

                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //ÌúòÌïë Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÌúòÌïë</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_whip = "";
                                    }

                                    //7. ÏûêÎ∞îÏπ© Ï°∞Ï†à
                                    if ((morpheme_list[z].indexOf('ÏûêÎ∞îÏπ©') >= 0) && before_list[before_list.length - 1][0].indexOf('ÏûêÎ∞îÏπ©') < 0) {

                                        if (morpheme_list[z - 1].indexOf('ÌÜµ') >= 0) {
                                            user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                            morpheme_copy.splice(z, 1);
                                            morpheme_copy.splice(z - 1, 1);
                                        }
                                        else if (morpheme_list[z].indexOf('ÌÜµ') >= 0) {
                                            user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                            morpheme_copy.splice(z, 1);
                                        }
                                        else if (morpheme_list[z + 1].indexOf('ÌÜµ') >= 0) {
                                            user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                            morpheme_copy.splice(z + 1, 1);
                                            morpheme_copy.splice(z, 1);
                                        }
                                        else {
                                            user_java_chip = 'JC'; //ÏùºÎ∞ò ÏûêÎ∞îÏπ© ÌÜ†Ìïë
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ÏûêÎ∞îÏπ© Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏûêÎ∞îÏπ©</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_java_chip = "";
                                    }


                                    //8. ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à
                                    if (morpheme_list[z].indexOf('ÎìúÎ¶¨Ï¶ê') >= 0) {

                                        //Ïπ¥ÎùºÎ©úÏù∏ÏßÄ Ï¥àÏΩúÎ¶øÏù∏ÏßÄ
                                        if ((morpheme_list[z - 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú')) {
                                            user_driz = 'DCR';
                                        }
                                        else {
                                            user_driz = 'DCC';
                                        }

                                        // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                                        if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                                            user_driz += '3';
                                        }
                                        else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                                            user_driz += '1';
                                        }
                                        else if (morpheme_list[z + 1] == 'Î≥¥ÌÜµ') {
                                            user_driz += '2';
                                        }
                                        else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                                            user_driz += '2';
                                        }
                                    }

                                    //ÏòàÏô∏Ï≤òÎ¶¨
                                    if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                                    {
                                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÎìúÎ¶¨Ï¶ê</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                                        await delay(2000);
                                        txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                        user_driz = "";
                                    }

                                }

                                //user_op_list = (Ïò®ÎèÑ)H/C, (Ïπ¥ÌéòÏù∏)CC/CH/CD, (ÏãúÎüΩ)BÏà´Ïûê/HÏà´Ïûê/CÏà´Ïûê, 
                                //(ÏÉ∑)SÏà´Ïûê, (Ïö∞Ïú†)ML/MN/MS/MO, (ÌúòÌïë)EW1~3/W1~3, (ÏûêÎ∞îÏπ©)JCA/JC, (ÎìúÎ¶¨Ï¶ê)DCR1~3/DCC1~3, (ÏÇ¨Ïù¥Ï¶à) S/T/G

                                user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                                    user_java_chip, user_driz, user_size]);

                                console.log("ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÌïú ÏòµÏÖò : ", user_op_list);


                                //var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

                                console.log('Ï∂îÍ∞ÄÎêú Î©îÎâ¥', before_list[before_list.length - 1][0]);
                                console.log('Î©îÎâ¥ Í∞ÄÍ≤©', before_list[before_list.length - 1][1]);
                                console.log('Ï∂îÍ∞ÄÎêú ÏòµÏÖò', user_op_list);

                                /* Ïã§Ï†ú ÏòµÏÖò */
                                var menu = "";
                                var price = 0;
                                var menu_ea = 1;

                                var hot_cold = "";
                                var caf_amount = "";
                                var syrup = "";
                                var shot = "";
                                var milk = "";
                                var whip = "";
                                var java_chip = "";
                                var driz = "";
                                var sales_rate = "";
                                var size = "";
                                var ul = "<ul>";
                                var op_price = 0;


                                /* DBÏóê ÎÑ£ÏùÑ Ïã§Ï†ú Î¶¨Ïä§Ìä∏ - after db list*/
                                var db_item_receipt = "";
                                var db_item_prod = 0;
                                var db_item_quan = 0;
                                var db_item_size = 0;
                                var db_item_price = 0;
                                var db_item_hot_cold = 0;
                                var db_item_caf = 0;
                                var db_item_syrup = 0;
                                var db_item_shot = 0;
                                var db_item_milk = 0;
                                var db_item_whip = 0;
                                var db_item_java_chip = 0;
                                var db_item_driz = 0;

                                //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

                                /* var after_list = new Array();  */
                                //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]

                                //1,2,3. Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à
                                menu = before_list[before_list.length - 1][0];
                                db_item_prod = menu;
                                price = Number(before_list[before_list.length - 1][1]);
                                db_item_price = price;
                                size = user_op_list[user_op_list.length - 1][8];

                                if (size == 'T') {
                                    op_price += 500;
                                    db_item_size = 1;
                                }
                                else if (size == 'G') {
                                    op_price += 1000;
                                    db_item_size = 2;
                                }


                                //4. ÏàòÎüâ
                                /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Î¶¨Ïä§Ìä∏ Îã§ ÎπºÍ≥† Ïà´ÏûêÎßå ÎÇ®ÏùÄ Í±∏ ÏàòÎüâÏúºÎ°ú Ïù∏Ïãù */
                                for (var k = 0; k < morpheme_copy.length; k++) {
                                    if (isInteger(Number(morpheme_copy[k])) == true) {
                                        menu_ea = Number(morpheme_copy[k]);
                                        db_item_quan = menu_ea;
                                        console.log("ÏàòÎüâ ÏûàÏùå", menu_ea);
                                        break;
                                    }
                                    else {
                                        console.log("ÏàòÎüâ ÏóÜÏùå", menu_ea);
                                        menu_ea = 1;
                                        db_item_quan = 1;
                                    }
                                }



                                //3. hot_cold -> case 3: hot/cold Îëò Îã§ Îã§ Îê† Îïê Ïñ¥ÎñªÍ≤å Ìï† Í±¥ÏßÄ ÎîîÌè¥Ìä∏ Í∞í Ï†ïÌïòÍ∏∞!!
                                hot_cold = user_op_list[user_op_list.length - 1][0];
                                var hot_cold_icon = '';

                                if (hot_cold == 'H') {
                                    hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                                    db_item_hot_cold = 1;
                                }
                                else if (hot_cold == 'C') {
                                    hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                                    db_item_hot_cold = 2;
                                }

                                //4. caf_amount
                                caf_amount = user_op_list[user_op_list.length - 1][1];
                                if (caf_amount != "") {
                                    ul += '<li>';

                                    if (caf_amount == 'CC') {
                                        db_item_caf = 1;
                                        ul += 'Ïπ¥ÌéòÏù∏';
                                    }
                                    else if (caf_amount == 'CD') {
                                        ul += 'ÎîîÏπ¥ÌéòÏù∏';
                                    }
                                    else if (caf_amount == 'CH') {
                                        db_item_caf = 2;
                                        ul += 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏';
                                    }
                                    ul += '</li>';
                                }

                                // 5. ÏãúÎüΩ
                                syrup = user_op_list[user_op_list.length - 1][2];
                                if (syrup != "") {
                                    ul += '<li>';

                                    if (syrup[0] == 'B') {
                                        ul += 'Î∞îÎãêÎùºÏãúÎüΩ';
                                        db_item_syrup = Number(syrup[1]);
                                    }
                                    else if (syrup[0] == 'H') {
                                        ul += 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ';
                                        db_item_syrup = Number(syrup[1] + "0");
                                    }
                                    else if (syrup[0] == 'C') {
                                        ul += 'Ïπ¥ÎùºÎ©úÏãúÎüΩ';
                                        db_item_syrup = Number(syrup[1] + "00");
                                    }

                                    ul += ' +' + Number(syrup[1]) + 'Ìöå</li>';
                                    op_price += 600;
                                }

                                // 6. ÏÉ∑
                                shot = user_op_list[user_op_list.length - 1][3];
                                if (shot != "") {
                                    ul += '<li>ÏÉ∑';

                                    if (shot[0] == 'S') {
                                        db_item_shot = Number(shot[1]);
                                        ul += ' +' + Number(shot[1]) + '</li>';
                                    }
                                    op_price += Number(shot[1]) * 600;
                                }


                                // 7. Ïö∞Ïú†
                                milk = user_op_list[user_op_list.length - 1][4];
                                if (milk != "") {
                                    db_item_milk = 1;

                                    ul += '<li>';

                                    if (milk == 'ML') {
                                        db_item_milk = 2;
                                        ul += 'Ï†ÄÏßÄÎ∞©';
                                    }
                                    else if (milk == 'MN') {
                                        db_item_milk = 3;
                                        ul += 'Î¨¥ÏßÄÎ∞©';
                                    }
                                    else if (milk == 'MS') {
                                        db_item_milk = 4;
                                        ul += 'ÎëêÏú†';
                                    }
                                    else if (milk == 'MO') {
                                        db_item_milk = 5;
                                        ul += 'Í∑ÄÎ¶¨(Ïò§Ìä∏)';
                                    }
                                    ul += '</li>';
                                    op_price += 600;
                                }

                                // 8. ÌúòÌïë
                                whip = user_op_list[user_op_list.length - 1][5];
                                if (whip != "") {
                                    ul += '<li>';

                                    if (whip[0] == 'E') {
                                        ul += 'ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÌÅ¨Î¶º';

                                        if (whip[2] == '3') {
                                            db_item_whip = 13;
                                            ul += '<span>ÎßéÏù¥</span>'
                                        }
                                        else if (whip[2] == '2') {
                                            db_item_whip = 11;
                                            ul += '<span>Î≥¥ÌÜµ</span>'
                                        }
                                        else if (whip[2] == '1') {
                                            db_item_whip = 12;
                                            ul += '<span>Ï†ÅÍ≤å</span>'
                                        }
                                    }
                                    else if (whip[0] == 'W') {
                                        ul += 'ÌúòÌïëÌÅ¨Î¶º';

                                        if (whip[1] == '3') {
                                            db_item_whip = 3;
                                            ul += '<span>ÎßéÏù¥</span>'
                                        }
                                        else if (whip[1] == '2') {
                                            db_item_whip = 1;
                                            ul += '<span>Î≥¥ÌÜµ</span>'
                                        }
                                        else if (whip[1] == '1') {
                                            db_item_whip = 2;
                                            ul += '<span>Ï†ÅÍ≤å</span>'
                                        }
                                    }

                                    ul += ' </li>';
                                    op_price += 600;
                                }

                                // 9. ÏûêÎ∞îÏπ©
                                java_chip = user_op_list[user_op_list.length - 1][6];
                                if (java_chip != "") {
                                    ul += '<li>';

                                    if (java_chip == 'JAC') {
                                        db_item_java_chip = 2;
                                        ul += 'ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                    }
                                    else if (java_chip == 'JC') {
                                        db_item_java_chip = 1;
                                        ul += 'ÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                                    }
                                    ul += '</li>';

                                    op_price += 600;
                                }

                                // 10. ÎìúÎ¶¨Ï¶ê
                                driz = user_op_list[user_op_list.length - 1][7];
                                if (driz != "") {
                                    ul += '<li>';

                                    db_item_driz_txt = "";

                                    if (driz[2] == 'R') {
                                        ul += 'Ïπ¥ÎùºÎ©úÎìúÎ¶¨Ï¶ê';
                                        db_item_driz_txt = "1";
                                    }
                                    else if (driz[2] == 'C') {
                                        ul += 'Ï¥àÏΩîÎìúÎ¶¨Ï¶ê';
                                    }


                                    if (driz[3] == '3') {
                                        ul += '<span>ÎßéÏù¥</span>'
                                        db_item_driz_txt += "3";
                                    }
                                    else if (driz[3] == '2') {
                                        ul += '<span>Î≥¥ÌÜµ</span>'
                                        db_item_driz_txt += "1";
                                    }
                                    else if (driz[3] == '1') {
                                        ul += '<span>Ï†ÅÍ≤å</span>'
                                        db_item_driz_txt += "2";
                                    }

                                    db_item_driz = Number(db_item_driz_txt);
                                    ul += '</li>';
                                    op_price += 600;
                                }


                                //Í∞ÄÍ≤© Í≥ÑÏÇ∞
                                menu_price = (price + op_price) * menu_ea;
                                price_list.push(menu_price);
                                total_price += menu_price;


                                //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]
                                //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


                                // Ïã§Ï†ú DB Ï∂îÍ∞Ä ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [ÏòÅÏàòÏ¶ù Î≤àÌò∏, Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
                                //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

                                //ÏùåÏãùÏù¥Î©¥
                                if (category == "BAKERY") {
                                    after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                                    after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
                                }
                                else {
                                    after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                                    after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
                                }

                                if (category == "BAKERY") //ÏùåÏãùÏù¥Î©¥ ÏÇ¨Ïù¥Ï¶àÎûë Ïò®ÎèÑ ÎÇòÏò§ÏßÄ ÏïäÎèÑÎ°ù
                                {
                                    ul += '</ul>'
                                    forms_txt = '<tr>\
                                        <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3>'+ menu + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                    forms_list.push(forms_txt);
                                }
                                else { //ÏùåÎ£åÎ©¥ ÏÇ¨Ïù¥Ï¶à ÎÇòÏò§ÎèÑÎ°ù

                                    console.log("ÏÇ¨Ïù¥Ï¶à: ", size, "ÏàòÎüâ: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                                    ul += '</ul>'
                                    forms_txt = '<tr>\
                                            <div class="row" id="'+ menu + '">\
                                                <div class="col-md-8">\
                                                    <td>\
                                                        <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                                    </td>\
                                                </div>\
                                                <div class="col-md-2">\
                                                    <td>\
                                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                                    </td>\
                                                </div>\
                                            </div>\
                                            <div class="row">'+ ul + '</div>\
                                        </tr>';
                                    forms_list.push(forms_txt);
                                }

                                real_forms = forms_list[0];

                                for (var i = 1; i < forms_list.length; i++) {
                                    real_forms += forms_list[i];
                                }

                                forms.innerHTML = real_forms;

                                total_price = 0;
                                for (var i = 0; i < price_list.length; i++) {
                                    total_price += price_list[i];
                                }
                                total_real.innerHTML = total_price + ' Ïõê';

                                scroll_tb.scrollTop = scroll_tb.scrollHeight;
                                var audio3 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");


                                txt.innerHTML = '"Í≤∞Ï†ú" / "Ï∂îÍ∞ÄÌï† Î©îÎâ¥"Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî‚ùó';
                                var audio4 = await tts("Í≤∞Ï†ú ÎòêÎäî Ï∂îÍ∞ÄÌï† Î©îÎâ¥Î•º ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî~");

                                menu_cnt += 1 //Ï£ºÎ¨∏ ÌïúÍ∞ú ÏôÑÎ£å
                            }
                        }
                        else //Ìïú Í∏ÄÏûêÎèÑ Ïïà Îì§Ïñ¥Ïò§Î©¥
                        {
                            txt.innerHTML = "‚úîÔ∏è Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!";
                            var audio5 = await tts("Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú ÌïúÎ≤à ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!");
                        }
                    }
                }
            }

            catch (error) {
                console.log(error);
            }

        }

        /* STT */
        var isRecognizing = false;

        try {
            var recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();
        }
        catch (e) {
            console.error(e);
        }

        recognition.lang = 'ko-KR';
        recognition.interimResults = false;
        recognition.maxAlternatives = 50; //ÌÅ¥ÏàòÎ°ù Î∞úÏùåÎåÄÎ°ú ÏïàÏ†ÅÍ≥† Î¨∏Ïû• Ï†ÅÌï©ÎèÑÎ°ú.
        recognition.continuous = false; //ÏùåÏÑ±Ïù∏Ïãù ÏïàÎÅùÎÇòÍ≥† Í≥ÑÏÜçÎê®

        async function speech_to_text() {
            var resText = "";
            var txt = document.getElementById("ai_say");
            recognition.start();
            isRecognizing = true;

            recognition.onstart = function () {
                console.log("------------------------ÏùåÏÑ±Ïù∏Ïãù ÏãúÏûë------------------------");
            }

            recognition.onresult = function (event) {
                resText = event.results[0][0].transcript;
                //txt.innerHTML = resText;

                if (resText == "Í≤∞Ï†ú" | resText == "Í≤∞Ï†ú.") {
                    console.log("Í≤∞Ï†úÎùºÍ≥† ÎßêÌï®");
                    return "Í≤∞Ï†ú";
                }

                console.log('STT Î∞òÌôò:', resText);

            };

            await new Promise(resolve =>
                recognition.onend = e => {
                    {
                        console.log("------------------------ÏùåÏÑ±Ïù∏Ïãù Ï¢ÖÎ£å------------------------");
                        resolve();
                    }
                })

            recognition.stop();

            resText = resText.replace(".", "");
            return resText;
        }


        /* TTS */
        var voices = [];


        function setVoiceList() {
            voices = window.speechSynthesis.getVoices();
        }
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = setVoiceList;
        }


        async function tts(txt) {
            var end = false;

            if (!window.speechSynthesis) {
                alert("ÏùåÏÑ± Ïû¨ÏÉùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Î∏åÎùºÏö∞Ï†ÄÏûÖÎãàÎã§. ÌÅ¨Î°¨, ÌååÏù¥Ïñ¥Ìè≠Ïä§ Îì±Ïùò ÏµúÏã† Î∏åÎùºÏö∞Ï†ÄÎ•º Ïù¥Ïö©ÌïòÏÑ∏Ïöî");
                return;
            }

            var lang = 'ko-KR';
            var utterThis = new SpeechSynthesisUtterance(txt);

            utterThis.text = txt;
            utterThis.lang = lang;
            utterThis.pitch = 1;
            utterThis.rate = 1; //ÏÜçÎèÑ

            //Í∏∞Ï°¥
            utterThis.onerror = function (event) {
                console.log('error', event);
            };

            var voiceFound = false;

            for (var i = 0; i < voices.length; i++) {
                if (voices[i].lang.indexOf(lang) >= 0 || voices[i].lang.indexOf(lang.replace('-', '_')) >= 0) {
                    utterThis.voice = voices[i];
                    voiceFound = true;
                }
            }
            if (!voiceFound) {
                alert('voice not found');
                return;
            }

            await new Promise(function (resolve) {
                utterThis.onend = resolve;
                window.speechSynthesis.speak(utterThis);
            });
        }

        /* DELAY - ÌîÑÎ°úÎØ∏Ïä§ Í∞ùÏ≤¥ Î∞òÌôòÌïòÎäî SetTimeout */
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }





















        //Ïû¨Ï£ºÎ¨∏Ìï† Îïå ÏΩîÎìú Ï§ëÎ≥µ ÎßâÏùÑ Î∞©Î≤ï Ï¢Ä...
        async function reorder(stt_txt) {

            console.log("reorder Ìï®Ïàò Îì§Ïñ¥Í∞ÄÍ≥†ÎÇòÏÑú");
            var stt_morpheme = await stem_analyzer(stt_txt);
            console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list);

            // ÏóÜÏï†Í≥† Ïã∂ÏùÄ Î¨∏ÏûêÏó¥ ÏßÄÏ†ï
            for (var i = 0; i < morpheme_list.length; i++) {
                if (morpheme_list[i] == 'Î≤à') {
                    morpheme_list.splice(i, 1);
                    i++;
                }
            }
            console.log('Î≤à ÏóÜÏï§ Î¨∏ÏûêÏó¥: ', morpheme_list);
            morpheme_copy = morpheme_list.slice();
            //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò

            /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
            out: for (var x = 0; x < morpheme_list.length; x++) {
                inn: for (var y = 0; y < db_menu.length; y++) {
                    if (morpheme_list[x] == db_menu[y]) {
                        console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                        txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                        //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                        before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                        category = db[y][1];
                        category_list.push(db[y][1]);

                        //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                        if (y > 36) {
                            id_list.push(y + 2);
                        }
                        else {
                            id_list.push(y + 1);
                        }

                        morpheme_copy.splice(x, 1);
                        break inn;
                    }
                }
                break out;
            }

            /* Î©îÎâ¥ ÏûàÎäîÏßÄ ÌôïÏù∏ */
            //Ïù¥Ï†ÑÏóê Ï£ºÎ¨∏ ÏôÑÎ£åÌïú Í∞ØÏàòÏôÄ Ïù¥Î≤àÏóê ÏÉàÎ°ú Îì§Ïñ¥ÏôîÏùÑ Î©îÎâ¥ Í∞ØÏàòÍ∞Ä ÎèôÏùºÌïòÎ©¥? 
            //= Ïù∏ÏãùÏù¥ ÏïàÎêú Í≤É. ÏõêÎûú Ï£ºÎ¨∏ ÏôÑÎ£åÌïú Í∞ØÏàò+1(menu_cnt+1)Í≥º Ïù¥Î≤àÏóê ÏÉàÎ°ú Îì§Ïñ¥Ïò® Í±∞ÍπåÏßÄ Ìè¨Ìï®Îêú Î©îÎâ¥ Í∞ØÏàò(before_list.length)Í∞Ä ÎèôÏùºÌï¥ÏïºÌï®
            if (menu_cnt != (before_list.length) - 1) {
                console.log('Î©îÎâ¥ Ïù∏Ïãù Î™ªÌï®', "Ï£ºÎ¨∏ ÏôÑÎ£å ÌõÑ menu Ïπ¥Ïö¥Ìä∏: ", menu_cnt, "Î©îÎâ¥ Ïù∏Ïãù before_list Ïπ¥Ïö¥Ìä∏: ", before_list);
                while (before_list.length == menu_cnt) {
                    //Î©îÎâ¥ Ïù∏ÏãùÎêòÏÑú before_listÏóê Î≠ê Îì§Ïñ¥Ïò¨ ÎïåÍπåÏßÄ Í≥ÑÏÜç Î∞òÎ≥µ 
                    //menu_cntÎäî Ï£ºÎ¨∏ ÏôÑÎ£å ÌöüÏàò Ïπ¥Ïö¥Ìä∏(ÏïÑÏßÅ Ï∂îÍ∞Ä X). before_lengthÎäî Ï∂îÍ∞Ä ÏôÑÎ£å. Îî∞ÎùºÏÑú, Ï†ïÏÉÅÏ†ÅÏù¥Î©¥ menu_cnt+1Í≥º before_lengthÍ∞Ä Í∞ôÏïÑÏïºÌïòÍ≥†,
                    //Ïù∏Ïãù ÏïàÎêòÎ©¥ ÎëòÏù¥ ÌöüÏàòÍ∞Ä ÎòëÍ∞ôÏùå -> Îã¨ÎùºÏßà ÎïåÍπåÏßÄ Í≥ÑÏÜç Ïã§ÌñâÌïòÍ∏∞
                    txt.innerHTML = "Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!";
                    var audio2 = await tts("Î©îÎâ¥Î•º Ïù∏ÏãùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî!");
                    txt.innerHTML = '<p style="margin-top: -0.2em;"><span class="record">üî¥</span><span class="circle"> Ïù∏Ïãù Ï§ë</span></p>\
                <h5 style="color: #545454 !important; margin-top: -0.3em; font-weight: 700;">(Ïòà) Ïπ¥Ìë∏ÏπòÎÖ∏ Î∞îÎãêÎùº ÏãúÎüΩ 2Î≤à, ÎîîÏπ¥ÌéòÏù∏ÏúºÎ°ú ÌïúÏûî Ï£ºÏÑ∏Ïöî.</p>'; //Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑ Í±∞ Í∞ôÏùå

                    var stt2 = await speech_to_text();

                    if (stt2.length > 1) //Ìïú Í∏ÄÏûê Ïù¥ÏÉÅ Îì§Ïñ¥Ïò§Î©¥
                    {

                        /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Ïã§Ìñâ */
                        var stt_morpheme = await stem_analyzer(stt2);
                        //console.log("return: ",stt_morpheme); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò
                        console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú: ", morpheme_list); //-> [ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò]
                        morpheme_copy = morpheme_list.slice();
                        //console.log("Ï†ÑÏó≠ Ìò∏Ï∂ú Î¨∏Ïûê: ", morpheme_str); -> ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏,ÌïòÎÇò

                        /* DBÏóê ÏûàÎäîÏßÄ Î©îÎâ¥ Ï°∞Ìöå */
                        outer: for (var x = 0; x < morpheme_list.length; x++) {
                            inner: for (var y = 0; y < db_menu.length; y++) {
                                if (morpheme_list[x] == db_menu[y]) {
                                    console.log('Î©îÎâ¥ Ïù∏Ïãù ÏôÑÎ£å');
                                    txt.innerHTML = "‚úÖ" + db_menu[y] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                                    //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
                                    before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]);
                                    category = db[y][1];
                                    category_list.push(db[y][1]);

                                    //ÏÉÅÌíà id Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä -> 38Ïù¥ ÏóÜÏñ¥ÏÑú 38 Ïù¥ÏÉÅÏùÄ 2Í∞ú Ï∂îÍ∞Ä
                                    if (y > 36) {
                                        id_list.push(y + 2);
                                    }
                                    else {
                                        id_list.push(y + 1);
                                    }

                                    morpheme_copy.splice(x, 1);
                                    break inner;
                                }
                            }
                            break outer;
                        }
                    }
                }
            }



            /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú ÏòµÏÖò */
            var user_hot_cold = "";
            var user_caf_amount = "";
            var user_syrup = "";
            var user_shot = "";
            var user_milk = "";
            var user_whip = "";
            var user_java_chip = "";
            var user_driz = "";
            var user_sales_rate = "";
            var user_size = "";

            //Î©îÎâ¥ Ïù¥Î¶Ñ Ïô∏Ïóê ÏïÑÎ¨¥Í≤ÉÎèÑ Îßê ÏïàÌñàÏùÑ Îïê ÏïÑÎûò forÎ¨∏Ïóê Ïïà Îì§Ïñ¥Í∞ê „Ö†„Ö†„Ö†„Ö†
            if (morpheme_copy.length == 0) {

                //1. hot_cold Ï†ïÌï¥Ï£ºÍ∏∞
                if ((user_hot_cold == "") && (category != "BAKERY")) {
                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                        user_hot_cold = "H";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                        user_hot_cold = "C";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                        //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                        user_hot_cold = "C";
                    }
                }

                //2. size Ï†ïÌï¥Ï£ºÍ∏∞
                user_size = "S";
            }

            //Î©îÎâ¥ Ïù¥Î¶Ñ, ÏàòÎüâ (Ï†ÅÏñ¥ÎèÑ 2Í∞ú Ïù¥ÏÉÅ ÎßêÌñàÏùÑ Îïå)
            for (var z = 0; z < morpheme_copy.length; z++) {
                /* ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßêÌïú Î©îÎâ¥ ÏòµÏÖò!! */
                //!!!!!!!!!!!!!!!!! ÎÇòÏ§ëÏóê ÏûÑÎ≤†Îî© Ïó∞Í≤∞ÌïòÎ©¥ case Í∞í Î∞îÍæ∏Í∏∞
                console.log('========================================' + z + 'Î≤àÏß∏==================================');
                console.log('Îã®Ïñ¥: ' + morpheme_copy[z]);
                console.log('Ï¥ùÎ¶¨Ïä§Ìä∏: ' + morpheme_copy);
                console.log('Í∏∏Ïù¥: ' + morpheme_copy.length);

                //0. ÏÇ¨Ïù¥Ï¶à
                if (morpheme_copy[z] == 'Ïàè') {
                    user_size = "S";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ÌÜ®') {
                    user_size = "T";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'Í∑∏ÎûÄÎç∞') {
                    user_size = "G";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í
                if (user_size == "") {
                    user_size = "S";
                }

                //1. Ïò®ÎèÑ
                if (morpheme_copy[z] == 'Ìï´') {
                    user_hot_cold = "H";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ÏïÑÏù¥Ïä§') {
                    user_hot_cold = "C";
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((Number(before_list[before_list.length - 1][2]) == 1) && (user_hot_cold == "C")) //Ìï´
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                    user_hot_cold = "H";
                }
                else if ((Number(before_list[before_list.length - 1][2]) == 2) && (user_hot_cold == "H")) //ÏΩúÎìú
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-danger' style='font-size:0.58em; margin-bottom: 1em !important;'>HOT</span>" + " ÏÑ†ÌÉùÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " <span class='badge bg-primary' style='font-size:0.58em; margin-bottom: 1em !important;'>ICE</span> Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";

                    user_hot_cold = "C";
                }

                //ÏïÑÎ¨¥ Í∞íÎèÑ ÏïàÎì§Ïñ¥Ïò§Î©¥
                if ((user_hot_cold == "") && (category != "BAKERY")) {
                    console.log("user_hot_cold : ÏïÑÎ¨¥ Í∞í Ïïà Îì§Ïñ¥Ïò¥");
                    if (Number(before_list[before_list.length - 1][2]) == 1) {
                        user_hot_cold = "H";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 2) {
                        user_hot_cold = "C";
                    }
                    else if (Number(before_list[before_list.length - 1][2]) == 3) {
                        //Îëò Îã§ Í∞ÄÎä•ÌïòÎ©¥ IceÎ°ú!
                        user_hot_cold = "C";
                    }
                }

                //2. Ïπ¥ÌéòÏù∏ Ï°∞Ï†à
                if (morpheme_copy[z] == 'Ïπ¥ÌéòÏù∏') {
                    user_caf_amount = 'CC';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if (morpheme_copy[z] == 'ÎîîÏπ¥ÌéòÏù∏') {
                    user_caf_amount = 'CD';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }
                else if ((morpheme_copy[z].indexOf('ÌïòÌîÑ') >= 0) || (morpheme_copy[z].indexOf('half') >= 0)) {
                    user_caf_amount = 'CH';
                    morpheme_copy.splice(z, 1);
                    z--;
                    continue;
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][3] == 'False') && (user_caf_amount != "")) //Ïπ¥ÌéòÏù∏ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {

                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïπ¥ÌéòÏù∏</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_caf_amount = "";
                }


                //3. ÏãúÎüΩ Ï°∞Ï†à
                if (morpheme_copy[z].indexOf('ÏãúÎüΩ') >= 0) {

                    //3-1. ÏãúÎüΩ > Î∞îÎãêÎùºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                    if ((morpheme_copy[z + 1] == 'Î∞îÎãêÎùº') || (morpheme_copy[z + 1] == 'Î∞îÎãêÎùºÏãúÎüΩ')) {

                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // Ïà´Ïûê - ÏãúÎüΩ - Î∞îÎãêÎùº 
                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("nÎ≤à ÏãúÎüΩ Î∞îÎãêÎùº");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ÏãúÎüΩ - Î∞îÎãêÎùº - Ïà´Ïûê
                            user_syrup = 'B' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ÏãúÎüΩ Î∞îÎãêÎùº nÎ≤à");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ÏãúÎüΩ - Î∞îÎãêÎùº (Ïà´Ïûê ÏóÜÏùå)
                            user_syrup = 'B2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ÏãúÎüΩ Î∞îÎãêÎùº Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }

                    /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (539~566Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                    //3-2. ÏãúÎüΩ > Ìó§Ïù¥Ï¶êÎÑõÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                    else if ((morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõ') || (morpheme_copy[z + 1] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ')) {
                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // Ïà´Ïûê - ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ 
                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("nÎ≤à ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ - Ïà´Ïûê
                            user_syrup = 'H' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ nÎ≤à");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ÏãúÎüΩ - Ìó§Ïù¥Ï¶êÎÑõ (Ïà´Ïûê ÏóÜÏùå)
                            user_syrup = 'H2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ÏãúÎüΩ Ìó§Ïù¥Ï¶êÎÑõ Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }

                    //3-3. ÏãúÎüΩ > Ïπ¥ÎùºÎ©úÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù
                    else if ((morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_copy[z + 1] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ')) {
                        if ((z != 0) && (isInteger(Number(morpheme_copy[z - 1])) == true)) {
                            // Ïà´Ïûê - ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú
                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log("nÎ≤à ÏãúÎüΩ Ïπ¥ÎùºÎ©ú");
                            continue;
                        }
                        else if (isInteger(Number(morpheme_copy[z + 2])) == true) {
                            // ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú - Ïà´Ïûê
                            user_syrup = 'C' + Number(morpheme_copy[z + 2]);
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú nÎ≤à");
                            continue;
                        }
                        else if (((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 2])) == false)) || (z == 0)) {
                            //ÏãúÎüΩ - Ïπ¥ÎùºÎ©ú (Ïà´Ïûê ÏóÜÏùå)
                            user_syrup = 'C2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("ÏãúÎüΩ Ïπ¥ÎùºÎ©ú Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }

                    //3-4. Î∞îÎãêÎùº > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Î∞îÎãêÎùºÏãúÎüΩ)
                    else if (morpheme_copy[z] == 'Î∞îÎãêÎùºÏãúÎüΩ') {

                        //Ïà´Ïûê - Î∞îÎãêÎùº - ÏãúÎüΩ
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'B' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("nÎ≤à Î∞îÎãêÎùºÏãúÎüΩ");
                            continue;
                        }
                        //Î∞îÎãêÎùº - ÏãúÎüΩ - Ïà´Ïûê
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'B' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("Î∞îÎãêÎùºÏãúÎüΩ nÎ≤à");
                            continue;
                        }
                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'B2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("Î∞îÎãêÎùºÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }

                    /* ÌòïÌÉúÏÜå (Ìó§Ïù¥Ï¶êÎÑõ ÎÑàÎ¨¥ Î∂àÏïàÏ†ïÌï®) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (625~653Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                    //3-5. Ìó§Ïù¥Ï¶êÎÑõ > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ)
                    else if (morpheme_copy[z] == 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ') {

                        //Ïà´Ïûê - Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'H' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("nÎ≤à Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ");
                            continue;
                        }
                        //Ìó§Ïù¥Ï¶êÎÑõ - ÏãúÎüΩ - Ïà´Ïûê
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'H' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ nÎ≤à");
                            continue;
                        }
                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'H2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }


                    //3-6. Ïπ¥ÎùºÎ©ú > ÏãúÎüΩÏúºÎ°ú ÌòïÌÉúÏÜå Î∂ÑÏÑù (Ïπ¥ÎùºÎ©úÏãúÎüΩ)
                    else if (morpheme_copy[z] == 'Ïπ¥ÎùºÎ©úÏãúÎüΩ') {

                        //Ïà´Ïûê - Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ
                        if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                            user_syrup = 'C' + Number(morpheme_copy[z - 1]);
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log("nÎ≤à Ïπ¥ÎùºÎ©úÏãúÎüΩ");
                            continue;
                        }
                        //Ïπ¥ÎùºÎ©ú - ÏãúÎüΩ - Ïà´Ïûê
                        else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                            user_syrup = 'C' + Number(morpheme_copy[z + 1]);
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ nÎ≤à");
                            continue;
                        }
                        //ÏïÑÎ¨¥Í≤ÉÎèÑ ÏóÜÏùÑ Îïå
                        else if (((z == 0) && (isInteger(Number(morpheme_copy[z + 1])) == false)) || ((isInteger(Number(morpheme_copy[z - 1])) == false) && (isInteger(Number(morpheme_copy[z + 1])) == false))) {
                            user_syrup = 'C2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log("Ïπ¥ÎùºÎ©úÏãúÎüΩ Ïà´Ïûê ÏóÜÏùå");
                            continue;
                        }
                    }

                    //3-7. ÏãúÎüΩ Ï¢ÖÎ•ò ÏïÑÎ¨¥Í≤ÉÎèÑ ÏÑ†ÌÉù ÏïàÌñàÏùÑ Îïå
                    else {
                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + "Ïù¥ Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                        await delay(2000);
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ÏãúÎüΩ Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                        continue;
                    }
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if (Number(before_list[before_list.length - 1][4] == 0) && (user_syrup != "")) //ÏãúÎüΩ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏãúÎüΩ</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_syrup = "";
                }


                /* ÌòïÌÉúÏÜå (ÏÉ∑ Ïù∏Ïãù Î∂àÏïàÏ†ï / Ï£ºÎ¨∏ Ïñ¥ÎñªÍ≤å ÌïòÎäîÏßÄ Îã§Ïãú ÏïåÏïÑÎ≥¥Í≥† ÌïòÍ∏∞) ÏÜêÎ≥¥Í≥† Îã§Ïãú!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! (707~737Î≤àÏß∏ Ï§Ñ Îã§Ïãú) */
                //4. ÏÉ∑ Ï°∞Ï†à -> ÏéÑ, Í≤î ÎÇòÏ§ëÏóê ÌòïÌÉúÏÜå Ï†ÅÏö©ÎêòÎ©¥ ÏóÜÏï†Í∏∞
                if ((morpheme_copy[z].indexOf('ÏÉ∑') >= 0) || (morpheme_copy[z].indexOf('ÏéÑ') >= 0) || (morpheme_copy[z].indexOf('Í≤î') >= 0) || (morpheme_copy[z].indexOf('Ïâê') >= 0)) {

                    //Ïà´Ïûê - ÏÉ∑
                    if (isInteger(Number(morpheme_copy[z - 1])) == true) {
                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                        morpheme_copy.splice(z - 1, 2);
                        z--;
                        console.log("nÎ≤à ÏÉ∑");
                        continue;
                    }

                    //ÏÉ∑ - Ïà´Ïûê
                    else if (isInteger(Number(morpheme_copy[z + 1])) == true) {
                        user_shot = 'S' + Number(morpheme_copy[z + 1]);
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ÏÉ∑ nÎ≤à");
                        continue;
                    }

                    //Ïà´Ïûê Îßê ÏïàÌïòÎ©¥
                    else {
                        user_shot = 'S1';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ÏÉ∑ ÏÑ†ÌÉù ÏïàÌï®");
                        continue;
                    }
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][5] == 'False') && (user_shot != "")) //ÏÉ∑ Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏÉ∑</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_shot = "";
                }


                //5. Ïö∞Ïú† Ï°∞Ï†à

                if (morpheme_copy[z].indexOf('Ïö∞Ïú†') >= 0) {

                    // Ïö∞Ïú†Í∞Ä ÏïûÏóê ÏûàÏùÑ Îïå
                    if ((morpheme_copy[z + 1].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                        //1. Ïö∞Ïú† - Ï†ÄÏßÄÎ∞©(Ïö∞Ïú†)
                        user_milk = 'ML';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    else if ((morpheme_copy[z + 1].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) { //indexOf Ìè¨Ìï® Î¨∏ÏûêÏó¥ ÏûàÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§, ÏóÜÏúºÎ©¥ -1 Î∞òÌôò
                        //2. Ïö∞Ïú† - Î¨¥ÏßÄÎ∞©(Ïö∞Ïú†)
                        user_milk = 'MN';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    else if ((morpheme_copy[z + 1].indexOf('ÎëêÏú†') >= 0)) {
                        //3. Ïö∞Ïú† - ÎëêÏú†
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 2);
                        z--;
                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    //Ïö∞Ïú†Í∞Ä Îí§Ïóê ÏûàÏùÑ Îïå
                    else if ((morpheme_copy[z].indexOf('Ï†ÄÏßÄÎ∞©') >= 0)) {
                        //5. Ï†ÄÏßÄÎ∞© - Ïö∞Ïú†
                        user_milk = 'ML';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("Ï†ÄÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('Î¨¥ÏßÄÎ∞©') >= 0)) {
                        //6. Î¨¥ÏßÄÎ∞© - Ïö∞Ïú†
                        user_milk = 'MN';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("Î¨¥ÏßÄÎ∞© Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('ÎëêÏú†') >= 0)) {
                        //7. ÎëêÏú† - Ïö∞Ïú†
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    //ÎëêÏú†Îûë Ïò§Ìä∏Îäî Î©îÎâ¥ÎûëÎèÑ Í≤πÏπòÎäî Î∂ÄÎ∂Ñ ÏûàÏñ¥ÏÑú Îí§Î°ú ÎØ∏Î£∏
                    else if ((morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z + 1].indexOf('Ïò§Ìä∏') >= 0)) {
                        //4. Ïö∞Ïú† - Í∑ÄÎ¶¨ / Ïò§Ìä∏ (Ïö∞Ïú†)
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 2);
                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä Î®ºÏ†Ä ÎÇòÏò¥");
                        console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                        console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                        z--;
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                        //8. Í∑ÄÎ¶¨ / Ïò§Ìä∏ - Ïö∞Ïú†
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 1);
                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ ÏÑ†ÌÉù - Ïö∞Ïú†Í∞Ä ÎÇòÏ§ë ÎÇòÏò¥");
                        console.log(morpheme_copy[z + 1].indexOf('Í∑ÄÎ¶¨'));
                        console.log(morpheme_copy[z + 1].indexOf('Ïò§Ìä∏'));
                        z--;
                        continue;
                    }
                    else {
                        txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + "Í∞Ä Ï†ÅÏö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§ü•≤ (Ï¢ÖÎ•ò ÎØ∏ÏÑ†ÌÉù)";
                        await delay(2000);
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("Ïö∞Ïú† Ï¢ÖÎ•ò ÏÑ†ÌÉù ÏïàÌï®");
                        continue;
                    }
                }
                else {
                    //ÎëêÏú†ÎÇò Í∑ÄÎ¶¨/Ïò§Ìä∏Îäî Îî∞Î°ú Ïö∞Ïú† Îßê ÏïàÌïòÍ≥† Î∞îÍøÄÏàòÎèÑ ÏûàÏúºÎãàÍπå Îî∞Î°ú ÎπºÏ§å
                    if (morpheme_copy[z].indexOf('ÎëêÏú†') >= 0) {
                        user_milk = 'MS';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("ÎëêÏú† Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                    else if ((morpheme_copy[z].indexOf('Í∑ÄÎ¶¨') >= 0) || (morpheme_copy[z].indexOf('Ïò§Ìä∏') >= 0)) {
                        user_milk = 'MO';
                        morpheme_copy.splice(z, 1);
                        z--;
                        console.log("Í∑ÄÎ¶¨/Ïò§Ìä∏ Ïö∞Ïú† ÏÑ†ÌÉù");
                        continue;
                    }
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][6] == 'False') && (user_milk != "")) //Ïö∞Ïú† Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>Ïö∞Ïú†</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_milk = "";
                }


                //6. ÌúòÌïë Ï°∞Ï†à
                if (morpheme_copy[z].indexOf('ÌúòÌïë') >= 0) {

                    //ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÏù∏ÏßÄ Í∑∏ÎÉ• ÌúòÌïëÏù∏ÏßÄ

                    //1. ÏóêÏä§ÌîÑÎ†àÏÜå-ÌúòÌïë
                    if (morpheme_copy[z].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                        user_whip = 'EW';

                        //2-1. Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë
                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                            //Îßé
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                            continue;
                        }
                        //2-2. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë
                        else if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                            continue;
                        }
                        else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                            continue;
                        }
                        //2-3. ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë ÏóÜÏùå
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                            continue;
                        }
                    }
                    //3. ÌúòÌïë - ÏóêÏä§ÌîÑÎ†àÏÜå
                    else if (morpheme_copy[z + 1].indexOf('ÏóêÏä§ÌîÑÎ†àÏÜå') >= 0) {
                        user_whip = 'EW';

                        //2-1. Ïñë-ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå
                        if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                            //Îßé
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 3);
                            z--;
                            console.log('Ïñë-ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë');
                            continue;
                        }
                        //2-2. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë
                        else if (morpheme_copy[z + 2].indexOf('Îßé') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                            continue;
                        }
                        else if ((morpheme_copy[z + 2].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 2].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 2].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z, 3);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë-Ïñë');
                            continue;
                        }
                        //2-3. ÌúòÌïë-ÏóêÏä§ÌîÑÎ†àÏÜå-Ïñë ÏóÜÏùå
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ÏóêÏä§ÌîÑÎ†àÏÜåÌúòÌïë Ïñë ÏóÜÏùå');
                            continue;
                        }
                    }

                    //4. ÏùºÎ∞ò ÌúòÌïë
                    else {
                        user_whip = 'W';

                        //1. ÌúòÌïë-Ïñë
                        if (morpheme_copy[z + 1].indexOf('Îßé') >= 0) {
                            user_whip += '3';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ÏùºÎ∞òÌúòÌïë-Îßé');
                            continue;
                        }
                        else if ((morpheme_copy[z + 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z + 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z + 1].indexOf('ÏïΩÍ∞Ñ') >= 0)) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z, 2);
                            z--;
                            console.log('ÏùºÎ∞òÌúòÌïë-Ï†Å');
                            continue;
                        }
                        //2. Ïñë-ÌúòÌïë
                        else if ((z != 0) && (morpheme_copy[z - 1].indexOf('Îßé') >= 0)) {
                            user_whip += '3';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('Îßé-ÏùºÎ∞òÌúòÌïë');
                            continue;
                        }
                        else if ((z != 0) && ((morpheme_copy[z - 1].indexOf('Ï†Å') >= 0) || (morpheme_copy[z - 1].indexOf('Ï°∞Í∏à') >= 0) || (morpheme_copy[z - 1].indexOf('ÏïΩÍ∞Ñ') >= 0))) {
                            //Ï†Å
                            user_whip += '1';
                            morpheme_copy.splice(z - 1, 2);
                            z--;
                            console.log('Ï†Å-ÏùºÎ∞òÌúòÌïë');
                            continue;
                        }
                        //3. ÌúòÌïë-Ïñë ÏóÜÏùå
                        else {
                            user_whip += '2';
                            morpheme_copy.splice(z, 1);
                            z--;
                            console.log('ÏùºÎ∞òÌúòÌïë-Ïñë ÏóÜÏùå');
                            continue;
                        }
                    }

                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][7] == 'False') && (user_whip != "")) //ÌúòÌïë Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÌúòÌïë</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_whip = "";
                }

                //7. ÏûêÎ∞îÏπ© Ï°∞Ï†à
                if ((morpheme_list[z].indexOf('ÏûêÎ∞îÏπ©') >= 0) && before_list[before_list.length - 1][0].indexOf('ÏûêÎ∞îÏπ©') < 0) {

                    if (morpheme_list[z - 1].indexOf('ÌÜµ') >= 0) {
                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                        morpheme_copy.splice(z, 1);
                        morpheme_copy.splice(z - 1, 1);
                    }
                    else if (morpheme_list[z].indexOf('ÌÜµ') >= 0) {
                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                        morpheme_copy.splice(z, 1);
                    }
                    else if (morpheme_list[z + 1].indexOf('ÌÜµ') >= 0) {
                        user_java_chip = 'JCA'; //ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë
                        morpheme_copy.splice(z + 1, 1);
                        morpheme_copy.splice(z, 1);
                    }
                    else {
                        user_java_chip = 'JC'; //ÏùºÎ∞ò ÏûêÎ∞îÏπ© ÌÜ†Ìïë
                    }
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][8] == 'False') && (user_java_chip != "")) //ÏûêÎ∞îÏπ© Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÏûêÎ∞îÏπ©</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_java_chip = "";
                }


                //8. ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à
                if (morpheme_list[z].indexOf('ÎìúÎ¶¨Ï¶ê') >= 0) {

                    //Ïπ¥ÎùºÎ©úÏù∏ÏßÄ Ï¥àÏΩúÎ¶øÏù∏ÏßÄ
                    if ((morpheme_list[z - 1] == 'Ïπ¥ÎùºÎ©ú') || (morpheme_list[z] == 'Ïπ¥ÎùºÎ©ú')) {
                        user_driz = 'DCR';
                    }
                    else {
                        user_driz = 'DCC';
                    }

                    // ÏñëÏùÄ ÏñºÎßàÎÇò Ìï†Í±¥ÏßÄ
                    if (morpheme_list[z + 1].indexOf('Îßé') >= 0) {
                        user_driz += '3';
                    }
                    else if ((morpheme_list[z + 1] == 'Ï†ÅÍ≤å') || (morpheme_list[z + 1] == 'Ï°∞Í∏à') || (morpheme_list[z + 1] == 'ÏïΩÍ∞Ñ')) {
                        user_driz += '1';
                    }
                    else if (morpheme_list[z + 1] == 'Î≥¥ÌÜµ') {
                        user_driz += '2';
                    }
                    else { //Îßê ÏïàÌïòÎ©¥ Î≥¥ÌÜµ
                        user_driz += '2';
                    }
                }

                //ÏòàÏô∏Ï≤òÎ¶¨
                if ((before_list[before_list.length - 1][9] == 'False') && (user_driz != "")) //ÎìúÎ¶¨Ï¶ê Ï°∞Ï†à Î∂àÍ∞ÄÎä•
                {
                    txt.innerHTML = "üö´ ÏòµÏÖò " + "<span class='badge bg-warning text-dark' style='font-size:0.58em; margin-bottom: 1em !important;'>ÎìúÎ¶¨Ï¶ê</span>" + " Ï°∞Ï†àÏù¥ Î∂àÍ∞ÄÎä•Ìïú Î©îÎâ¥ÏûÖÎãàÎã§ü•≤";
                    await delay(2000);
                    txt.innerHTML = "‚úÖ " + before_list[before_list.length - 1][0] + " Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!";
                    user_driz = "";
                }

            }

            //user_op_list = (Ïò®ÎèÑ)H/C, (Ïπ¥ÌéòÏù∏)CC/CH/CD, (ÏãúÎüΩ)BÏà´Ïûê/HÏà´Ïûê/CÏà´Ïûê, 
            //(ÏÉ∑)SÏà´Ïûê, (Ïö∞Ïú†)ML/MN/MS/MO, (ÌúòÌïë)EW1~3/W1~3, (ÏûêÎ∞îÏπ©)JCA/JC, (ÎìúÎ¶¨Ï¶ê)DCR1~3/DCC1~3, (ÏÇ¨Ïù¥Ï¶à) S/T/G

            user_op_list.push([user_hot_cold, user_caf_amount, user_syrup, user_shot, user_milk, user_whip,
                user_java_chip, user_driz, user_size]);

            console.log("ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÌïú ÏòµÏÖò : ", user_op_list);


            //var audio4 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");

            console.log('Ï∂îÍ∞ÄÎêú Î©îÎâ¥', before_list[before_list.length - 1][0]);
            console.log('Î©îÎâ¥ Í∞ÄÍ≤©', before_list[before_list.length - 1][1]);
            console.log('Ï∂îÍ∞ÄÎêú ÏòµÏÖò', user_op_list);

            /* Ïã§Ï†ú ÏòµÏÖò */
            var menu = "";
            var price = 0;
            var menu_ea = 1;

            var hot_cold = "";
            var caf_amount = "";
            var syrup = "";
            var shot = "";
            var milk = "";
            var whip = "";
            var java_chip = "";
            var driz = "";
            var sales_rate = "";
            var size = "";
            var ul = "<ul>";
            var op_price = 0;


            /* DBÏóê ÎÑ£ÏùÑ Ïã§Ï†ú Î¶¨Ïä§Ìä∏ - after db list*/
            var db_item_receipt = "";
            var db_item_prod = 0;
            var db_item_quan = 0;
            var db_item_size = 0;
            var db_item_price = 0;
            var db_item_hot_cold = 0;
            var db_item_caf = 0;
            var db_item_syrup = 0;
            var db_item_shot = 0;
            var db_item_milk = 0;
            var db_item_whip = 0;
            var db_item_java_chip = 0;
            var db_item_driz = 0;

            //6 hot_cold, 7 caf_amount, 8 syrup, 9 shot, 10 milk, 11 whip, 12 java_chip, 13 driz,
            /* before_list.push([db_menu[y], db_price[y], db[y][6], db[y][7], db[y][8], db[y][9], db[y][10], db[y][11], db[y][12], db[y][13]]) */

            /* var after_list = new Array();  */
            //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]

            //1,2,3. Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à
            menu = before_list[before_list.length - 1][0];
            db_item_prod = menu;
            price = Number(before_list[before_list.length - 1][1]);
            db_item_price = price;
            size = user_op_list[user_op_list.length - 1][8];

            if (size == 'T') {
                op_price += 500;
                db_item_size = 1;
            }
            else if (size == 'G') {
                op_price += 1000;
                db_item_size = 2;
            }


            //4. ÏàòÎüâ
            /* ÌòïÌÉúÏÜå Î∂ÑÏÑùÍ∏∞ Î¶¨Ïä§Ìä∏ Îã§ ÎπºÍ≥† Ïà´ÏûêÎßå ÎÇ®ÏùÄ Í±∏ ÏàòÎüâÏúºÎ°ú Ïù∏Ïãù */
            for (var k = 0; k < morpheme_copy.length; k++) {
                if (isInteger(Number(morpheme_copy[k])) == true) {
                    menu_ea = Number(morpheme_copy[k]);
                    db_item_quan = menu_ea;
                    console.log("ÏàòÎüâ ÏûàÏùå", menu_ea);
                    break;
                }
                else {
                    menu_ea = 1;
                    db_item_quan = 1;
                }
            }



            //3. hot_cold -> case 3: hot/cold Îëò Îã§ Îã§ Îê† Îïê Ïñ¥ÎñªÍ≤å Ìï† Í±¥ÏßÄ ÎîîÌè¥Ìä∏ Í∞í Ï†ïÌïòÍ∏∞!!
            hot_cold = user_op_list[user_op_list.length - 1][0];
            var hot_cold_icon = '';

            if (hot_cold == 'H') {
                hot_cold_icon = '<i class="fa-solid fa-mug-hot"></i>';
                db_item_hot_cold = 1;
            }
            else if (hot_cold == 'C') {
                hot_cold_icon = '<i class="fa-solid fa-snowflake"></i>';
                db_item_hot_cold = 2;
            }

            //4. caf_amount
            caf_amount = user_op_list[user_op_list.length - 1][1];
            if (caf_amount != "") {
                ul += '<li>';

                if (caf_amount == 'CC') {
                    db_item_caf = 1;
                    ul += 'Ïπ¥ÌéòÏù∏';
                }
                else if (caf_amount == 'CD') {
                    ul += 'ÎîîÏπ¥ÌéòÏù∏';
                }
                else if (caf_amount == 'CH') {
                    db_item_caf = 2;
                    ul += 'ÌïòÌîÑÎîîÏπ¥ÌéòÏù∏';
                }
                ul += '</li>';
            }

            // 5. ÏãúÎüΩ
            syrup = user_op_list[user_op_list.length - 1][2];
            if (syrup != "") {
                ul += '<li>';

                if (syrup[0] == 'B') {
                    ul += 'Î∞îÎãêÎùºÏãúÎüΩ';
                    db_item_syrup = Number(syrup[1]);
                }
                else if (syrup[0] == 'H') {
                    ul += 'Ìó§Ïù¥Ï¶êÎÑõÏãúÎüΩ';
                    db_item_syrup = Number(syrup[1] + "0");
                }
                else if (syrup[0] == 'C') {
                    ul += 'Ïπ¥ÎùºÎ©úÏãúÎüΩ';
                    db_item_syrup = Number(syrup[1] + "00");
                }

                ul += ' +' + Number(syrup[1]) + 'Ìöå</li>';
                op_price += 600;
            }

            // 6. ÏÉ∑
            shot = user_op_list[user_op_list.length - 1][3];
            if (shot != "") {
                ul += '<li>ÏÉ∑';

                if (shot[0] == 'S') {
                    db_item_shot = Number(shot[1]);
                    ul += ' +' + Number(shot[1]) + '</li>';
                }
                op_price += Number(shot[1]) * 600;
            }


            // 7. Ïö∞Ïú†
            milk = user_op_list[user_op_list.length - 1][4];
            if (milk != "") {
                db_item_milk = 1;

                ul += '<li>';

                if (milk == 'ML') {
                    db_item_milk = 2;
                    ul += 'Ï†ÄÏßÄÎ∞©';
                }
                else if (milk == 'MN') {
                    db_item_milk = 3;
                    ul += 'Î¨¥ÏßÄÎ∞©';
                }
                else if (milk == 'MS') {
                    db_item_milk = 4;
                    ul += 'ÎëêÏú†';
                }
                else if (milk == 'MO') {
                    db_item_milk = 5;
                    ul += 'Í∑ÄÎ¶¨(Ïò§Ìä∏)';
                }
                ul += '</li>';
                op_price += 600;
            }

            // 8. ÌúòÌïë
            whip = user_op_list[user_op_list.length - 1][5];
            if (whip != "") {
                ul += '<li>';

                if (whip[0] == 'E') {
                    ul += 'ÏóêÏä§ÌîÑÎ†àÏÜå ÌúòÌïëÌÅ¨Î¶º';

                    if (whip[2] == '3') {
                        db_item_whip = 13;
                        ul += '<span>ÎßéÏù¥</span>'
                    }
                    else if (whip[2] == '2') {
                        db_item_whip = 11;
                        ul += '<span>Î≥¥ÌÜµ</span>'
                    }
                    else if (whip[2] == '1') {
                        db_item_whip = 12;
                        ul += '<span>Ï†ÅÍ≤å</span>'
                    }
                }
                else if (whip[0] == 'W') {
                    ul += 'ÌúòÌïëÌÅ¨Î¶º';

                    if (whip[1] == '3') {
                        db_item_whip = 3;
                        ul += '<span>ÎßéÏù¥</span>'
                    }
                    else if (whip[1] == '2') {
                        db_item_whip = 1;
                        ul += '<span>Î≥¥ÌÜµ</span>'
                    }
                    else if (whip[1] == '1') {
                        db_item_whip = 2;
                        ul += '<span>Ï†ÅÍ≤å</span>'
                    }
                }

                ul += ' </li>';
                op_price += 600;
            }

            // 9. ÏûêÎ∞îÏπ©
            java_chip = user_op_list[user_op_list.length - 1][6];
            if (java_chip != "") {
                ul += '<li>';

                if (java_chip == 'JAC') {
                    db_item_java_chip = 2;
                    ul += 'ÌÜµÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                }
                else if (java_chip == 'JC') {
                    db_item_java_chip = 1;
                    ul += 'ÏûêÎ∞îÏπ© ÌÜ†Ìïë';
                }
                ul += '</li>';

                op_price += 600;
            }

            // 10. ÎìúÎ¶¨Ï¶ê
            driz = user_op_list[user_op_list.length - 1][7];
            if (driz != "") {
                ul += '<li>';

                db_item_driz_txt = "";

                if (driz[2] == 'R') {
                    ul += 'Ïπ¥ÎùºÎ©úÎìúÎ¶¨Ï¶ê';
                    db_item_driz_txt = "1";
                }
                else if (driz[2] == 'C') {
                    ul += 'Ï¥àÏΩîÎìúÎ¶¨Ï¶ê';
                }


                if (driz[3] == '3') {
                    ul += '<span>ÎßéÏù¥</span>'
                    db_item_driz_txt += "3";
                }
                else if (driz[3] == '2') {
                    ul += '<span>Î≥¥ÌÜµ</span>'
                    db_item_driz_txt += "1";
                }
                else if (driz[3] == '1') {
                    ul += '<span>Ï†ÅÍ≤å</span>'
                    db_item_driz_txt += "2";
                }

                db_item_driz = Number(db_item_driz_txt);
                ul += '</li>';
                op_price += 600;
            }


            //Í∞ÄÍ≤© Í≥ÑÏÇ∞
            menu_price = (price + op_price) * menu_ea;
            price_list.push(menu_price);
            total_price += menu_price;


            //Ïã§Ï†ú Ï£ºÎ¨∏ ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê, ÏÇ¨Ïù¥Ï¶à, ÏòµÏÖòÍ∞ÄÍ≤©, Ï¥ùÍ∞ÄÍ≤©]
            //after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);


            // Ïã§Ï†ú DB Ï∂îÍ∞Ä ÏôÑÏÑ± Î¶¨Ïä§Ìä∏ [ÏòÅÏàòÏ¶ù Î≤àÌò∏, Î©îÎâ¥Ïù¥Î¶Ñ, Í∞ÄÍ≤©, ÏÇ¨Ïù¥Ï¶à, ÏàòÎüâ, Ïò®ÎèÑ, Ïπ¥ÌéòÏù∏, ÏãúÎüΩ, ÏÉ∑, Ïö∞Ïú†, ÌúòÌïë, ÏûêÎ∞îÏπ©, ÎìúÎ¶¨Ï¶ê]
            //after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);

            //ÏùåÏãùÏù¥Î©¥
            if (category == "BAKERY") {
                after_list.push([menu, price, menu_ea, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, menu_price]);
                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, 0, db_item_price, 0, 0, 0, 0, 0, 0, 0, 0]);
            }
            else {
                after_list.push([menu, price, menu_ea, hot_cold, caf_amount, syrup, shot, milk, whip, java_chip, driz, size, op_price, menu_price]);
                after_db_list.push([db_item_receipt, db_item_prod, db_item_quan, db_item_size, db_item_price, db_item_hot_cold, db_item_caf, db_item_syrup, db_item_shot, db_item_milk, db_item_whip, db_item_java_chip, db_item_driz]);
            }

            if (category == "BAKERY") //ÏùåÏãùÏù¥Î©¥ ÏÇ¨Ïù¥Ï¶àÎûë Ïò®ÎèÑ ÎÇòÏò§ÏßÄ ÏïäÎèÑÎ°ù
            {
                ul += '</ul>'
                forms_txt = '<tr>\
                    <div class="row" id="'+ menu + '">\
                                    <div class="col-md-8">\
                                        <td>\
                                            <h3>'+ menu + '</h3>\
                                        </td>\
                                    </div>\
                                    <div class="col-md-2">\
                                        <td>\
                                            <h4 class="text-center">'+ menu_ea + '</h4>\
                                        </td>\
                                    </div>\
                                    <div class="col-md-2">\
                                        <td>\
                                            <h4 class="text-center">'+ menu_price + '</h4>\
                                        </td>\
                                    </div>\
                                </div>\
                                <div class="row">'+ ul + '</div>\
                             </tr>';
                forms_list.push(forms_txt);
            }
            else { //ÏùåÎ£åÎ©¥ ÏÇ¨Ïù¥Ï¶à ÎÇòÏò§ÎèÑÎ°ù

                console.log("ÏÇ¨Ïù¥Ï¶à: ", size, "ÏàòÎüâ: ", menu_ea, "hot: ", hot_cold, "icon: ", hot_cold_icon);

                ul += '</ul>'
                forms_txt = '<tr>\
                                <div class="row" id="'+ menu + '">\
                                    <div class="col-md-8">\
                                        <td>\
                                            <h3><span style="color:#2c703e !important; font-weight: 700 !important;">'+ size + ')  </span>' + menu + '  ' + hot_cold_icon + '</h3>\
                                        </td>\
                                </div>\
                                <div class="col-md-2">\
                                    <td>\
                                        <h4 class="text-center">'+ menu_ea + '</h4>\
                                    </td>\
                                </div>\
                                <div class="col-md-2">\
                                    <td>\
                                        <h4 class="text-center">'+ menu_price + '</h4>\
                                    </td>\
                                </div>\
                            </div>\
                            <div class="row">'+ ul + '</div>\
                        </tr>';
                forms_list.push(forms_txt);
            }

            real_forms = forms_list[0];

            for (var i = 1; i < forms_list.length; i++) {
                real_forms += forms_list[i];
            }

            forms.innerHTML = real_forms;

            total_price = 0;
            for (var i = 0; i < price_list.length; i++) {
                total_price += price_list[i];
            }
            total_real.innerHTML = total_price + ' Ïõê';

            scroll_tb.scrollTop = scroll_tb.scrollHeight;
            var audio4 = await tts(before_list[before_list.length - 1][0]/* menu_list[menu_list.length - 1] */ + "\nÎ©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÏÖ®ÏäµÎãàÎã§!");


            menu_cnt += 1;

            //Ìï®Ïàò ÎÅù
            console.log("reorder Ìï®Ïàò ÎÅù Ï§Ñ");
        }











































    </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>




</body>

</html>